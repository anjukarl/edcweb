"use strict";var TY=Object.defineProperty,xY=Object.defineProperties,MY=Object.getOwnPropertyDescriptors,q2=Object.getOwnPropertySymbols,SY=Object.prototype.hasOwnProperty,IY=Object.prototype.propertyIsEnumerable,G2=(Xe,ye,P)=>ye in Xe?TY(Xe,ye,{enumerable:!0,configurable:!0,writable:!0,value:P}):Xe[ye]=P,z2=(Xe,ye)=>{for(var P in ye||(ye={}))SY.call(ye,P)&&G2(Xe,P,ye[P]);if(q2)for(var P of q2(ye))IY.call(ye,P)&&G2(Xe,P,ye[P]);return Xe},$2=(Xe,ye)=>xY(Xe,MY(ye));(self.webpackChunkedcweb=self.webpackChunkedcweb||[]).push([[179],{2011:(Xe,ye,P)=>{P.d(ye,{Dh:()=>ue,GT:()=>ve,cc:()=>Ee,hO:()=>Ge,on:()=>q,pX:()=>ce,xv:()=>fe});var s=P(5e3),X=P(127),F=P(5813);Xe=P.hmd(Xe);const le=["ngOnDestroy"],ce=(ge,Re,qe,Le={})=>new Proxy(ge,{get:(et,Se)=>qe.runOutsideAngular(()=>{var it;if(ge[Se])return(null===(it=null==Le?void 0:Le.spy)||void 0===it?void 0:it.get)&&Le.spy.get(Se,ge[Se]),ge[Se];if(le.indexOf(Se)>-1)return()=>{};const We=Re.toPromise().then(we=>{const z=we&&we[Se];return"function"==typeof z?z.bind(we):z&&z.then?z.then(ne=>qe.run(()=>ne)):qe.run(()=>z)});return new Proxy(()=>{},{get:(we,z)=>We[z],apply:(we,z,ne)=>We.then(he=>{var _e;const ke=he&&he(...ne);return(null===(_e=null==Le?void 0:Le.spy)||void 0===_e?void 0:_e.apply)&&Le.spy.apply(Se,ne,ke),ke})})})}),ve=(ge,Re)=>{Re.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Le=>{Object.defineProperty(ge.prototype,Le,Object.getOwnPropertyDescriptor(qe.prototype||qe,Le))})})};class te{constructor(Re){return Re}}const ue=new s.OlP("angularfire2.app.options"),fe=new s.OlP("angularfire2.app.name");function q(ge,Re,qe){const et="object"==typeof qe&&qe||{};et.name=et.name||"string"==typeof qe&&qe||"[DEFAULT]";const it=X.Z.apps.filter(We=>We&&We.name===et.name)[0]||Re.runOutsideAngular(()=>X.Z.initializeApp(ge,et));try{JSON.stringify(ge)!==JSON.stringify(it.options)&&W("error",`${it.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(We){}return new te(it)}const W=(ge,...Re)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[ge](...Re)},re={provide:te,useFactory:q,deps:[ue,s.R0b,[new s.FiY,fe]]};let Ge=(()=>{class ge{constructor(qe){X.Z.registerVersion("angularfire",F.q4.full,"core"),X.Z.registerVersion("angularfire",F.q4.full,"app-compat"),X.Z.registerVersion("angular",s.q4F.full,qe.toString())}static initializeApp(qe,Le){return{ngModule:ge,providers:[{provide:ue,useValue:qe},{provide:fe,useValue:Le}]}}}return ge.\u0275fac=function(qe){return new(qe||ge)(s.LFG(s.Lbi))},ge.\u0275mod=s.oAB({type:ge}),ge.\u0275inj=s.cJS({providers:[re]}),ge})();function Ee(ge,Re,qe,Le,et){const[,Se,it]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===ge)||[];if(Se)return function Oe(ge,Re){try{return ge.toString()===Re.toString()}catch(qe){return ge===Re}}(et,it)||(pe("error",`${Re} was already initialized on the ${qe} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:et,was:it})),Se;{const We=Le();return globalThis.\u0275AngularfireInstanceCache.push([ge,We,et]),We}}const Ze=!!Xe.hot,pe=(ge,...Re)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[ge](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Xe,ye,P)=>{P.d(ye,{q4:()=>Uh,iC:()=>Za,fc:()=>Ic,HU:()=>Ol,vb:()=>ja,JM:()=>Qo});var s=P(5e3),X=P(5867),F=P(5861),le=P(9681),ce=P(2090),ve=P(4859),te=P(1877),ue=P(8766);const fe="@firebase/installations",q="0.5.12",re=`w:${q}`,Ge="FIS_v2",Re=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qe(T){return T instanceof ce.ZR&&T.code.includes("request-failed")}function Le({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function et(T){return{token:T.token,requestStatus:2,expiresIn:he(T.expiresIn),creationTime:Date.now()}}function Se(T,M){return it.apply(this,arguments)}function it(){return(it=(0,F.Z)(function*(T,M){const V=(yield M.json()).error;return Re.create("request-failed",{requestName:T,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function We({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function we(T,{refreshToken:M}){const R=We(T);return R.append("Authorization",function _e(T){return`${Ge} ${T}`}(M)),R}function z(T){return ne.apply(this,arguments)}function ne(){return(ne=(0,F.Z)(function*(T){const M=yield T();return M.status>=500&&M.status<600?T():M})).apply(this,arguments)}function he(T){return Number(T.replace("s","000"))}function ke(T,M){return oe.apply(this,arguments)}function oe(){return(oe=(0,F.Z)(function*({appConfig:T,heartbeatServiceProvider:M},{fid:R}){const V=Le(T),K=We(T),ae=M.getImmediate({optional:!0});if(ae){const ft=yield ae.getHeartbeatsHeader();ft&&K.append("x-firebase-client",ft)}const Be={method:"POST",headers:K,body:JSON.stringify({fid:R,authVersion:Ge,appId:T.appId,sdkVersion:re})},ht=yield z(()=>fetch(V,Be));if(ht.ok){const ft=yield ht.json();return{fid:ft.fid||R,registrationStatus:2,refreshToken:ft.refreshToken,authToken:et(ft.authToken)}}throw yield Se("Create Installation",ht)})).apply(this,arguments)}function bt(T){return new Promise(M=>{setTimeout(M,T)})}const Fn=/^[cdef][\w-]{21}$/;function xt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const R=function Nn(T){return function Bt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Fn.test(R)?R:""}catch(T){return""}}function ln(T){return`${T.appName}!${T.appId}`}const Ii=new Map;function yn(T,M){const R=ln(T);pi(R,M),function fo(T,M){const R=function en(){return!Ji&&"BroadcastChannel"in self&&(Ji=new BroadcastChannel("[Firebase] FID Change"),Ji.onmessage=T=>{pi(T.data.key,T.data.fid)}),Ji}();R&&R.postMessage({key:T,fid:M}),function qn(){0===Ii.size&&Ji&&(Ji.close(),Ji=null)}()}(R,M)}function pi(T,M){const R=Ii.get(T);if(R)for(const V of R)V(M)}let Ji=null;const Hi="firebase-installations-store";let Pe=null;function ut(){return Pe||(Pe=(0,ue.X3)("firebase-installations-database",1,{upgrade:(T,M)=>{0===M&&T.createObjectStore(Hi)}})),Pe}function Gn(T,M){return zn.apply(this,arguments)}function zn(){return(zn=(0,F.Z)(function*(T,M){const R=ln(T),K=(yield ut()).transaction(Hi,"readwrite"),ae=K.objectStore(Hi),Ce=yield ae.get(R);return yield ae.put(M,R),yield K.done,(!Ce||Ce.fid!==M.fid)&&yn(T,M.fid),M})).apply(this,arguments)}function cn(T){return ls.apply(this,arguments)}function ls(){return(ls=(0,F.Z)(function*(T){const M=ln(T),V=(yield ut()).transaction(Hi,"readwrite");yield V.objectStore(Hi).delete(M),yield V.done})).apply(this,arguments)}function Lo(T,M){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,F.Z)(function*(T,M){const R=ln(T),K=(yield ut()).transaction(Hi,"readwrite"),ae=K.objectStore(Hi),Ce=yield ae.get(R),Be=M(Ce);return void 0===Be?yield ae.delete(R):yield ae.put(Be,R),yield K.done,Be&&(!Ce||Ce.fid!==Be.fid)&&yn(T,Be.fid),Be})).apply(this,arguments)}function Ln(T){return xr.apply(this,arguments)}function xr(){return(xr=(0,F.Z)(function*(T){let M;const R=yield Lo(T.appConfig,V=>{const K=ac(V),ae=tn(T,K);return M=ae.registrationPromise,ae.installationEntry});return""===R.fid?{installationEntry:yield M}:{installationEntry:R,registrationPromise:M}})).apply(this,arguments)}function ac(T){return vn(T||{fid:xt(),registrationStatus:0})}function tn(T,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(Re.create("app-offline"))};const R={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},V=function ct(T,M){return wt.apply(this,arguments)}(T,R);return{installationEntry:R,registrationPromise:V}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:po(T)}:{installationEntry:M}}function wt(){return(wt=(0,F.Z)(function*(T,M){try{const R=yield ke(T,M);return Gn(T.appConfig,R)}catch(R){throw qe(R)&&409===R.customData.serverCode?yield cn(T.appConfig):yield Gn(T.appConfig,{fid:M.fid,registrationStatus:0}),R}})).apply(this,arguments)}function po(T){return cs.apply(this,arguments)}function cs(){return(cs=(0,F.Z)(function*(T){let M=yield zt(T.appConfig);for(;1===M.registrationStatus;)yield bt(100),M=yield zt(T.appConfig);if(0===M.registrationStatus){const{installationEntry:R,registrationPromise:V}=yield Ln(T);return V||R}return M})).apply(this,arguments)}function zt(T){return Lo(T,M=>{if(!M)throw Re.create("installation-not-found");return vn(M)})}function vn(T){return function Jt(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Mr(T,M){return mt.apply(this,arguments)}function mt(){return(mt=(0,F.Z)(function*({appConfig:T,heartbeatServiceProvider:M},R){const V=us(T,R),K=we(T,R),ae=M.getImmediate({optional:!0});if(ae){const ft=yield ae.getHeartbeatsHeader();ft&&K.append("x-firebase-client",ft)}const Be={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:re,appId:T.appId}})},ht=yield z(()=>fetch(V,Be));if(ht.ok)return et(yield ht.json());throw yield Se("Generate Auth Token",ht)})).apply(this,arguments)}function us(T,{fid:M}){return`${Le(T)}/${M}/authTokens:generate`}function j(T){return $.apply(this,arguments)}function $(){return($=(0,F.Z)(function*(T,M=!1){let R;const V=yield Lo(T.appConfig,ae=>{if(!Ct(ae))throw Re.create("not-registered");const Ce=ae.authToken;if(!M&&nn(Ce))return ae;if(1===Ce.requestStatus)return R=U(T,M),ae;{if(!navigator.onLine)throw Re.create("app-offline");const Be=cr(ae);return R=Ae(T,Be),Be}});return R?yield R:V.authToken})).apply(this,arguments)}function U(T,M){return Z.apply(this,arguments)}function Z(){return(Z=(0,F.Z)(function*(T,M){let R=yield Y(T.appConfig);for(;1===R.authToken.requestStatus;)yield bt(100),R=yield Y(T.appConfig);const V=R.authToken;return 0===V.requestStatus?j(T,M):V})).apply(this,arguments)}function Y(T){return Lo(T,M=>{if(!Ct(M))throw Re.create("not-registered");return function Ut(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function Ae(T,M){return ze.apply(this,arguments)}function ze(){return(ze=(0,F.Z)(function*(T,M){try{const R=yield Mr(T,M),V=Object.assign(Object.assign({},M),{authToken:R});return yield Gn(T.appConfig,V),R}catch(R){if(!qe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const V=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield Gn(T.appConfig,V)}else yield cn(T.appConfig);throw R}})).apply(this,arguments)}function Ct(T){return void 0!==T&&2===T.registrationStatus}function nn(T){return 2===T.requestStatus&&!function fn(T){const M=Date.now();return M<T.creationTime||T.creationTime+T.expiresIn<M+36e5}(T)}function cr(T){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:M})}function Bs(){return(Bs=(0,F.Z)(function*(T){const M=T,{installationEntry:R,registrationPromise:V}=yield Ln(M);return V?V.catch(console.error):j(M).catch(console.error),R.fid})).apply(this,arguments)}function ba(){return(ba=(0,F.Z)(function*(T,M=!1){const R=T;return yield Jn(R),(yield j(R,M)).token})).apply(this,arguments)}function Jn(T){return hs.apply(this,arguments)}function hs(){return(hs=(0,F.Z)(function*(T){const{registrationPromise:M}=yield Ln(T);M&&(yield M)})).apply(this,arguments)}function Vo(T){return Re.create("missing-app-config-values",{valueName:T})}const ur="installations",Lt=T=>{const M=T.getProvider("app").getImmediate(),R=function ki(T){if(!T||!T.options)throw Vo("App Configuration");if(!T.name)throw Vo("App Name");const M=["projectId","apiKey","appId"];for(const R of M)if(!T.options[R])throw Vo(R);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(M);return{app:M,appConfig:R,heartbeatServiceProvider:(0,le._getProvider)(M,"heartbeat"),_delete:()=>Promise.resolve()}},un=T=>{const M=T.getProvider("app").getImmediate(),R=(0,le._getProvider)(M,ur).getImmediate();return{getId:()=>function ds(T){return Bs.apply(this,arguments)}(R),getToken:K=>function va(T){return ba.apply(this,arguments)}(R,K)}};(function wi(){(0,le._registerComponent)(new ve.wA(ur,Lt,"PUBLIC")),(0,le._registerComponent)(new ve.wA("installations-internal",un,"PRIVATE"))})(),(0,le.registerVersion)(fe,q),(0,le.registerVersion)(fe,q,"esm2017");const Ri="@firebase/remote-config",Tn=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Rg{constructor(M,R,V,K){this.client=M,this.storage=R,this.storageCache=V,this.logger=K}isCachedDataFresh(M,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-R,K=V<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${K}.`),K}fetch(M){var R=this;return(0,F.Z)(function*(){const[V,K]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(K&&R.isCachedDataFresh(M.cacheMaxAgeMillis,V))return K;M.eTag=K&&K.eTag;const ae=yield R.client.fetch(M),Ce=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&Ce.push(R.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(Ce),ae})()}}function sp(T=navigator){return T.languages&&T.languages[0]||T.language}class Hr{constructor(M,R,V,K,ae,Ce){this.firebaseInstallations=M,this.sdkVersion=R,this.namespace=V,this.projectId=K,this.apiKey=ae,this.appId=Ce}fetch(M){var R=this;return(0,F.Z)(function*(){var V,K,ae;const[Ce,Be]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,At={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},pt={sdk_version:R.sdkVersion,app_instance_id:Ce,app_instance_id_token:Be,app_id:R.appId,language_code:sp()},Zn={method:"POST",headers:At,body:JSON.stringify(pt)},Ei=fetch(ft,Zn),zr=new Promise((Xo,Es)=>{M.signal.addEventListener(()=>{const kc=new Error("The operation was aborted.");kc.name="AbortError",Es(kc)})});let qa;try{yield Promise.race([Ei,zr]),qa=yield Ei}catch(Xo){let Es="fetch-client-network";throw"AbortError"===(null===(V=Xo)||void 0===V?void 0:V.name)&&(Es="fetch-timeout"),Tn.create(Es,{originalErrorMessage:null===(K=Xo)||void 0===K?void 0:K.message})}let ko=qa.status;const Ws=qa.headers.get("ETag")||void 0;let $r,Jo;if(200===qa.status){let Xo;try{Xo=yield qa.json()}catch(Es){throw Tn.create("fetch-client-parse",{originalErrorMessage:null===(ae=Es)||void 0===ae?void 0:ae.message})}$r=Xo.entries,Jo=Xo.state}if("INSTANCE_STATE_UNSPECIFIED"===Jo?ko=500:"NO_CHANGE"===Jo?ko=304:("NO_TEMPLATE"===Jo||"EMPTY_CONFIG"===Jo)&&($r={}),304!==ko&&200!==ko)throw Tn.create("fetch-status",{httpStatus:ko});return{status:ko,eTag:Ws,config:$r}})()}}class _l{constructor(M,R){this.client=M,this.storage=R}fetch(M){var R=this;return(0,F.Z)(function*(){const V=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(M,V)})()}attemptFetch(M,{throttleEndTimeMillis:R,backoffCount:V}){var K=this;return(0,F.Z)(function*(){yield function op(T,M){return new Promise((R,V)=>{const K=Math.max(M-Date.now(),0),ae=setTimeout(R,K);T.addEventListener(()=>{clearTimeout(ae),V(Tn.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,R);try{const ae=yield K.client.fetch(M);return yield K.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function Og(T){if(!(T instanceof ce.ZR&&T.customData))return!1;const M=Number(T.customData.httpStatus);return 429===M||500===M||503===M||504===M}(ae))throw ae;const Ce={throttleEndTimeMillis:Date.now()+(0,ce.$s)(V),backoffCount:V+1};return yield K.storage.setThrottleMetadata(Ce),K.attemptFetch(M,Ce)}})()}}class lp{constructor(M,R,V,K,ae){this.app=M,this._client=R,this._storageCache=V,this._storage=K,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yl(T,M){var R;const V=T.target.error||void 0;return Tn.create(M,{originalErrorMessage:V&&(null===(R=V)||void 0===R?void 0:R.message)})}const Da="app_namespace_store";class Mu{constructor(M,R,V,K=function ph(){return new Promise((T,M)=>{var R;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=K=>{M(yl(K,"storage-open"))},V.onsuccess=K=>{T(K.target.result)},V.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(Da,{keyPath:"compositeKey"})}}catch(V){M(Tn.create("storage-open",{originalErrorMessage:null===(R=V)||void 0===R?void 0:R.message}))}})}()){this.appId=M,this.appName=R,this.namespace=V,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var R=this;return(0,F.Z)(function*(){const V=yield R.openDbPromise;return new Promise((K,ae)=>{var Ce;const ht=V.transaction([Da],"readonly").objectStore(Da),ft=R.createCompositeKey(M);try{const At=ht.get(ft);At.onerror=pt=>{ae(yl(pt,"storage-get"))},At.onsuccess=pt=>{const Zn=pt.target.result;K(Zn?Zn.value:void 0)}}catch(At){ae(Tn.create("storage-get",{originalErrorMessage:null===(Ce=At)||void 0===Ce?void 0:Ce.message}))}})})()}set(M,R){var V=this;return(0,F.Z)(function*(){const K=yield V.openDbPromise;return new Promise((ae,Ce)=>{var Be;const ft=K.transaction([Da],"readwrite").objectStore(Da),At=V.createCompositeKey(M);try{const pt=ft.put({compositeKey:At,value:R});pt.onerror=Zn=>{Ce(yl(Zn,"storage-set"))},pt.onsuccess=()=>{ae()}}catch(pt){Ce(Tn.create("storage-set",{originalErrorMessage:null===(Be=pt)||void 0===Be?void 0:Be.message}))}})})()}delete(M){var R=this;return(0,F.Z)(function*(){const V=yield R.openDbPromise;return new Promise((K,ae)=>{var Ce;const ht=V.transaction([Da],"readwrite").objectStore(Da),ft=R.createCompositeKey(M);try{const At=ht.delete(ft);At.onerror=pt=>{ae(yl(pt,"storage-delete"))},At.onsuccess=()=>{K()}}catch(At){ae(Tn.create("storage-delete",{originalErrorMessage:null===(Ce=At)||void 0===Ce?void 0:Ce.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class mh{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,F.Z)(function*(){const R=M.storage.getLastFetchStatus(),V=M.storage.getLastSuccessfulFetchTimestampMillis(),K=M.storage.getActiveConfig(),ae=yield R;ae&&(M.lastFetchStatus=ae);const Ce=yield V;Ce&&(M.lastSuccessfulFetchTimestampMillis=Ce);const Be=yield K;Be&&(M.activeConfig=Be)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function gh(){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,F.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(T){return!1}})).apply(this,arguments)}!function Fg(){(0,le._registerComponent)(new ve.wA("remote-config",function T(M,{instanceIdentifier:R}){const V=M.getProvider("app").getImmediate(),K=M.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Tn.create("registration-window");if(!(0,ce.hl)())throw Tn.create("indexed-db-unavailable");const{projectId:ae,apiKey:Ce,appId:Be}=V.options;if(!ae)throw Tn.create("registration-project-id");if(!Ce)throw Tn.create("registration-api-key");if(!Be)throw Tn.create("registration-app-id");const ht=new Mu(Be,V.name,R=R||"firebase"),ft=new mh(ht),At=new te.Yd(Ri);At.logLevel=te.in.ERROR;const pt=new Hr(K,le.SDK_VERSION,R,ae,Ce,Be),Zn=new _l(pt,ht),Ei=new Rg(Zn,ht,ft,At),zr=new lp(V,Ei,ft,ht,At);return function bn(T){const M=(0,ce.m9)(T);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(zr),zr},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Ri,"0.3.11"),(0,le.registerVersion)(Ri,"0.3.11","esm2017")}();const _h="/firebase-messaging-sw.js",Uo="/firebase-cloud-messaging-push-scope",uc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ho="google.c.a.c_id",cp="google.c.a.c_l",yh="google.c.a.ts",oi="google.c.a.e";var vo=(()=>{return(T=vo||(vo={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",vo;var T})();function jr(T){const M=new Uint8Array(T);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ps(T){const R=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(R),K=new Uint8Array(V.length);for(let ae=0;ae<V.length;++ae)K[ae]=V.charCodeAt(ae);return K}const Xi="fcm_token_details_db",vh="fcm_token_object_Store";function dc(T){return bh.apply(this,arguments)}function bh(){return bh=(0,F.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(Xi))return null;let M=null;return(yield(0,ue.X3)(Xi,5,{upgrade:(V=(0,F.Z)(function*(K,ae,Ce,Be){var ht;if(ae<2||!K.objectStoreNames.contains(vh))return;const ft=Be.objectStore(vh),At=yield ft.index("fcmSenderId").get(T);if(yield ft.clear(),At)if(2===ae){const pt=At;if(!pt.auth||!pt.p256dh||!pt.endpoint)return;M={token:pt.fcmToken,createTime:null!==(ht=pt.createTime)&&void 0!==ht?ht:Date.now(),subscriptionOptions:{auth:pt.auth,p256dh:pt.p256dh,endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:"string"==typeof pt.vapidKey?pt.vapidKey:jr(pt.vapidKey)}}}else if(3===ae){const pt=At;M={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:jr(pt.auth),p256dh:jr(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:jr(pt.vapidKey)}}}else if(4===ae){const pt=At;M={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:jr(pt.auth),p256dh:jr(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:jr(pt.vapidKey)}}}}),function(ae,Ce,Be,ht){return V.apply(this,arguments)})})).close(),yield(0,ue.Lj)(Xi),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),Cl(M)?M:null;var V}),bh.apply(this,arguments)}function Cl(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:M}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const ms="firebase-messaging-store";let bo=null;function Vn(){return bo||(bo=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(T,M)=>{0===M&&T.createObjectStore(ms)}})),bo}function wh(T){return wo.apply(this,arguments)}function wo(){return(wo=(0,F.Z)(function*(T){const M=er(T),V=yield(yield Vn()).transaction(ms).objectStore(ms).get(M);if(V)return V;{const K=yield dc(T.appConfig.senderId);if(K)return yield js(T,K),K}})).apply(this,arguments)}function js(T,M){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,F.Z)(function*(T,M){const R=er(T),K=(yield Vn()).transaction(ms,"readwrite");return yield K.objectStore(ms).put(M,R),yield K.done,M})).apply(this,arguments)}function Ir(T){return gs.apply(this,arguments)}function gs(){return(gs=(0,F.Z)(function*(T){const M=er(T),V=(yield Vn()).transaction(ms,"readwrite");yield V.objectStore(ms).delete(M),yield V.done})).apply(this,arguments)}function er({appConfig:T}){return T.appId}const ai=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ea(T,M){return Au.apply(this,arguments)}function Au(){return(Au=(0,F.Z)(function*(T,M){var R;const V=yield Ta(T),K=Dl(M),ae={method:"POST",headers:V,body:JSON.stringify(K)};let Ce;try{Ce=yield(yield fetch(Zo(T.appConfig),ae)).json()}catch(Be){throw ai.create("token-subscribe-failed",{errorInfo:null===(R=Be)||void 0===R?void 0:R.toString()})}if(Ce.error)throw ai.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw ai.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function Pi(T,M){return jo.apply(this,arguments)}function jo(){return(jo=(0,F.Z)(function*(T,M){var R;const V=yield Ta(T),K=Dl(M.subscriptionOptions),ae={method:"PATCH",headers:V,body:JSON.stringify(K)};let Ce;try{Ce=yield(yield fetch(`${Zo(T.appConfig)}/${M.token}`,ae)).json()}catch(Be){throw ai.create("token-update-failed",{errorInfo:null===(R=Be)||void 0===R?void 0:R.toString()})}if(Ce.error)throw ai.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw ai.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function Co(T,M){return vt.apply(this,arguments)}function vt(){return(vt=(0,F.Z)(function*(T,M){var R;const K={method:"DELETE",headers:yield Ta(T)};try{const Ce=yield(yield fetch(`${Zo(T.appConfig)}/${M}`,K)).json();if(Ce.error)throw ai.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(ae){throw ai.create("token-unsubscribe-failed",{errorInfo:null===(R=ae)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function Zo({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Ta(T){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,F.Z)(function*({appConfig:T,installations:M}){const R=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Dl({p256dh:T,auth:M,endpoint:R,vapidKey:V}){const K={web:{endpoint:R,auth:M,p256dh:T}};return V!==uc&&(K.web.applicationPubKey=V),K}const ku=6048e5;function hc(T){return xa.apply(this,arguments)}function xa(){return(xa=(0,F.Z)(function*(T){const M=yield Ni(T.swRegistration,T.vapidKey),R={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:M.endpoint,auth:jr(M.getKey("auth")),p256dh:jr(M.getKey("p256dh"))},V=yield wh(T.firebaseDependencies);if(V){if(fc(V.subscriptionOptions,R))return Date.now()>=V.createTime+ku?Ch(T,{token:V.token,createTime:Date.now(),subscriptionOptions:R}):V.token;try{yield Co(T.firebaseDependencies,V.token)}catch(K){console.warn(K)}return Ma(T.firebaseDependencies,R)}return Ma(T.firebaseDependencies,R)})).apply(this,arguments)}function Te(T){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,F.Z)(function*(T){const M=yield wh(T.firebaseDependencies);M&&(yield Co(T.firebaseDependencies,M.token),yield Ir(T.firebaseDependencies));const R=yield T.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Ch(T,M){return wn.apply(this,arguments)}function wn(){return(wn=(0,F.Z)(function*(T,M){try{const R=yield Pi(T.firebaseDependencies,M),V=Object.assign(Object.assign({},M),{token:R,createTime:Date.now()});return yield js(T.firebaseDependencies,V),R}catch(R){throw yield Te(T),R}})).apply(this,arguments)}function Ma(T,M){return Do.apply(this,arguments)}function Do(){return(Do=(0,F.Z)(function*(T,M){const V={token:yield Ea(T,M),createTime:Date.now(),subscriptionOptions:M};return yield js(T,V),V.token})).apply(this,arguments)}function Ni(T,M){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,F.Z)(function*(T,M){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ps(M)})})).apply(this,arguments)}function fc(T,M){return M.vapidKey===T.vapidKey&&M.endpoint===T.endpoint&&M.auth===T.auth&&M.p256dh===T.p256dh}function pc(T){const M={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Dh(T,M){if(!M.notification)return;T.notification={};const R=M.notification.title;R&&(T.notification.title=R);const V=M.notification.body;V&&(T.notification.body=V);const K=M.notification.image;K&&(T.notification.image=K)}(M,T),function Sa(T,M){!M.data||(T.data=M.data)}(M,T),function qo(T,M){var R,V,K,ae,Ce;if(!M.fcmOptions&&!(null===(R=M.notification)||void 0===R?void 0:R.click_action))return;T.fcmOptions={};const Be=null!==(K=null===(V=M.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==K?K:null===(ae=M.notification)||void 0===ae?void 0:ae.click_action;Be&&(T.fcmOptions.link=Be);const ht=null===(Ce=M.fcmOptions)||void 0===Ce?void 0:Ce.analytics_label;ht&&(T.fcmOptions.analyticsLabel=ht)}(M,T),M}function gi(T){return"object"==typeof T&&!!T&&Ho in T}function Zr(T,M){const R=[];for(let V=0;V<T.length;V++)R.push(T.charAt(V)),V<M.length&&R.push(M.charAt(V));return R.join("")}function _s(T){return ai.create("missing-app-config-values",{valueName:T})}Zr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qr{constructor(M,R,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function mc(T){if(!T||!T.options)throw _s("App Configuration Object");if(!T.name)throw _s("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:R}=T;for(const V of M)if(!R[V])throw _s(V);return{appName:T.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:K,installations:R,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Eh(T){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,F.Z)(function*(T){var M;try{T.swRegistration=yield navigator.serviceWorker.register(_h,{scope:Uo}),T.swRegistration.update().catch(()=>{})}catch(R){throw ai.create("failed-service-worker-registration",{browserErrorMessage:null===(M=R)||void 0===M?void 0:M.message})}})).apply(this,arguments)}function up(T,M){return El.apply(this,arguments)}function El(){return(El=(0,F.Z)(function*(T,M){if(!M&&!T.swRegistration&&(yield Eh(T)),M||!T.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw ai.create("invalid-sw-registration");T.swRegistration=M}})).apply(this,arguments)}function Aa(T,M){return Go.apply(this,arguments)}function Go(){return(Go=(0,F.Z)(function*(T,M){M?T.vapidKey=M:T.vapidKey||(T.vapidKey=uc)})).apply(this,arguments)}function Tl(){return(Tl=(0,F.Z)(function*(T,M){if(!navigator)throw ai.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ai.create("permission-blocked");return yield Aa(T,null==M?void 0:M.vapidKey),yield up(T,null==M?void 0:M.serviceWorkerRegistration),hc(T)})).apply(this,arguments)}function gc(T,M,R){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,F.Z)(function*(T,M,R){const V=Ra(M);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:R[Ho],message_name:R[cp],message_time:R[yh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ra(T){switch(T){case vo.NOTIFICATION_CLICKED:return"notification_open";case vo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function xl(){return(xl=(0,F.Z)(function*(T,M){const R=M.data;if(!R.isFirebaseMessaging)return;T.onMessageHandler&&R.messageType===vo.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(pc(R)):T.onMessageHandler.next(pc(R)));const V=R.data;gi(V)&&"1"===V[oi]&&(yield gc(T,R.messageType,V))})).apply(this,arguments)}const _c="@firebase/messaging",yc=T=>{const M=new qr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function dp(T,M){return xl.apply(this,arguments)}(M,R)),M},Th=T=>{const M=T.getProvider("messaging").getImmediate();return{getToken:V=>function ka(T,M){return Tl.apply(this,arguments)}(M,V)}};function li(){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,F.Z)(function*(){try{yield(0,ce.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Lg(){(0,le._registerComponent)(new ve.wA("messaging",yc,"PUBLIC")),(0,le._registerComponent)(new ve.wA("messaging-internal",Th,"PRIVATE")),(0,le.registerVersion)(_c,"0.9.16"),(0,le.registerVersion)(_c,"0.9.16","esm2017")}();const Eo="analytics",vc="firebase_id",Sh="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qs="https://www.googletagmanager.com/gtag/js",Un=new te.Yd("@firebase/analytics");function mp(T){return Promise.all(T.map(M=>M.catch(R=>R)))}function Ih(T,M){const R=document.createElement("script");R.src=`${qs}?l=${T}&id=${M}`,R.async=!0,document.head.appendChild(R)}function Ah(T,M,R,V,K,ae){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,F.Z)(function*(T,M,R,V,K,ae){const Ce=V[K];try{if(Ce)yield M[Ce];else{const ht=(yield mp(R)).find(ft=>ft.measurementId===K);ht&&(yield M[ht.appId])}}catch(Be){Un.error(Be)}T("config",K,ae)})).apply(this,arguments)}function Pa(T,M,R,V,K){return kh.apply(this,arguments)}function kh(){return(kh=(0,F.Z)(function*(T,M,R,V,K){try{let ae=[];if(K&&K.send_to){let Ce=K.send_to;Array.isArray(Ce)||(Ce=[Ce]);const Be=yield mp(R);for(const ht of Ce){const ft=Be.find(pt=>pt.measurementId===ht),At=ft&&M[ft.appId];if(!At){ae=[];break}ae.push(At)}}0===ae.length&&(ae=Object.values(M)),yield Promise.all(ae),T("event",V,K||{})}catch(ae){Un.error(ae)}})).apply(this,arguments)}function dn(){const T=window.document.getElementsByTagName("script");for(const M of Object.values(T))if(M.src&&M.src.includes(qs))return M;return null}const Li=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ph=new class Sl{constructor(M={},R=1e3){this.throttleMetadata=M,this.intervalMillis=R}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,R){this.throttleMetadata[M]=R}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function Il(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function To(T){return ys.apply(this,arguments)}function ys(){return(ys=(0,F.Z)(function*(T){var M;const{appId:R,apiKey:V}=T,K={method:"GET",headers:Il(V)},ae=Sh.replace("{app-id}",R),Ce=yield fetch(ae,K);if(200!==Ce.status&&304!==Ce.status){let Be="";try{const ht=yield Ce.json();(null===(M=ht.error)||void 0===M?void 0:M.message)&&(Be=ht.error.message)}catch(ht){}throw Li.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:Be})}return Ce.json()})).apply(this,arguments)}function Di(T){return Je.apply(this,arguments)}function Je(){return(Je=(0,F.Z)(function*(T,M=Ph,R){const{appId:V,apiKey:K,measurementId:ae}=T.options;if(!V)throw Li.create("no-app-id");if(!K){if(ae)return{measurementId:ae,appId:V};throw Li.create("no-api-key")}const Ce=M.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new Dc;return setTimeout((0,F.Z)(function*(){Be.abort()}),void 0!==R?R:6e4),Fh({appId:V,apiKey:K,measurementId:ae},Ce,Be,M)})).apply(this,arguments)}function Fh(T,M,R){return Al.apply(this,arguments)}function Al(){return(Al=(0,F.Z)(function*(T,{throttleEndTimeMillis:M,backoffCount:R},V,K=Ph){var ae,Ce;const{appId:Be,measurementId:ht}=T;try{yield Gs(V,M)}catch(ft){if(ht)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ht} provided in the "measurementId" field in the local Firebase config. [${null===(ae=ft)||void 0===ae?void 0:ae.message}]`),{appId:Be,measurementId:ht};throw ft}try{const ft=yield To(T);return K.deleteThrottleMetadata(Be),ft}catch(ft){const At=ft;if(!xo(At)){if(K.deleteThrottleMetadata(Be),ht)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ht} provided in the "measurementId" field in the local Firebase config. [${null==At?void 0:At.message}]`),{appId:Be,measurementId:ht};throw ft}const pt=503===Number(null===(Ce=null==At?void 0:At.customData)||void 0===Ce?void 0:Ce.httpStatus)?(0,ce.$s)(R,K.intervalMillis,30):(0,ce.$s)(R,K.intervalMillis),Zn={throttleEndTimeMillis:Date.now()+pt,backoffCount:R+1};return K.setThrottleMetadata(Be,Zn),Un.debug(`Calling attemptFetch again in ${pt} millis`),Fh(T,Zn,V,K)}})).apply(this,arguments)}function Gs(T,M){return new Promise((R,V)=>{const K=Math.max(M-Date.now(),0),ae=setTimeout(R,K);T.addEventListener(()=>{clearTimeout(ae),V(Li.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function xo(T){if(!(T instanceof ce.ZR&&T.customData))return!1;const M=Number(T.customData.httpStatus);return 429===M||500===M||503===M||504===M}class Dc{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}let Na,xn;function ci(){return(ci=(0,F.Z)(function*(T,M,R,V,K){if(K&&K.global)T("event",R,V);else{const ae=yield M;T("event",R,Object.assign(Object.assign({},V),{send_to:ae}))}})).apply(this,arguments)}function Ar(T){xn=T}function Lh(T){Na=T}function ir(){return zs.apply(this,arguments)}function zs(){return(zs=(0,F.Z)(function*(){var T;if(!(0,ce.hl)())return Un.warn(Li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(M){return Un.warn(Li.create("indexeddb-unavailable",{errorInfo:null===(T=M)||void 0===T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function bs(){return(bs=(0,F.Z)(function*(T,M,R,V,K,ae,Ce){var Be;const ht=Di(T);ht.then(Ei=>{R[Ei.measurementId]=Ei.appId,T.options.measurementId&&Ei.measurementId!==T.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Ei.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ei=>Un.error(Ei)),M.push(ht);const ft=ir().then(Ei=>{if(Ei)return V.getId()}),[At,pt]=yield Promise.all([ht,ft]);dn()||Ih(ae,At.measurementId),xn&&(K("consent","default",xn),Ar(void 0)),K("js",new Date);const Zn=null!==(Be=null==Ce?void 0:Ce.config)&&void 0!==Be?Be:{};return Zn.origin="firebase",Zn.update=!0,null!=pt&&(Zn[vc]=pt),K("config",At.measurementId,Zn),Na&&(K("set",Na),Lh(void 0)),At.measurementId})).apply(this,arguments)}class Ec{constructor(M){this.app=M}_delete(){return delete $t[this.app.options.appId],Promise.resolve()}}let $t={},So=[];const ws={};let Io,$s,La="dataLayer",kl=!1;function Vh(T,M,R){!function Tc(){const T=[];if((0,ce.ru)()&&T.push("This is a browser extension environment."),(0,ce.zI)()||T.push("Cookies are not available."),T.length>0){const M=T.map((V,K)=>`(${K+1}) ${V}`).join(" "),R=Li.create("invalid-analytics-context",{errorInfo:M});Un.warn(R.message)}}();const V=T.options.appId;if(!V)throw Li.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Li.create("no-api-key");Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$t[V])throw Li.create("already-exists",{id:V});if(!kl){!function wc(T){let M=[];Array.isArray(window[T])?M=window[T]:window[T]=M}(La);const{wrappedGtag:ae,gtagCore:Ce}=function Cc(T,M,R,V,K){let ae=function(...Ce){window[V].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ae=window[K]),window[K]=function Fa(T,M,R,V){function ae(){return(ae=(0,F.Z)(function*(Ce,Be,ht){try{"event"===Ce?yield Pa(T,M,R,Be,ht):"config"===Ce?yield Ah(T,M,R,V,Be,ht):"consent"===Ce?T("consent","update",ht):T("set",Be)}catch(ft){Un.error(ft)}})).apply(this,arguments)}return function K(Ce,Be,ht){return ae.apply(this,arguments)}}(ae,T,M,R),{gtagCore:ae,wrappedGtag:window[K]}}($t,So,ws,La,"gtag");$s=ae,Io=Ce,kl=!0}return $t[V]=function Vu(T,M,R,V,K,ae,Ce){return bs.apply(this,arguments)}(T,So,ws,M,Io,La,R),new Ec(T)}function gp(){return Va.apply(this,arguments)}function Va(){return(Va=(0,F.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(T){return!1}})).apply(this,arguments)}const Bh="@firebase/analytics";!function Mn(){(0,le._registerComponent)(new ve.wA(Eo,(M,{options:R})=>Vh(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,le._registerComponent)(new ve.wA("analytics-internal",function T(M){try{const R=M.getProvider(Eo).getImmediate();return{logEvent:(V,K,ae)=>function Ua(T,M,R,V){T=(0,ce.m9)(T),function vs(T,M,R,V,K){return ci.apply(this,arguments)}($s,$t[T.app.options.appId],M,R,V).catch(K=>Un.error(K))}(R,V,K,ae)}}catch(R){throw Li.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,le.registerVersion)(Bh,"0.8.0"),(0,le.registerVersion)(Bh,"0.8.0","esm2017")}();var Bu=P(4408),Ha=P(7565);const Hu=new class kr extends Ha.v{}(class Uu extends Bu.o{constructor(M,R){super(M,R),this.scheduler=M,this.work=R}schedule(M,R=0){return R>0?super.schedule(M,R):(this.delay=R,this.state=M,this.scheduler.flush(this),this)}execute(M,R){return R>0||this.closed?super.execute(M,R):this._execute(M,R)}requestAsyncId(M,R,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(M,R,V):M.flush(this)}});var Zu=P(4986),Ug=P(8505),Ao=P(5363),hr=P(9468);const Uh=new s.GfV("7.4.1"),Ko="__angularfire_symbol__analyticsIsSupportedValue",qu="__angularfire_symbol__analyticsIsSupported",Gu="__angularfire_symbol__remoteConfigIsSupportedValue",Hh="__angularfire_symbol__remoteConfigIsSupported",jh="__angularfire_symbol__messagingIsSupportedValue",zu="__angularfire_symbol__messagingIsSupported";function Qo(T,M,R){if(M){if(1===M.length)return M[0];const ae=M.filter(Ce=>Ce.app===R);if(1===ae.length)return ae[0]}return R.container.getProvider(T).getImmediate({optional:!0})}globalThis[qu]||(globalThis[qu]=gp().then(T=>globalThis[Ko]=T).catch(()=>globalThis[Ko]=!1)),globalThis[zu]||(globalThis[zu]=li().then(T=>globalThis[jh]=T).catch(()=>globalThis[jh]=!1)),globalThis[Hh]||(globalThis[Hh]=gh().then(T=>globalThis[Gu]=T).catch(()=>globalThis[Gu]=!1));const ja=(T,M)=>{const R=M?[M]:(0,X.C6)(),V=[];return R.forEach(K=>{K.container.getProvider(T).instances.forEach(Ce=>{V.includes(Ce)||V.push(Ce)})}),V};function fr(){}class Ys{constructor(M,R=Hu){this.zone=M,this.delegate=R}now(){return this.delegate.now()}schedule(M,R,V){const K=this.zone;return this.delegate.schedule(function(Ce){K.runGuarded(()=>{M.apply(this,[Ce])})},R,V)}}class Sc{constructor(M){this.zone=M,this.task=null}call(M,R){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fr,{},fr,fr)),R.pipe((0,Ug.b)({next:V,complete:V,error:V})).subscribe(M).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ol=(()=>{class T{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Ys(Zone.current)),this.insideAngular=R.run(()=>new Ys(Zone.current,Zu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(R){return new(R||T)(s.LFG(s.R0b))},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Ds(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Ic(T){return T.pipe((0,Ao.Q)(Ds().outsideAngular))}function Za(T){return Ds(),function Pl(T){return function(R){return(R=R.lift(new Sc(T.ngZone))).pipe((0,hr.R)(T.outsideAngular),(0,Ao.Q)(T.insideAngular))}}(Ds())(T)}},2090:(Xe,ye,P)=>{P.d(ye,{$s:()=>Jt,BH:()=>Ge,G6:()=>We,L:()=>ue,LL:()=>oe,Mn:()=>Se,Sg:()=>Ee,UG:()=>pe,US:()=>ve,ZB:()=>W,ZR:()=>ke,b$:()=>qe,d:()=>Le,eu:()=>z,hl:()=>we,jU:()=>ge,m9:()=>us,ne:()=>ut,pd:()=>Hi,r3:()=>Dr,ru:()=>Re,tV:()=>fe,uI:()=>Ze,vZ:()=>Ji,w1:()=>et,xO:()=>Vs,xb:()=>pi,z$:()=>Oe,zI:()=>ne,zd:()=>Tr});const le=function(j){const $=[];let U=0;for(let Z=0;Z<j.length;Z++){let Y=j.charCodeAt(Z);Y<128?$[U++]=Y:Y<2048?($[U++]=Y>>6|192,$[U++]=63&Y|128):55296==(64512&Y)&&Z+1<j.length&&56320==(64512&j.charCodeAt(Z+1))?(Y=65536+((1023&Y)<<10)+(1023&j.charCodeAt(++Z)),$[U++]=Y>>18|240,$[U++]=Y>>12&63|128,$[U++]=Y>>6&63|128,$[U++]=63&Y|128):($[U++]=Y>>12|224,$[U++]=Y>>6&63|128,$[U++]=63&Y|128)}return $},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,$){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let Y=0;Y<j.length;Y+=3){const Ae=j[Y],ze=Y+1<j.length,Ct=ze?j[Y+1]:0,nn=Y+2<j.length,fn=nn?j[Y+2]:0;let ds=(15&Ct)<<2|fn>>6,Bs=63&fn;nn||(Bs=64,ze||(ds=64)),Z.push(U[Ae>>2],U[(3&Ae)<<4|Ct>>4],U[ds],U[Bs])}return Z.join("")},encodeString(j,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(j):this.encodeByteArray(le(j),$)},decodeString(j,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(j):function(j){const $=[];let U=0,Z=0;for(;U<j.length;){const Y=j[U++];if(Y<128)$[Z++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ae=j[U++];$[Z++]=String.fromCharCode((31&Y)<<6|63&Ae)}else if(Y>239&&Y<365){const nn=((7&Y)<<18|(63&j[U++])<<12|(63&j[U++])<<6|63&j[U++])-65536;$[Z++]=String.fromCharCode(55296+(nn>>10)),$[Z++]=String.fromCharCode(56320+(1023&nn))}else{const Ae=j[U++],ze=j[U++];$[Z++]=String.fromCharCode((15&Y)<<12|(63&Ae)<<6|63&ze)}}return $.join("")}(this.decodeStringToByteArray(j,$))},decodeStringToByteArray(j,$){this.init_();const U=$?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let Y=0;Y<j.length;){const Ae=U[j.charAt(Y++)],Ct=Y<j.length?U[j.charAt(Y)]:0;++Y;const fn=Y<j.length?U[j.charAt(Y)]:64;++Y;const Ut=Y<j.length?U[j.charAt(Y)]:64;if(++Y,null==Ae||null==Ct||null==fn||null==Ut)throw Error();Z.push(Ae<<2|Ct>>4),64!==fn&&(Z.push(Ct<<4&240|fn>>2),64!==Ut&&Z.push(fn<<6&192|Ut))}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ue=function(j){return function(j){const $=le(j);return ve.encodeByteArray($,!0)}(j).replace(/\./g,"")},fe=function(j){try{return ve.decodeString(j,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function W(j,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return $}for(const U in $)!$.hasOwnProperty(U)||!re(U)||(j[U]=W(j[U],$[U]));return j}function re(j){return"__proto__"!==j}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,U)=>{this.resolve=$,this.reject=U})}wrapCallback($){return(U,Z)=>{U?this.reject(U):this.resolve(Z),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(U):$(U,Z))}}}function Ee(j,$){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Z=$||"demo-project",Y=j.iat||0,Ae=j.sub||j.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${Z}`,aud:Z,iat:Y,exp:Y+3600,auth_time:Y,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(ze)),""].join(".")}function Oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function ge(){return"object"==typeof self&&self.self===self}function Re(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){return Oe().indexOf("Electron/")>=0}function et(){const j=Oe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Se(){return Oe().indexOf("MSAppHost/")>=0}function We(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function we(){return"object"==typeof indexedDB}function z(){return new Promise((j,$)=>{try{let U=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(Z);Y.onsuccess=()=>{Y.result.close(),U||self.indexedDB.deleteDatabase(Z),j(!0)},Y.onupgradeneeded=()=>{U=!1},Y.onerror=()=>{var Ae;$((null===(Ae=Y.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(U){$(U)}})}function ne(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ke extends Error{constructor($,U,Z){super(U),this.code=$,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor($,U,Z){this.service=$,this.serviceName=U,this.errors=Z}create($,...U){const Z=U[0]||{},Y=`${this.service}/${$}`,Ae=this.errors[$],ze=Ae?function bt(j,$){return j.replace(Bt,(U,Z)=>{const Y=$[Z];return null!=Y?String(Y):`<${Z}?>`})}(Ae,Z):"Error";return new ke(Y,`${this.serviceName}: ${ze} (${Y}).`,Z)}}const Bt=/\{\$([^}]+)}/g;function Dr(j,$){return Object.prototype.hasOwnProperty.call(j,$)}function pi(j){for(const $ in j)if(Object.prototype.hasOwnProperty.call(j,$))return!1;return!0}function Ji(j,$){if(j===$)return!0;const U=Object.keys(j),Z=Object.keys($);for(const Y of U){if(!Z.includes(Y))return!1;const Ae=j[Y],ze=$[Y];if(en(Ae)&&en(ze)){if(!Ji(Ae,ze))return!1}else if(Ae!==ze)return!1}for(const Y of Z)if(!U.includes(Y))return!1;return!0}function en(j){return null!==j&&"object"==typeof j}function Vs(j){const $=[];for(const[U,Z]of Object.entries(j))Array.isArray(Z)?Z.forEach(Y=>{$.push(encodeURIComponent(U)+"="+encodeURIComponent(Y))}):$.push(encodeURIComponent(U)+"="+encodeURIComponent(Z));return $.length?"&"+$.join("&"):""}function Tr(j){const $={};return j.replace(/^\?/,"").split("&").forEach(Z=>{if(Z){const[Y,Ae]=Z.split("=");$[decodeURIComponent(Y)]=decodeURIComponent(Ae)}}),$}function Hi(j){const $=j.indexOf("?");if(!$)return"";const U=j.indexOf("#",$);return j.substring($,U>0?U:void 0)}function ut(j,$){const U=new Gn(j,$);return U.subscribe.bind(U)}class Gn{constructor($,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{$(this)}).catch(Z=>{this.error(Z)})}next($){this.forEachObserver(U=>{U.next($)})}error($){this.forEachObserver(U=>{U.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,U,Z){let Y;if(void 0===$&&void 0===U&&void 0===Z)throw new Error("Missing Observer.");Y=function cn(j,$){if("object"!=typeof j||null===j)return!1;for(const U of $)if(U in j&&"function"==typeof j[U])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:U,complete:Z},void 0===Y.next&&(Y.next=ls),void 0===Y.error&&(Y.error=ls),void 0===Y.complete&&(Y.complete=ls);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(ze){}}),this.observers.push(Y),Ae}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,$)}sendOne($,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{U(this.observers[$])}catch(Z){"undefined"!=typeof console&&console.error&&console.error(Z)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ls(){}function Jt(j,$=1e3,U=2){const Z=$*Math.pow(U,j),Y=Math.round(.5*Z*(Math.random()-.5)*2);return Math.min(144e5,Z+Y)}function us(j){return j&&j._delegate?j._delegate:j}},4155:(Xe,ye,P)=>{var s=P(5e3);let X=null;function F(){return X}const te=new s.OlP("DocumentToken");let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function fe(){return(0,s.LFG)(W)}()},providedIn:"platform"}),n})();const q=new s.OlP("Location Initialized");let W=(()=>{class n extends ue{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){re()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){re()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ge(){return new W((0,s.LFG)(te))}()},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function Ee(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Oe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ge(n){const t=(0,s.LFG)(te).location;return new qe((0,s.LFG)(ue),t&&t.origin||"")}()},providedIn:"root"}),n})();const Re=new s.OlP("appBaseHref");let qe=(()=>{class n extends pe{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ee(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ze(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+Ze(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+Ze(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue),s.LFG(Re,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n extends pe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ee(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+Ze(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+Ze(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue),s.LFG(Re,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),et=(()=>{class n{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Oe(We(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ze(i))}normalize(e){return n.stripTrailingSlash(function it(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,We(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=Ee,n.stripTrailingSlash=Oe,n.\u0275fac=function(e){return new(e||n)(s.LFG(pe),s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Se(){return new et((0,s.LFG)(pe),(0,s.LFG)(ue))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Zero=0]="Zero",ne[ne.One=1]="One",ne[ne.Two=2]="Two",ne[ne.Few=3]="Few",ne[ne.Many=4]="Many",ne[ne.Other=5]="Other",ne))();const Tr=s.kL8;class rn{}let Tn=(()=>{class n extends rn{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Tr(i||this.locale)(e)){case ne.Zero:return"zero";case ne.One:return"one";case ne.Two:return"two";case ne.Few:return"few";case ne.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.soG))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),mi=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Bo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let In=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Bo(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),wa(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{wa(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function wa(n,t){n.context.$implicit=t.item}let Zt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new bn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){uh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){uh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class bn{constructor(){this.$implicit=null,this.ngIf=null}}function uh(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class gl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ji=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),dr=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new gl(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(ji,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),lc=(()=>{class n{constructor(e,i,r){r._addDefault(new gl(e,i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(ji,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class op{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Og{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const _l=new Og,ap=new op;let cc=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return _l;if((0,s.F4k)(e))return ap;throw function Hr(n,t){return new s.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1}),n})(),oi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:rn,useClass:Tn}]}),n})();const fs="browser";function wl(n){return"server"===n}let Cl=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Ng((0,s.LFG)(te),window)}),n})();class Ng{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ms(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=An(this.window.history)||An(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function An(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class wo extends class wh extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ce(n){X||(X=n)}(new wo)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Oi(){return js=js||document.querySelector("base"),js?js.getAttribute("href"):null}();return null==e?null:function gs(n){Ir=Ir||document.createElement("a"),Ir.setAttribute("href",n);const t=Ir.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){js=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function pl(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Ir,js=null;const er=new s.OlP("TRANSITION_ID"),ai=[{provide:s.ip1,useFactory:function tr(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=F(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[er,te,s.zs3],multi:!0}];class Ea{static init(){(0,s.VLi)(new Ea)}addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(_){u=u||_,o--,0==o&&i(u)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Au=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Pi=new s.OlP("EventManagerPlugins");let jo=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Pi),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Co{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=F().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let vt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Zo=(()=>{class n extends vt{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ta),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ta))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Ta(n){F().remove(n)}const Fi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Dl=/%COMP%/g;function wn(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?wn(n,r,e):(r=r.replace(Dl,n),e.push(r))}return e}function Ma(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ni=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Zs(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Dh(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Sa(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=wn(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jo),s.LFG(Zo),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Zs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Fi[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Fi[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Fi[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ma(i)):this.eventManager.addEventListener(t,e,Ma(i))}}class Dh extends Zs{constructor(t,e,i,r){super(t),this.component=i;const o=wn(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Ht(n){return"_ngcontent-%COMP%".replace(Dl,n)}(r+"-"+i.id),this.hostAttr=function Ch(n){return"_nghost-%COMP%".replace(Dl,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Sa extends Zs{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=wn(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let qo=(()=>{class n extends Co{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gi=["alt","control","meta","shift"],mc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_s={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Eh=(()=>{class n extends Co{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="";if(gi.forEach(_=>{const w=i.indexOf(_);w>-1&&(i.splice(w,1),u+=_+".")}),u+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function Ia(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&_s.hasOwnProperty(t)&&(t=_s[t]))}return mc[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gi.forEach(o=>{o!=r&&qr[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ka=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:fs},{provide:s.g9A,useValue:function up(){wo.makeCurrent(),Ea.init()},multi:!0},{provide:te,useFactory:function Aa(){return(0,s.RDi)(document),document},deps:[]}]),Tl=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function El(){return new s.qLn},deps:[]},{provide:Pi,useClass:qo,multi:!0,deps:[te,s.R0b,s.Lbi]},{provide:Pi,useClass:Eh,multi:!0,deps:[te]},{provide:Ni,useClass:Ni,deps:[jo,Zo,s.AFp]},{provide:s.FYo,useExisting:Ni},{provide:vt,useExisting:Zo},{provide:Zo,useClass:Zo,deps:[te]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:jo,useClass:jo,deps:[Pi,s.R0b]},{provide:class Vn{},useClass:Au,deps:[]}];let gc=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:er,useExisting:s.AFp},ai]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Tl,imports:[oi,s.hGG]}),n})();"undefined"!=typeof window&&window;let Pa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Fa),i},providedIn:"root"}),n})(),Fa=(()=>{class n extends Pa{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.yhl)(i),(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function kh(n){return new Fa(n.get(te))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var dn=P(8996),kn=P(8306);const{isArray:Li}=Array,{getPrototypeOf:Rh,prototype:Oh,keys:Sl}=Object;function Ph(n){if(1===n.length){const t=n[0];if(Li(t))return{args:t,keys:null};if(function Il(n){return n&&"object"==typeof n&&Rh(n)===Oh}(t)){const e=Sl(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var To=P(8421),ys=P(3269),Di=P(5403),Je=P(4004);const{isArray:Fh}=Array;function Gs(n){return(0,Je.U)(t=>function Al(n,t){return Fh(t)?n(...t):n(t)}(n,t))}function xo(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Dc(...n){const t=(0,ys.jO)(n),{args:e,keys:i}=Ph(n),r=new kn.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let _=u,w=u;for(let D=0;D<u;D++){let S=!1;(0,To.Xf)(e[D]).subscribe(new Di.Q(o,O=>{S||(S=!0,w--),h[D]=O},()=>_--,void 0,()=>{(!_||!S)&&(w||o.next(i?xo(i,h):h),o.complete())}))}});return t?r.pipe(Gs(t)):r}let Na=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),vs=(()=>{class n extends Na{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const ci=new s.OlP("NgValueAccessor"),Nh={provide:ci,useExisting:(0,s.Gpc)(()=>nr),multi:!0},Lu=new s.OlP("CompositionEventMode");let nr=(()=>{class n extends Na{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $o(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Lu,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([Nh]),s.qOj]}),n})();function Mo(n){return null==n||0===n.length}function Yo(n){return null!=n&&"number"==typeof n.length}const xn=new s.OlP("NgValidators"),Ar=new s.OlP("NgAsyncValidators"),Lh=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ir{static min(t){return function zs(n){return t=>{if(Mo(t.value)||Mo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Vu(n){return t=>{if(Mo(t.value)||Mo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function bs(n){return Mo(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Ec(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function $t(n){return Mo(n.value)||Lh.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function So(n){return t=>Mo(t.value)||!Yo(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function ws(n){return t=>Yo(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function La(n){if(!n)return Cs;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Mo(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return xc(t)}static composeAsync(t){return gp(t)}}function Cs(n){return null}function Io(n){return null!=n}function $s(n){const t=(0,s.QGY)(n)?(0,dn.D)(n):n;return(0,s.CqO)(t),t}function kl(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Hn(n,t){return t.map(e=>e(n))}function Vh(n){return n.map(t=>function Tc(n){return!n.validate}(t)?t:e=>t.validate(e))}function xc(n){if(!n)return null;const t=n.filter(Io);return 0==t.length?null:function(e){return kl(Hn(e,t))}}function Rl(n){return null!=n?xc(Vh(n)):null}function gp(n){if(!n)return null;const t=n.filter(Io);return 0==t.length?null:function(e){return Dc(Hn(e,t).map($s)).pipe((0,Je.U)(kl))}}function Va(n){return null!=n?gp(Vh(n)):null}function _p(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Wo(n){return n._rawValidators}function Vg(n){return n._rawAsyncValidators}function jn(n){return n?Array.isArray(n)?n:[n]:[]}function Ba(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ua(n,t){const e=jn(t);return jn(n).forEach(r=>{Ba(e,r)||e.push(r)}),e}function Bg(n,t){return jn(t).filter(e=>!Ba(n,e))}class Bh{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Rl(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Va(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class mn extends Bh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mn extends Bh{get formDirective(){return null}get path(){return null}}class Bu{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let kr=(()=>{class n extends Bu{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mn,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[s.qOj]}),n})(),Hu=(()=>{class n extends Bu{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Mn,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[s.qOj]}),n})();function Qo(n,t){return[...t.path,n]}function ja(n,t){Ol(n,t),t.valueAccessor.writeValue(n.value),function $u(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ic(n,t)})}(n,t),function Ac(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Gr(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ic(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Sc(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function fr(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Ds(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ys(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ol(n,t){const e=Wo(n);null!==t.validator?n.setValidators(_p(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Vg(n);null!==t.asyncValidator?n.setAsyncValidators(_p(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ys(t._rawValidators,r),Ys(t._rawAsyncValidators,r)}function Ds(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Wo(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=Vg(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Ys(t._rawValidators,i),Ys(t._rawAsyncValidators,i),e}function Ic(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Za(n,t){Ol(n,t)}function T(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function R(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function V(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===nr?e=o:function M(n){return Object.getPrototypeOf(n.constructor)===vs}(o)?i=o:r=o}),r||i||e||null}function K(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Be="VALID",ht="INVALID",ft="PENDING",At="DISABLED";function Zn(n){return(ko(n)?n.validators:n)||null}function Ei(n){return Array.isArray(n)?Rl(n):n||null}function zr(n,t){return(ko(t)?t.asyncValidators:n)||null}function qa(n){return Array.isArray(n)?Va(n):n||null}function ko(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Ws=n=>n instanceof Wu,$r=n=>n instanceof qh;function Xo(n){return Ws(n)?n.value:n.getRawValue()}function Es(n,t){const e=$r(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[t])throw new s.vHH(1001,"")}function kc(n,t){$r(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new s.vHH(1002,"")})}class bp{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ei(this._rawValidators),this._composedAsyncValidatorFn=qa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Be}get invalid(){return this.status===ht}get pending(){return this.status==ft}get disabled(){return this.status===At}get enabled(){return this.status!==At}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ei(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=qa(t)}addValidators(t){this.setValidators(Ua(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ua(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Bg(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Bg(t,this._rawAsyncValidators))}hasValidator(t){return Ba(this._rawValidators,t)}hasAsyncValidator(t){return Ba(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ft,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=At,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Be,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Be||this.status===ft)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?At:Be}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ft,this._hasOwnPendingAsyncValidator=!0;const e=$s(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function pt(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=$r(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof wp)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?At:this.errors?ht:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ft)?ft:this._anyControlsHaveStatus(ht)?ht:Be}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ko(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Wu extends bp{constructor(t=null,e,i){super(Zn(e),zr(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){K(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){K(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class qh extends bp{constructor(t,e,i){super(Zn(e),zr(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){kc(this,t),Object.keys(t).forEach(i=>{Es(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=Xo(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class wp extends bp{constructor(t,e,i){super(Zn(e),zr(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){kc(this,t),t.forEach((i,r)=>{Es(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>Xo(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Gh={provide:Mn,useExisting:(0,s.Gpc)(()=>Ts)},Fl=(()=>Promise.resolve(null))();let Ts=(()=>{class n extends Mn{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new s.vpe,this.form=new qh({},Rl(e),Va(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Fl.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ja(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Fl.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),K(this._directives,e)})}addFormGroup(e){Fl.then(()=>{const i=this._findContainer(e.path),r=new qh({});Za(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Fl.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Fl.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,R(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xn,10),s.Y36(Ar,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Gh]),s.qOj]}),n})();const Dp={provide:mn,useExisting:(0,s.Gpc)(()=>Ks)},Ro=(()=>Promise.resolve(null))();let Ks=(()=>{class n extends mn{constructor(e,i,r,o){super(),this.control=new Wu,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=V(0,o)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),T(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Qo(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ja(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Ro.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;Ro.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Mn,9),s.Y36(xn,10),s.Y36(Ar,10),s.Y36(ci,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([Dp]),s.qOj,s.TTD]}),n})(),Ep=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ta=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const xp=new s.OlP("NgModelWithFormControlWarning"),Jv={provide:Mn,useExisting:(0,s.Gpc)(()=>na)};let na=(()=>{class n extends Mn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ds(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return ja(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){fr(e.control||null,e,!1),K(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,R(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(fr(i||null,e),Ws(r)&&(ja(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Za(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Pl(n,t){return Ds(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ol(this.form,this),this._oldForm&&Ds(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xn,10),s.Y36(Ar,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Jv]),s.qOj,s.TTD]}),n})();const Gg={provide:mn,useExisting:(0,s.Gpc)(()=>xs)};let xs=(()=>{class n extends mn{constructor(e,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=V(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),T(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Qo(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Mn,13),s.Y36(xn,10),s.Y36(Ar,10),s.Y36(ci,10),s.Y36(xp,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([Gg]),s.qOj,s.TTD]}),n})(),rb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ta]]}),n})(),Nl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[rb]}),n})(),pr=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:xp,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[rb]}),n})();var hn=P(2011);function nt(...n){const t=(0,ys.yG)(n);return(0,dn.D)(n,t)}var Fc=P(4986),Zi=P(4482);function rd(n,t=Fc.z){return(0,Zi.e)((e,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const w=o;o=null,i.next(w)}};function _(){const w=u+n,D=t.now();if(D<w)return r=this.schedule(void 0,w-D),void i.add(r);h()}e.subscribe(new Di.Q(i,w=>{o=w,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}function Xn(n,t){return(0,Zi.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe(new Di.Q(i,_=>{null==r||r.unsubscribe();let w=0;const D=o++;(0,To.Xf)(n(_,D)).subscribe(r=new Di.Q(i,S=>i.next(t?t(_,S,D,w++):S),()=>{r=null,h()}))},()=>{u=!0,h()}))})}var $n=P(5813),Pp=P(3942),me=P(5861),Rr=P(9681),Tt=P(2090),Nc=P(4859);const Ll="firebasestorage.googleapis.com",e_="storageBucket";class Yn extends Tt.ZR{constructor(t,e){super(Np(t),`Firebase Storage: ${e} (${Np(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yn.prototype)}_codeEquals(t){return Np(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Np(n){return"storage/"+n}function Vl(){return new Yn("unknown","An unknown error occurred, please check the error payload for server response.")}function i_(){return new Yn("canceled","User canceled the upload/download.")}function od(){return new Yn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Lc(n){return new Yn("invalid-argument",n)}function ra(){return new Yn("app-deleted","The Firebase app was deleted.")}function Qs(n){return new Yn("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rr(n,t){return new Yn("invalid-format","String does not match format '"+n+"': "+t)}function Ga(n){throw new Yn("internal-error","Internal error: "+n)}class Vi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Vi.makeFromUrl(t,e)}catch(r){return new Vi(t,"")}if(""===i.path)return i;throw function db(n){return new Yn("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function w(He){He.path_=decodeURIComponent(He.path)}const S=e.replace(/[.]/g,"\\."),je=[{regex:h,indices:{bucket:1,path:3},postModify:function o(He){"/"===He.path.charAt(He.path.length-1)&&(He.path_=He.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${e===Ll?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let He=0;He<je.length;He++){const Dt=je[He],Rt=Dt.regex.exec(t);if(Rt){let Qi=Rt[Dt.indices.path];Qi||(Qi=""),i=new Vi(Rt[Dt.indices.bucket],Qi),Dt.postModify(i);break}}if(null==i)throw function ub(n){return new Yn("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class pC{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function mr(n){return"string"==typeof n||n instanceof String}function Jh(n){return Xh()&&n instanceof Blob}function Xh(){return"undefined"!=typeof Blob}function ld(n,t,e,i){if(i<t)throw Lc(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Lc(`Invalid value for '${n}'. Expected ${e} or less.`)}function Js(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function ef(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var _i=(()=>{return(n=_i||(_i={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",_i;var n})();class za{constructor(t,e,i,r,o,u,h,_,w,D,S){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=_,this.timeout_=w,this.progressCallback_=D,this.connectionFactory_=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,L)=>{this.resolve_=O,this.reject_=L,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const _=this.callback_(h,h.getResponse());!function Vp(n){return void 0!==n}(_)?o():o(_)}catch(_){u(_)}else if(null!==h){const _=Vl();_.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,_):_)}else u(r.canceled?this.appDelete_?ra():i_():function n_(){return new Yn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new $a(!1,null,!0)):this.backoffId_=function Ms(n,t,e){let i=1,r=null,o=null,u=!1,h=0;function _(){return 2===h}let w=!1;function D(...ie){w||(w=!0,t.apply(null,ie))}function S(ie){r=setTimeout(()=>{r=null,n(L,_())},ie)}function O(){o&&clearTimeout(o)}function L(ie,...Ue){if(w)return void O();if(ie)return O(),void D.call(null,ie,...Ue);if(_()||u)return O(),void D.call(null,ie,...Ue);let je;i<64&&(i*=2),1===h?(h=2,je=0):je=1e3*(i+Math.random()),S(je)}let H=!1;function Q(ie){H||(H=!0,O(),!w&&(null!==r?(ie||(h=2),clearTimeout(r),S(0)):ie||(h=1)))}return S(0),o=setTimeout(()=>{u=!0,Q(!0)},e),Q}((i,r)=>{if(r)return void i(!1,new $a(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===_i.NO_ERROR,_=o.getStatus();if(!h||this.isRetryStatusCode_(_)){const D=o.getErrorCode()===_i.ABORT;return void i(!1,new $a(!1,null,D))}const w=-1!==this.successCodes_.indexOf(_);i(!0,new $a(w,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function ad(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||o}}class $a{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Bp(...n){const t=function hb(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(Xh())return new Blob(n);throw new Yn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cd{constructor(t,e){this.data=t,this.contentType=e||null}}function y(n,t){switch(n){case Or.RAW:return new cd(p(t));case Or.BASE64:case Or.BASE64URL:return new cd(b(n,t));case Or.DATA_URL:return new cd(function A(n){const t=new x(n);return t.base64?b(Or.BASE64,t.rest):function m(n){let t;try{t=decodeURIComponent(n)}catch(e){throw rr(Or.DATA_URL,"Malformed data URL.")}return p(t)}(t.rest)}(t),function B(n){return new x(n).contentType}(t))}throw Vl()}function p(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function b(n,t){switch(n){case Or.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw rr(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Or.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw rr(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function pb(n){return atob(n)}(t)}catch(r){throw rr(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class x{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw rr(Or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function ee(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class xe{constructor(t,e){let i=0,r="";Jh(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(Jh(this.data_)){const r=function fb(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new xe(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new xe(i,!0)}}static getBlob(...t){if(Xh()){const e=t.map(i=>i instanceof xe?i.data_:i);return new xe(Bp.apply(null,e))}{const e=t.map(u=>mr(u)?y(Or.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)r[o++]=u[h]}),new xe(r,!0)}}uploadData(){return this.data_}}function Me(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function a_(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function qt(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Ti(n,t){return t}class Wn{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Ti}}let oa=null;function aa(){if(oa)return oa;const n=[];n.push(new Wn("bucket")),n.push(new Wn("generation")),n.push(new Wn("metageneration")),n.push(new Wn("name","fullPath",!0));const e=new Wn("name");e.xform=function t(o,u){return function tf(n){return!mr(n)||n.length<2?n:qt(n)}(u)},n.push(e);const r=new Wn("size");return r.xform=function i(o,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Wn("timeCreated")),n.push(new Wn("updated")),n.push(new Wn("md5Hash",null,!0)),n.push(new Wn("cacheControl",null,!0)),n.push(new Wn("contentDisposition",null,!0)),n.push(new Wn("contentEncoding",null,!0)),n.push(new Wn("contentLanguage",null,!0)),n.push(new Wn("contentType",null,!0)),n.push(new Wn("metadata","customMetadata",!0)),oa=n,oa}function dd(n,t,e){const i=Me(t);return null===i?null:function nf(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const u=e[o];i[u.local]=u.xform(i,t[u.server])}return function ud(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new Vi(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function Ul(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const Hl="prefixes";class Ya{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function la(n){if(!n)throw Vl()}function sf(n,t){return function e(i,r){const o=dd(n,r,t);return la(null!==o),o}}function hd(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function cb(){return new Yn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function sd(){return new Yn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function lb(n){return new Yn("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function t_(n){return new Yn("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Hp(n){const t=hd(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function ab(n){return new Yn("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function gb(n,t,e){const r=Js(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Ya(r,"GET",sf(n,e),u);return h.errorHandler=Hp(t),h}function sM(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const h=Js(t.bucketOnlyServerUrl(),n.host,n._protocol),w=n.maxOperationRetryTime,D=new Ya(h,"GET",function mC(n,t){return function e(i,r){const o=function mb(n,t,e){const i=Me(e);return null===i?null:function rf(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[Hl])for(const r of e[Hl]){const o=r.replace(/\/$/,""),u=n._makeStorageReference(new Vi(t,o));i.prefixes.push(u)}if(e.items)for(const r of e.items){const o=n._makeStorageReference(new Vi(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return la(null!==o),o}}(n,t.bucket),w);return D.urlParams=o,D.errorHandler=hd(t),D}function yC(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function aM(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class h_{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function f_(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){la(!1)}return la(!!e&&-1!==(t||["active"]).indexOf(e)),e}const wC={STATE_CHANGED:"state_changed"},Pr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function p_(n){switch(n){case"running":case"pausing":case"canceling":return Pr.RUNNING;case"paused":return Pr.PAUSED;case"success":return Pr.SUCCESS;case"canceled":return Pr.CANCELED;default:return Pr.ERROR}}class m_{constructor(t,e,i){if(function o_(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Fr(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class yb extends class uM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_i.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_i.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_i.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Ga("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ga("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ga("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw Ga("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ga("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function qi(){return new yb}class wb{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=aa(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function lM(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),u=yC(t,i,r),h={name:u.fullPath},_=Js(o,n.host,n._protocol),D={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},S=Ul(u,e),H=new Ya(_,"POST",function L(Q){let ie;f_(Q);try{ie=Q.getResponseHeader("X-Goog-Upload-URL")}catch(Ue){la(!1)}return la(mr(ie)),ie},n.maxUploadRetryTime);return H.urlParams=h,H.headers=D,H.body=S,H.errorHandler=hd(t),H}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,qi,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function cM(n,t,e,i){const _=new Ya(e,"POST",function o(w){const D=f_(w,["active","final"]);let S=null;try{S=w.getResponseHeader("X-Goog-Upload-Size-Received")}catch(L){la(!1)}S||la(!1);const O=Number(S);return la(!isNaN(O)),new h_(O,i.size(),"final"===D)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=hd(t),_}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,qi,e,i);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new h_(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let u;try{u=function Ft(n,t,e,i,r,o,u,h){const _=new h_(0,0);if(u?(_.current=u.current,_.total=u.total):(_.current=0,_.total=i.size()),i.size()!==_.total)throw function Lp(){return new Yn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const w=_.total-_.current;let D=w;r>0&&(D=Math.min(D,r));const S=_.current,H={"X-Goog-Upload-Command":D===w?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},Q=i.slice(S,S+D);if(null===Q)throw od();const je=new Ya(e,"POST",function ie(He,Dt){const Rt=f_(He,["active","final"]),on=_.current+D,Qi=i.size();let _a;return _a="final"===Rt?sf(t,o)(He,Dt):null,new h_(on,Qi,"final"===Rt,_a)},t.maxUploadRetryTime);return je.headers=H,je.body=Q.uploadData(),je.progressCallback=h||null,je.errorHandler=hd(n),je}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const h=this._ref.storage._makeRequest(u,qi,r,o);this._request=h,h.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=gb(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,qi,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function vC(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},_=function h(){let je="";for(let He=0;He<2;He++)je+=Math.random().toString().slice(2);return je}();u["Content-Type"]="multipart/related; boundary="+_;const w=yC(t,i,r),D=Ul(w,e),L=xe.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+D+"\r\n--"+_+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",i,"\r\n--"+_+"--");if(null===L)throw od();const H={name:w.fullPath},Q=Js(o,n.host,n._protocol),Ue=n.maxUploadRetryTime,Ke=new Ya(Q,"POST",sf(n,e),Ue);return Ke.urlParams=H,Ke.headers=u,Ke.body=L.uploadData(),Ke.errorHandler=hd(t),Ke}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,qi,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=i_(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=p_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new m_(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(p_(this._state)){case Pr.SUCCESS:Fr(this._resolve.bind(null,this.snapshot))();break;case Pr.CANCELED:case Pr.ERROR:Fr(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(p_(this._state)){case Pr.RUNNING:case Pr.PAUSED:t.next&&Fr(t.next.bind(t,this.snapshot))();break;case Pr.SUCCESS:t.complete&&Fr(t.complete.bind(t))();break;default:t.error&&Fr(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class af{constructor(t,e){this._service=t,this._location=e instanceof Vi?e:Vi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new af(t,e)}get root(){const t=new Vi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qt(this._location.path)}get storage(){return this._service}get parent(){const t=function tt(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Vi(this._location.bucket,t);return new af(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw Qs(t)}}function DC(n,t,e){return Eb.apply(this,arguments)}function Eb(){return(Eb=(0,me.Z)(function*(n,t,e){const r=yield EC(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield DC(n,t,r.nextPageToken))})).apply(this,arguments)}function EC(n,t){null!=t&&"number"==typeof t.maxResults&&ld("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=sM(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,qi)}function Q1(n){n._throwIfRoot("getDownloadURL");const t=function ca(n,t,e){const r=Js(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Ya(r,"GET",function Y1(n,t){return function e(i,r){const o=dd(n,r,t);return la(null!==o),function Up(n,t,e,i){const r=Me(t);if(null===r||!mr(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const u=encodeURIComponent;return o.split(",").map(w=>{const S=n.fullPath;return Js("/b/"+u(n.bucket)+"/o/"+u(S),e,i)+ef({alt:"media",token:w})})[0]}(o,r,n.host,n._protocol)}}(n,e),u);return h.errorHandler=Hp(t),h}(n.storage,n._location,aa());return n.storage.makeRequestWithTokens(t,qi).then(e=>{if(null===e)throw function s_(){return new Yn("no-download-url","The given file does not have any download URLs.")}();return e})}function fM(n,t){const e=function lt(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Vi(n._location.bucket,e);return new af(n.storage,i)}function SC(n,t){if(n instanceof IC){const e=n;if(null==e._bucket)throw function r_(){return new Yn("no-default-bucket","No default bucket found. Did you set the '"+e_+"' property when initializing the app?")}();const i=new af(e,e._bucket);return null!=t?SC(i,t):i}return void 0!==t?fM(n,t):n}function Tb(n,t){if(t&&function xC(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof IC)return function MC(n,t){return new af(n,t)}(n,t);throw Lc("To use ref(service, url), the first argument must be a Storage instance.")}return SC(n,t)}function pM(n,t){const e=null==t?void 0:t[e_];return null==e?null:Vi.makeFromBucketSpec(e,n)}class IC{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Ll,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Vi.makeFromBucketSpec(r,this._host):pM(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Vi.makeFromBucketSpec(this._url,t):pM(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){ld("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){ld("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,me.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,me.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new af(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new pC(ra());{const o=function u_(n,t,e,i,r,o){const u=ef(n.urlParams),h=n.url+u,_=Object.assign({},n.headers);return function Bl(n,t){t&&(n["X-Firebase-GMPID"]=t)}(_,t),function l_(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(_,e),function sa(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(_,o),function c_(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(_,i),new za(h,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,me.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const mM="@firebase/storage";function v_(n,t){return Tb(n=(0,Tt.m9)(n),t)}function bM(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new IC(e,i,r,t,Rr.SDK_VERSION)}!function PC(){(0,Rr._registerComponent)(new Nc.wA("storage",bM,"PUBLIC").setMultipleInstances(!0)),(0,Rr.registerVersion)(mM,"0.9.9",""),(0,Rr.registerVersion)(mM,"0.9.9","esm2017")}();class b_{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class FC{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new b_(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new b_(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?u=>e(new b_(u,this,this._ref)):{next:e.next?u=>e.next(new b_(u,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class lf{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Ss(t,this._service))}get items(){return this._delegate.items.map(t=>new Ss(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ss{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function vM(n,t){return fM(n,t)}(this._delegate,t);return new Ss(e,this.storage)}get root(){return new Ss(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Ss(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new FC(function X1(n,t,e){return function Cb(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new wb(n,new xe(t),e)}(n=(0,Tt.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Or.RAW,i){this._throwIfRoot("putString");const r=y(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new FC(new wb(this._delegate,new xe(r.data,!0),o),this)}listAll(){return function AC(n){return function K1(n){const t={prefixes:[],items:[]};return DC(n,t).then(()=>t)}(n=(0,Tt.m9)(n))}(this._delegate).then(t=>new lf(t,this.storage))}list(t){return function yM(n,t){return EC(n=(0,Tt.m9)(n),t)}(this._delegate,t||void 0).then(e=>new lf(e,this.storage))}getMetadata(){return function Vc(n){return function dM(n){n._throwIfRoot("getMetadata");const t=gb(n.storage,n._location,aa());return n.storage.makeRequestWithTokens(t,qi)}(n=(0,Tt.m9)(n))}(this._delegate)}updateMetadata(t){return function xb(n,t){return function TC(n,t){n._throwIfRoot("updateMetadata");const e=function oM(n,t,e,i){const o=Js(t.fullServerUrl(),n.host,n._protocol),h=Ul(e,i),w=n.maxOperationRetryTime,D=new Ya(o,"PATCH",sf(n,i),w);return D.headers={"Content-Type":"application/json; charset=utf-8"},D.body=h,D.errorHandler=Hp(t),D}(n.storage,n._location,t,aa());return n.storage.makeRequestWithTokens(e,qi)}(n=(0,Tt.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function Mb(n){return Q1(n=(0,Tt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function kC(n){return function hM(n){n._throwIfRoot("deleteObject");const t=function _C(n,t){const i=Js(t.fullServerUrl(),n.host,n._protocol),h=new Ya(i,"DELETE",function u(_,w){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Hp(t),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,qi)}(n=(0,Tt.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw Qs(t)}}class w_{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(pd(t))throw Lc("ref() expected a child path but got a URL, use refFromURL instead.");return new Ss(v_(this._delegate,t),this)}refFromURL(t){if(!pd(t))throw Lc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Vi.makeFromUrl(t,this._delegate.host)}catch(e){throw Lc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ss(v_(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function RC(n,t,e,i={}){!function J1(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Tt.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function pd(n){return/^[A-Za-z]+:\/\//.test(n)}function NC(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new w_(e,i)}!function LC(n){const t={TaskState:Pr,TaskEvent:wC,StringFormat:Or,Storage:w_,Reference:Ss};n.INTERNAL.registerComponent(new Nc.wA("storage-compat",NC,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(Pp.Z),P(5867);var jl=P(1877);const xM=new Map,MM={activated:!1,tokenObservers:[]},Ib={initialized:!1,enabled:!1};function Gi(n){return xM.get(n)||MM}function ua(n,t){xM.set(n,t)}function E_(){return Ib}class ZC{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,me.Z)(function*(){e.stop();try{e.pending=new Tt.BH,yield function qC(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Tt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ei=new Tt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function GC(n){if(!Gi(n).activated)throw ei.create("use-before-activation",{appName:n.name})}function T_(n,t){return Ob.apply(this,arguments)}function Ob(){return(Ob=(0,me.Z)(function*({url:n,body:t},e){var i,r;const o={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const L=yield u.getHeartbeatsHeader();L&&(o["X-Firebase-Client"]=L)}const h={method:"POST",body:JSON.stringify(t),headers:o};let _,w;try{_=yield fetch(n,h)}catch(L){throw ei.create("fetch-network-error",{originalErrorMessage:null===(i=L)||void 0===i?void 0:i.message})}if(200!==_.status)throw ei.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(L){throw ei.create("fetch-parse-error",{originalErrorMessage:null===(r=L)||void 0===r?void 0:r.message})}const D=w.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw ei.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const S=1e3*Number(D[1]),O=Date.now();return{token:w.token,expireTimeMillis:O+S,issuedAtTimeMillis:O}})).apply(this,arguments)}function Pb(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Bc="firebase-app-check-store";let M_=null;function S_(){return M_||(M_=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;t(ei.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Bc,{keyPath:"compositeKey"})}}catch(i){t(ei.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),M_)}function $C(){return($C=(0,me.Z)(function*(n,t){const i=(yield S_()).transaction(Bc,"readwrite"),o=i.objectStore(Bc).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=_=>{u()},i.onerror=_=>{var w;h(ei.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const hf=new jl.Yd("@firebase/app-check");function Wa(n,t){return(0,Tt.hl)()?function zC(n,t){return function I_(n,t){return $C.apply(this,arguments)}(function Nb(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{hf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function KC(){return E_().enabled}function LM(){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,me.Z)(function*(){const n=E_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Vb={error:"UNKNOWN_ERROR"};function qp(n){return Tt.US.encodeString(JSON.stringify(n),!1)}function O_(n){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,me.Z)(function*(n,t=!1){const e=n.app;GC(e);const i=Gi(e);let o,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&L_(_)&&(r=_)}if(!t&&r&&L_(r))return{token:r.token};let h,u=!1;if(KC()){i.exchangeTokenPromise||(i.exchangeTokenPromise=T_(Pb(e,yield LM()),n.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),u=!0);const _=yield i.exchangeTokenPromise;return yield Wa(e,_),ua(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?hf.warn(_.message):hf.error(_),o=_}return r?(h={token:r.token},ua(e,Object.assign(Object.assign({},i),{token:r})),yield Wa(e,r)):h=BM(o),u&&N_(e,h),h})).apply(this,arguments)}function F_(n,t){const e=Gi(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ua(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function Bb(n){const{app:t}=n,e=Gi(t);let i=e.tokenRefresher;i||(i=function VM(n){const{app:t}=n;return new ZC((0,me.Z)(function*(){let i;if(i=Gi(t).token?yield O_(n,!0):yield O_(n),i.error)throw i.error}),()=>!0,()=>{const e=Gi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ua(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function N_(n,t){const e=Gi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function L_(n){return n.expireTimeMillis-Date.now()>0}function BM(n){return{token:qp(Vb),error:n}}class JC{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Gi(this.app);for(const e of t)F_(this.app,e.next);return Promise.resolve()}}const cD="app-check-internal";!function uD(){(0,Rr._registerComponent)(new Nc.wA("app-check",n=>function ff(n,t){return new JC(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(cD).initialize()})),(0,Rr._registerComponent)(new Nc.wA(cD,n=>function XC(n){return{getToken:t=>O_(n,t),addTokenListener:t=>function P_(n,t,e,i){const{app:r}=n,o=Gi(r),u={next:e,error:i,type:t};if(ua(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&L_(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),Bb(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Bb(n))}(n,"INTERNAL",t),removeTokenListener:t=>F_(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Rr.registerVersion)("@firebase/app-check","0.5.11")}();class Is{constructor(){return(0,$n.vb)("app-check")}}"undefined"!=typeof window&&window;var gD=P(127);function zp(n){const t=function KM(n){return new kn.y(t=>{const e=u=>t.next(u);e(n.snapshot);const o=n.on("state_changed",e);return n.then(u=>{e(u),t.complete()},u=>{e(n.snapshot),(u=>{t.error(u)})(u)}),function(){o()}}).pipe(rd(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Je.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function Zl(n){return{getDownloadURL:()=>nt(void 0).pipe($n.fc,Xn(()=>n.getDownloadURL()),$n.iC),getMetadata:()=>nt(void 0).pipe($n.fc,Xn(()=>n.getMetadata()),$n.iC),delete:()=>(0,dn.D)(n.delete()),child:t=>Zl(n.child(t)),updateMetadata:t=>(0,dn.D)(n.updateMetadata(t)),put:(t,e)=>zp(n.put(t,e)),putString:(t,e,i)=>zp(n.putString(t,e,i)),list:t=>(0,dn.D)(n.list(t)),listAll:()=>(0,dn.D)(n.listAll())}}const QM=new s.OlP("angularfire2.storageBucket"),$p=new s.OlP("angularfire2.storage.maxUploadRetryTime"),JM=new s.OlP("angularfire2.storage.maxOperationRetryTime"),XM=new s.OlP("angularfire2.storage.use-emulator");let Zb=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S){const O=(0,hn.on)(e,u,i);this.storage=(0,hn.cc)(`${O.name}.storage.${r}`,"AngularFireStorage",O.name,()=>{const L=u.runOutsideAngular(()=>O.storage(r||void 0)),H=D;return H&&L.useEmulator(...H),_&&L.setMaxUploadRetryTime(_),w&&L.setMaxOperationRetryTime(w),L},[_,w])}ref(e){return Zl(this.storage.ref(e))}refFromURL(e){return Zl(this.storage.refFromURL(e))}upload(e,i,r){return Zl(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hn.Dh),s.LFG(hn.xv,8),s.LFG(QM,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG($n.HU),s.LFG($p,8),s.LFG(JM,8),s.LFG(XM,8),s.LFG(Is,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Yp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Nr=(()=>{class n{constructor(){gD.Z.registerVersion("angularfire",$n.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Zb],imports:[Yp]}),n})();var Ka=P(8189);function Yr(...n){return function H_(){return(0,Ka.J)(1)}()((0,dn.D)(n,(0,ys.yG)(n)))}function Wr(...n){const t=(0,ys.yG)(n);return(0,Zi.e)((e,i)=>{(t?Yr(n,e,t):Yr(n,e)).subscribe(i)})}function Uc(){return(0,Zi.e)((n,t)=>{let e,i=!1;n.subscribe(new Di.Q(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function mf(n,t,e,i,r){return(o,u)=>{let h=e,_=t,w=0;o.subscribe(new Di.Q(u,D=>{const S=w++;_=h?n(_,D,S):(h=!0,D),i&&u.next(_)},r&&(()=>{h&&u.next(_),u.complete()})))}}function Qa(n,t){return(0,Zi.e)(mf(n,t,arguments.length>=2,!0))}var Ja=P(4671);function Hc(n,t=Ja.y){return n=null!=n?n:gf,(0,Zi.e)((e,i)=>{let r,o=!0;e.subscribe(new Di.Q(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function gf(n,t){return n===t}function ti(n,t){return(0,Zi.e)((e,i)=>{let r=0;e.subscribe(new Di.Q(i,o=>n.call(t,o,r++)&&i.next(o)))})}P(1121);var rt,_f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Xa={},j_=j_||{},Ot=_f||self;function Kp(){}function Z_(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function yf(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var q_="closure_uid_"+(1e9*Math.random()>>>0),eS=0;function yD(n,t,e){return n.call.apply(n.bind,arguments)}function tS(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function sr(n,t,e){return(sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yD:tS).apply(null,arguments)}function Qp(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function gr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function jc(){this.s=this.s,this.o=this.o}var nS={};jc.prototype.s=!1,jc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function _D(n){return Object.prototype.hasOwnProperty.call(n,q_)&&n[q_]||(n[q_]=++eS)}(this);delete nS[n]}},jc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qb=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},bD=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function rS(n){return Array.prototype.concat.apply([],arguments)}function Gb(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function vf(n){return/^[\s\xa0]*$/.test(n)}var As,G_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Kr(n,t){return-1!=n.indexOf(t)}function wD(n,t){return n<t?-1:n>t?1:0}e:{var sS=Ot.navigator;if(sS){var CD=sS.userAgent;if(CD){As=CD;break e}}As=""}function z_(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function oS(n){const t={};for(const e in n)t[e]=n[e];return t}var DD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function md(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<DD.length;o++)e=DD[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function zb(n){return zb[" "](n),n}zb[" "]=Kp;var $_,n,aS=Kr(As,"Opera"),gd=Kr(As,"Trident")||Kr(As,"MSIE"),Jp=Kr(As,"Edge"),$b=Jp||gd,Yb=Kr(As,"Gecko")&&!(Kr(As.toLowerCase(),"webkit")&&!Kr(As,"Edge"))&&!(Kr(As,"Trident")||Kr(As,"MSIE"))&&!Kr(As,"Edge"),lS=Kr(As.toLowerCase(),"webkit")&&!Kr(As,"Edge");function TD(){var n=Ot.document;return n?n.documentMode:void 0}e:{var Wb="",Kb=(n=As,Yb?/rv:([^\);]+)(\)|;)/.exec(n):Jp?/Edge\/([\d\.]+)/.exec(n):gd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lS?/WebKit\/(\S+)/.exec(n):aS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Kb&&(Wb=Kb?Kb[1]:""),gd){var Y_=TD();if(null!=Y_&&Y_>parseFloat(Wb)){$_=String(Y_);break e}}$_=Wb}var cS={};var hR=Ot.document&&gd&&(TD()||parseInt($_,10))||void 0,Qb=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",Kp,t),Ot.removeEventListener("test",Kp,t)}catch(e){}return n}();function Lr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Q_(n,t){if(Lr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Yb){e:{try{zb(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xp[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Q_.Z.h.call(this)}}Lr.prototype.h=function(){this.defaultPrevented=!0},gr(Q_,Lr);var Xp={2:"touch",3:"pen",4:"mouse"};Q_.prototype.h=function(){Q_.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bf="closure_listenable_"+(1e6*Math.random()|0),Jb=0;function Xb(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++Jb,this.ca=this.fa=!1}function J_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function wf(n){this.src=n,this.g={},this.h=0}function em(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=qb(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(J_(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function X_(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}wf.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=X_(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new Xb(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var MD="closure_lm_"+(1e6*Math.random()|0),e0={};function ey(n,t,e,i,r){if(i&&i.once)return t0(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ey(n,t[o],e,i,r);return null}return e=ry(e),n&&n[bf]?n.N(t,e,yf(i)?!!i.capture:!!i,r):ty(n,t,e,!1,i,r)}function ty(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=yf(r)?!!r.capture:!!r,h=tm(n);if(h||(n[MD]=h=new wf(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function SD(){var t=r0;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Qb||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(n0(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function t0(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)t0(n,t[o],e,i,r);return null}return e=ry(e),n&&n[bf]?n.O(t,e,yf(i)?!!i.capture:!!i,r):ty(n,t,e,!0,i,r)}function ny(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)ny(n,t[o],e,i,r);else i=yf(i)?!!i.capture:!!i,e=ry(e),n&&n[bf]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=X_(o=n.g[t],e,i,r))&&(J_(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=tm(n))&&(t=n.g[t.toString()],n=-1,t&&(n=X_(t,e,i,r)),(e=-1<n?t[n]:null)&&iy(e))}function iy(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[bf])em(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(n0(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=tm(t))?(em(e,n),0==e.h&&(e.src=null,t[MD]=null)):J_(n)}}}function n0(n){return n in e0?e0[n]:e0[n]="on"+n}function r0(n,t){if(n.ca)n=!0;else{t=new Q_(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&iy(n),n=e.call(i,t)}return n}function tm(n){return(n=n[MD])instanceof wf?n:null}var s0="__closure_events_fn_"+(1e9*Math.random()>>>0);function ry(n){return"function"==typeof n?n:(n[s0]||(n[s0]=function(t){return n.handleEvent(t)}),n[s0])}function zi(){jc.call(this),this.i=new wf(this),this.P=this,this.I=null}function $i(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Lr(t,n);else if(t instanceof Lr)t.target=t.target||n;else{var r=t;md(t=new Lr(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=nm(u,i,!0,t)&&r}if(r=nm(u=t.g=n,i,!0,t)&&r,r=nm(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=nm(u=t.g=e[o],i,!1,t)&&r}function nm(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ca&&u.capture==e){var h=u.listener,_=u.ia||u.src;u.fa&&em(n.i,u),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}gr(zi,jc),zi.prototype[bf]=!0,zi.prototype.removeEventListener=function(n,t,e,i){ny(this,n,t,e,i)},zi.prototype.M=function(){if(zi.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)J_(e[i]);delete n.g[t],n.h--}}this.I=null},zi.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},zi.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var o0=Ot.JSON.stringify;function ID(){var n=c0;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var oy,a0=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new l0,n=>n.reset());class l0{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function kD(n){Ot.setTimeout(()=>{throw n},0)}function sy(n,t){oy||function RD(){var n=Ot.Promise.resolve(void 0);oy=function(){n.then(OD)}}(),ay||(oy(),ay=!0),c0.add(n,t)}var ay=!1,c0=new class AD{constructor(){this.h=this.g=null}add(t,e){const i=a0.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function OD(){for(var n;n=ID();){try{n.h.call(n.g)}catch(e){kD(e)}var t=a0;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}ay=!1}function im(n,t){zi.call(this),this.h=n||1,this.g=t||Ot,this.j=sr(this.kb,this),this.l=Date.now()}function PD(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function u0(n,t,e){if("function"==typeof n)e&&(n=sr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=sr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ot.setTimeout(n,t||0)}function FD(n){n.g=u0(()=>{n.g=null,n.i&&(n.i=!1,FD(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}gr(im,zi),(rt=im.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$i(this,"tick"),this.da&&(PD(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){im.Z.M.call(this),PD(this),delete this.g};class ND extends jc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:FD(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rm(n){jc.call(this),this.h=n,this.g={}}gr(rm,jc);var Bi=[];function d0(n,t,e,i){Array.isArray(e)||(e&&(Bi[0]=e.toString()),e=Bi);for(var r=0;r<e.length;r++){var o=ey(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function LD(n){z_(n.g,function(t,e){this.g.hasOwnProperty(e)&&iy(t)},n),n.g={}}function ly(){this.g=!0}function _d(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Cf(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return o0(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}rm.prototype.M=function(){rm.Z.M.call(this),LD(this)},rm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ly.prototype.Aa=function(){this.g=!1},ly.prototype.info=function(){};var yd={},UD=null;function sm(){return UD=UD||new zi}function HD(n){Lr.call(this,yd.Ma,n)}function Df(n){const t=sm();$i(t,new HD(t,n))}function dS(n,t){Lr.call(this,yd.STAT_EVENT,n),this.stat=t}function _r(n){const t=sm();$i(t,new dS(t,n))}function cy(n,t){Lr.call(this,yd.Na,n),this.size=t}function ks(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},t)}yd.Ma="serverreachability",gr(HD,Lr),yd.STAT_EVENT="statevent",gr(dS,Lr),yd.Na="timingevent",gr(cy,Lr);var uy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},jD={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Po(){}function No(){}Po.prototype.h=null;var f0,Ef={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dy(){Lr.call(this,"d")}function h0(){Lr.call(this,"c")}function hy(){}function om(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new rm(this),this.P=am,this.W=new im(n=$b?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fy}function fy(){this.i=null,this.g="",this.h=!1}gr(dy,Lr),gr(h0,Lr),gr(hy,Po),hy.prototype.g=function(){return new XMLHttpRequest},hy.prototype.i=function(){return{}},f0=new hy;var am=45e3,p0={},lm={};function m0(n,t,e){n.K=1,n.v=by(Gl(t)),n.s=e,n.U=!0,g0(n,null)}function g0(n,t){n.F=Date.now(),Tf(n),n.A=Gl(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),C0(e.h,"t",i),n.C=0,e=n.l.H,n.h=new fy,n.g=xS(n.l,e?t:null,!n.s),0<n.O&&(n.L=new ND(sr(n.Ia,n,n.g),n.O)),d0(n.V,n.g,"readystatechange",n.gb),t=n.H?oS(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Df(1),function VD(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),_=0;_<h.length;_++){var w=h[_].split("=");if(1<w.length){var D=w[0];w=w[1];var S=D.split("_");u=2<=S.length&&"type"==S[1]?u+(D+"=")+w+"&":u+(D+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function _0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function cm(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=hS(n,e),r==lm){4==t&&(n.o=4,_r(14),i=!1),_d(n.j,n.m,null,"[Incomplete Response]");break}if(r==p0){n.o=4,_r(15),_d(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}_d(n.j,n.m,r,null),py(n,r)}_0(n)&&r!=lm&&r!=p0&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,_r(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Sy(t),t.L=!0,_r(11))):(_d(n.j,n.m,e,"[Invalid Chunked Response]"),qc(n),Zc(n))}function hS(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?lm:(e=Number(t.substring(e,i)),isNaN(e)?p0:(i+=1)+e>t.length?lm:(t=t.substr(i,e),n.C=i+e,t))}function Tf(n){n.Y=Date.now()+n.P,y0(n,n.P)}function y0(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ks(sr(n.eb,n),t)}function xf(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Zc(n){0==n.l.G||n.I||oE(n.l,n)}function qc(n){xf(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,PD(n.W),LD(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function py(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||E0(e.i,n)))if(e.I=n.N,!n.J&&E0(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(w){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=ks(sr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;bm(e),_m(e)}My(e),_r(18)}if(1>=KD(e.i)&&e.ka){try{e.ka()}catch(w){}e.ka=void 0}}else If(e,11)}else if((n.J||e.g==n)&&bm(e),!vf(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let w=r[t];if(e.U=w[0],w=w[1],2==e.G)if("c"==w[0]){e.J=w[1],e.la=w[2];const D=w[3];null!=D&&(e.ma=D,e.h.info("VER="+e.ma));const S=w[4];null!=S&&(e.za=S,e.h.info("SVER="+e.za));const O=w[5];null!=O&&"number"==typeof O&&0<O&&(e.K=i=1.5*O,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const L=n.g;if(L){const H=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var o=i.i;!o.g&&(Kr(H,"spdy")||Kr(H,"quic")||Kr(H,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&($c(o,o.h),o.h=null))}if(i.D){const Q=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(i.sa=Q,ni(i.F,i.D,Q))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=TS(i,i.H?i.la:null,i.W),u.J){vS(i.i,u);var h=u,_=i.K;_&&h.setTimeout(_),h.B&&(xf(h),Tf(h)),i.g=u}else R0(i);0<e.l.length&&Wc(e)}else"stop"!=w[0]&&"close"!=w[0]||If(e,7);else 3==e.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?If(e,7):xy(e):"noop"!=w[0]&&e.j&&e.j.wa(w),e.A=0)}Df(4)}catch(w){}}function my(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Z_(n)||"string"==typeof n)bD(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(Z_(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function ZD(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Z_(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function vd(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof vd)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function gy(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Gc(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Gc(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Gc(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(rt=om.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const t=this.L;t&&3==$l(n)?t.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const D=$l(this.g);var t=this.g.Da();const S=this.g.ba();if(!(3>D)&&(3!=D||$b||this.g&&(this.h.h||this.g.ga()||Sf(this.g)))){this.I||4!=D||7==t||Df(8==t||0>=S?3:2),xf(this);var e=this.g.ba();this.N=e;t:if(_0(this)){var i=Sf(this.g);n="";var r=i.length,o=4==$l(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){qc(this),Zc(this);var u="";break t}this.h.i=new Ot.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function uS(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,D,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vf(h)){var w=h;break t}}w=null}if(!(e=w)){this.i=!1,this.o=3,_r(12),qc(this),Zc(this);break e}_d(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,py(this,e)}this.U?(cm(this,D,u),$b&&this.i&&3==D&&(d0(this.V,this.W,"tick",this.fb),this.W.start())):(_d(this.j,this.m,u,null),py(this,u)),4==D&&qc(this),this.i&&!this.I&&(4==D?oE(this.l,this):(this.i=!1,Tf(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,_r(12)):(this.o=0,_r(13)),qc(this),Zc(this)}}}catch(D){}},rt.fb=function(){if(this.g){var n=$l(this.g),t=this.g.ga();this.C<t.length&&(xf(this),cm(this,n,t),this.i&&4!=n&&Tf(this))}},rt.cancel=function(){this.I=!0,qc(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function BD(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Df(3),_r(17)),qc(this),this.o=2,Zc(this)):y0(this,this.Y-n)},(rt=vd.prototype).R=function(){gy(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},rt.T=function(){return gy(this),this.g.concat()},rt.get=function(n,t){return Gc(this.h,n)?this.h[n]:t},rt.set=function(n,t){Gc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},rt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var v0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bd(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof bd){this.g=void 0!==t?t:n.g,_y(this,n.j),this.s=n.s,yy(this,n.i),vy(this,n.m),this.l=n.l,t=n.h;var e=new Mf;e.i=t.i,t.g&&(e.g=new vd(t.g),e.h=t.h),GD(this,e),this.o=n.o}else n&&(e=String(n).match(v0))?(this.g=!!t,_y(this,e[1]||"",!0),this.s=um(e[2]||""),yy(this,e[3]||"",!0),vy(this,e[4]),this.l=um(e[5]||"",!0),GD(this,e[6]||"",!0),this.o=um(e[7]||"")):(this.g=!!t,this.h=new Mf(null,this.g))}function Gl(n){return new bd(n)}function _y(n,t,e){n.j=e?um(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function yy(n,t,e){n.i=e?um(t,!0):t}function vy(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function GD(n,t,e){t instanceof Mf?(n.h=t,function YD(n,t){t&&!n.j&&(zl(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(b0(this,i),C0(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=dm(t,yS)),n.h=new Mf(t,n.g))}function ni(n,t,e){n.h.set(t,e)}function by(n){return ni(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function um(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dm(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,mS),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bd.prototype.toString=function(){var n=[],t=this.j;t&&n.push(dm(t,zD,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(dm(t,zD,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(dm(e,"/"==e.charAt(0)?_S:gS,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",dm(e,$D)),n.join("")};var zD=/[#\/\?@]/g,gS=/[#\?:]/g,_S=/[#\?]/g,yS=/[#\?@]/g,$D=/#/g;function Mf(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function zl(n){n.g||(n.g=new vd,n.h=0,n.i&&function qD(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function b0(n,t){zl(n),t=wd(n,t),Gc(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Gc((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&gy(n)))}function w0(n,t){return zl(n),t=wd(n,t),Gc(n.g.h,t)}function C0(n,t,e){b0(n,t),0<e.length&&(n.i=null,n.g.set(wd(n,t),Gb(e)),n.h+=e.length)}function wd(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function wy(n){this.l=n||D0,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=Mf.prototype).add=function(n,t){zl(this),this.i=null,n=wd(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},rt.forEach=function(n,t){zl(this),this.g.forEach(function(e,i){bD(e,function(r){n.call(t,r,i,this)},this)},this)},rt.T=function(){zl(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},rt.R=function(n){zl(this);var t=[];if("string"==typeof n)w0(this,n)&&(t=rS(t,this.g.get(wd(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=rS(t,n[e])}return t},rt.set=function(n,t){return zl(this),this.i=null,w0(this,n=wd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},rt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var u=r;""!==i[o]&&(u+="="+encodeURIComponent(String(i[o]))),n.push(u)}}return this.i=n.join("&")};var D0=10;function zc(n){return!!n.h||!!n.g&&n.g.size>=n.j}function KD(n){return n.h?1:n.g?n.g.size:0}function E0(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function $c(n,t){n.g?n.g.add(t):n.h=t}function vS(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Cy(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Gb(n.i)}function QD(){}function JD(){this.g=new QD}function XD(n,t,e){const i=e||"";try{my(n,function(r,o){let u=r;yf(r)&&(u=o0(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function gt(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(o){}}function hm(n){this.l=n.$b||null,this.j=n.ib||!1}function Dy(n,t){zi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=T0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wy.prototype.cancel=function(){if(this.i=Cy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},QD.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},QD.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},gr(hm,Po),hm.prototype.g=function(){return new Dy(this.l,this.j)},hm.prototype.i=function(n){return function(){return n}}({}),gr(Dy,zi);var T0=0;function fm(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function pm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Yc(n)}function Yc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=Dy.prototype).open=function(n,t){if(this.readyState!=T0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Yc(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ot).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pm(this)),this.readyState=T0},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Yc(this)),this.g&&(this.readyState=3,Yc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fm(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?pm(this):Yc(this),3==this.readyState&&fm(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,pm(this))},rt.Ta=function(n){this.g&&(this.response=n,pm(this))},rt.ha=function(){this.g&&pm(this)},rt.setRequestHeader=function(n,t){this.v.append(n,t)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Dy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ey=Ot.JSON.parse;function jt(n){zi.call(this),this.headers=new vd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bS,this.K=this.L=!1}gr(jt,zi);var bS="",eE=/^https?$/i,wS=["POST","PUT"];function tE(n){return"content-type"==n.toLowerCase()}function x0(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,M0(n),Ty(n)}function M0(n){n.D||(n.D=!0,$i(n,"complete"),$i(n,"error"))}function S0(n){if(n.h&&void 0!==j_&&(!n.C[1]||4!=$l(n)||2!=n.ba()))if(n.v&&4==$l(n))u0(n.Fa,0,n);else if($i(n,"readystatechange"),4==$l(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(v0)[1]||null;if(!r&&Ot.self&&Ot.self.location){var o=Ot.self.location.protocol;r=o.substr(0,o.length-1)}i=!eE.test(r?r.toLowerCase():"")}e=i}if(e)$i(n,"complete"),$i(n,"success");else{n.m=6;try{var u=2<$l(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",M0(n)}}finally{Ty(n)}}}function Ty(n,t){if(n.g){nE(n);const e=n.g,i=n.C[0]?Kp:null;n.g=null,n.C=null,t||$i(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function nE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function $l(n){return n.g?n.g.readyState:0}function Sf(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case bS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function I0(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function DS(n){let t="";return z_(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ni(n,t,e))}function mm(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function gm(n){this.za=0,this.l=[],this.h=new ly,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=mm("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=mm("baseRetryDelayMs",5e3,n),this.$a=mm("retryDelaySeedMs",1e4,n),this.Ya=mm("forwardChannelMaxRetries",2,n),this.ra=mm("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new wy(n&&n.concurrentRequestLimit),this.Ca=new JD,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function xy(n){if(A0(n),3==n.G){var t=n.V++,e=Gl(n.F);ni(e,"SID",n.J),ni(e,"RID",t),ni(e,"TYPE","terminate"),vm(n,e),(t=new om(n,n.h,t,void 0)).K=2,t.v=by(Gl(e)),e=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(e=Ot.navigator.sendBeacon(t.v.toString(),"")),!e&&Ot.Image&&((new Image).src=t.v,e=!0),e||(t.g=xS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Tf(t)}ES(n)}function _m(n){n.g&&(Sy(n),n.g.cancel(),n.g=null)}function A0(n){_m(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),bm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function k0(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Wc(n)}function Wc(n){zc(n.i)||n.m||(n.m=!0,sy(n.Ha,n),n.C=0)}function iE(n,t){var e;e=t?t.m:n.V++;const i=Gl(n.F);ni(i,"SID",n.J),ni(i,"RID",e),ni(i,"AID",n.U),vm(n,i),n.o&&n.s&&I0(i,n.o,n.s),e=new om(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=rE(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),$c(n.i,e),m0(e,i,t)}function vm(n,t){n.j&&my({},function(e,i){ni(t,i,e)})}function rE(n,t,e){e=Math.min(n.l.length,e);var i=n.j?sr(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let _=0;_<e;_++){let w=r[_].h;const D=r[_].g;if(w-=o,0>w)o=Math.max(0,r[_].h-100),h=!1;else try{XD(D,u,"req"+w+"_")}catch(S){i&&i(D)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function R0(n){n.g||n.u||(n.Y=1,sy(n.Ga,n),n.A=0)}function My(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ks(sr(n.Ga,n),aE(n,n.A)),n.A++,0))}function Sy(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function sE(n){n.g=new om(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Gl(n.oa);ni(t,"RID","rpc"),ni(t,"SID",n.J),ni(t,"CI",n.N?"0":"1"),ni(t,"AID",n.U),vm(n,t),ni(t,"TYPE","xmlhttp"),n.o&&n.s&&I0(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=by(Gl(t)),e.s=null,e.U=!0,g0(e,n)}function bm(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function oE(n,t){var e=null;if(n.g==t){bm(n),Sy(n),n.g=null;var i=2}else{if(!E0(n.i,t))return;e=t.D,vS(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;$i(i=sm(),new cy(i,e,t,r)),Wc(n)}else R0(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function ym(n,t){return!(KD(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ks(sr(n.Ha,n,t),aE(n,n.C)),n.C++,0)))}(n,t)||2==i&&My(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:If(n,5);break;case 4:If(n,10);break;case 3:If(n,6);break;default:If(n,2)}}function aE(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function If(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=sr(n.jb,n);e||(e=new bd("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||_y(e,"https"),by(e)),function fR(n,t){const e=new ly;if(Ot.Image){const i=new Image;i.onload=Qp(gt,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Qp(gt,e,i,"TestLoadImage: error",!1,t),i.onabort=Qp(gt,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Qp(gt,e,i,"TestLoadImage: timeout",!1,t),Ot.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else _r(2);n.G=0,n.j&&n.j.va(t),ES(n),A0(n)}function ES(n){n.G=0,n.I=-1,n.j&&((0!=Cy(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Gb(n.l),n.l.length=0),n.j.ua())}function TS(n,t,e){let i=function fS(n){return n instanceof bd?Gl(n):new bd(n,void 0)}(e);if(""!=i.i)t&&yy(i,t+"."+i.i),vy(i,i.m);else{const r=Ot.location;i=function pS(n,t,e,i){var r=new bd(null,void 0);return n&&_y(r,n),t&&yy(r,t),e&&vy(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&z_(n.aa,function(r,o){ni(i,o,r)}),e=n.sa,(t=n.D)&&e&&ni(i,t,e),ni(i,"VER",n.ma),vm(n,i),i}function xS(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new jt(e&&n.Ba&&!n.qa?new hm({ib:!0}):n.qa)).L=n.H,t}function O0(){}function Cd(){if(gd&&!(10<=Number(hR)))throw Error("Environmental error: no available transport.")}function eo(n,t){zi.call(this),this.g=new gm(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!vf(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!vf(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new el(this)}function lE(n){dy.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function P0(){h0.call(this),this.status=1}function el(n){this.g=n}(rt=jt.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():f0.g(),this.C=function Fo(n){return n.h||(n.h=n.i())}(this.u?this.u:f0),this.g.onreadystatechange=sr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void x0(this,o)}n=e||"";const r=new vd(this.headers);i&&my(i,function(o,u){r.set(u,o)}),i=function iS(n){e:{var t=tE;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Ot.FormData&&n instanceof Ot.FormData,!(0<=qb(wS,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nE(this),0<this.B&&((this.K=function CS(n){return gd&&function xD(){return function ED(n){var t=cS;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=G_(String($_)).split("."),e=G_("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=wD(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||wD(0==r[2].length,0==o[2].length)||wD(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sr(this.pa,this)):this.A=u0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){x0(this,o)}},rt.pa=function(){void 0!==j_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$i(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$i(this,"complete"),$i(this,"abort"),Ty(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ty(this,!0)),jt.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?S0(this):this.cb())},rt.cb=function(){S0(this)},rt.ba=function(){try{return 2<$l(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Ey(t)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=gm.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new om(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=oS(o),md(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=rE(this,r,t),ni(e=Gl(this.F),"RID",n),ni(e,"CVER",22),this.D&&ni(e,"X-HTTP-Session-Id",this.D),vm(this,e),this.o&&o&&I0(e,this.o,o),$c(this.i,r),this.Ra&&ni(e,"TYPE","init"),this.ja?(ni(e,"$req",t),ni(e,"SID","null"),r.$=!0,m0(r,e,null)):m0(r,e,t),this.G=2}}else 3==this.G&&(n?iE(this,n):0==this.l.length||zc(this.i)||iE(this))},rt.Ga=function(){if(this.u=null,sE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ks(sr(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,_r(10),_m(this),sE(this))},rt.ab=function(){null!=this.v&&(this.v=null,_m(this),My(this),_r(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),_r(2)):(this.h.info("Failed to ping google.com"),_r(1))},(rt=O0.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},Cd.prototype.g=function(n,t){return new eo(n,t)},gr(eo,zi),eo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),sy(sr(n.hb,n,t))),_r(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=TS(n,null,n.W),Wc(n)},eo.prototype.close=function(){xy(this.g)},eo.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,k0(this.g,t)}else this.v?((t={}).__data__=o0(n),k0(this.g,t)):k0(this.g,n)},eo.prototype.M=function(){this.g.j=null,delete this.j,xy(this.g),delete this.g,eo.Z.M.call(this)},gr(lE,dy),gr(P0,h0),gr(el,O0),el.prototype.xa=function(){$i(this.g,"a")},el.prototype.wa=function(n){$i(this.g,new lE(n))},el.prototype.va=function(n){$i(this.g,new P0(n))},el.prototype.ua=function(){$i(this.g,"b")},Cd.prototype.createWebChannel=Cd.prototype.g,eo.prototype.send=eo.prototype.u,eo.prototype.open=eo.prototype.m,eo.prototype.close=eo.prototype.close,uy.NO_ERROR=0,uy.TIMEOUT=8,uy.HTTP_ERROR=6,jD.COMPLETE="complete",No.EventType=Ef,Ef.OPEN="a",Ef.CLOSE="b",Ef.ERROR="c",Ef.MESSAGE="d",zi.prototype.listen=zi.prototype.N,jt.prototype.listenOnce=jt.prototype.O,jt.prototype.getLastError=jt.prototype.La,jt.prototype.getLastErrorCode=jt.prototype.Da,jt.prototype.getStatus=jt.prototype.ba,jt.prototype.getResponseJson=jt.prototype.Qa,jt.prototype.getResponseText=jt.prototype.ga,jt.prototype.send=jt.prototype.ea;var MS=Xa.createWebChannelTransport=function(){return new Cd},SS=Xa.getStatEventTarget=function(){return sm()},F0=Xa.ErrorCode=uy,IS=Xa.EventType=jD,AS=Xa.Event=yd,N0=Xa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kS=Xa.FetchXmlHttpFactory=hm,Iy=Xa.WebChannel=No,Af=Xa.XhrIo=jt;const cE="@firebase/firestore";class Yi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Yi.UNAUTHENTICATED=new Yi(null),Yi.GOOGLE_CREDENTIALS=new Yi("google-credentials-uid"),Yi.FIRST_PARTY=new Yi("first-party-uid"),Yi.MOCK_USER=new Yi("mock-user");let kf="9.9.0";const Yl=new jl.Yd("@firebase/firestore");function L0(){return Yl.logLevel}function Fe(n,...t){if(Yl.logLevel<=jl.in.DEBUG){const e=t.map(Ay);Yl.debug(`Firestore (${kf}): ${n}`,...e)}}function yi(n,...t){if(Yl.logLevel<=jl.in.ERROR){const e=t.map(Ay);Yl.error(`Firestore (${kf}): ${n}`,...e)}}function wm(n,...t){if(Yl.logLevel<=jl.in.WARN){const e=t.map(Ay);Yl.warn(`Firestore (${kf}): ${n}`,...e)}}function Ay(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function st(n="Unexpected state"){const t=`FIRESTORE (${kf}) INTERNAL ASSERTION FAILED: `+n;throw yi(t),new Error(t)}function St(n,t){n||st()}function Qe(n,t){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Tt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class dE{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class OS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Yi.UNAUTHENTICATED))}shutdown(){}}class PS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class FS{constructor(t){this.t=t,this.currentUser=Yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=w=>this.i!==r?(r=this.i,e(w)):Promise.resolve();let u=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wi,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const w=u;t.enqueueRetryable((0,me.Z)(function*(){yield w.promise,yield o(i.currentUser)}))},_=w=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wi)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St("string"==typeof i.accessToken),new dE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return St(null===t||"string"==typeof t),new Yi(t)}}class NS{constructor(t,e,i){this.type="FirstParty",this.user=Yi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class LS{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new NS(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VS{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.p;return this.p=o.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(St("string"==typeof e.token),this.p=e.token,new hE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fE(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class pE{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=fE(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Vt(n,t){return n<t?-1:n>t?1:0}function Dd(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function mE(n){return n+"\0"}class ii{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ii.fromMillis(Date.now())}static fromDate(t){return ii.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ii(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Mt(t)}static min(){return new Mt(new ii(0,0))}static max(){return new Mt(new ii(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ed{constructor(t,e,i){void 0===e?e=0:e>t.length&&st(),void 0===i?i=t.length-e:i>t.length-e&&st(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Ed.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ed?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Kt extends Ed{construct(t,e,i){return new Kt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ie(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Kt(e)}static emptyPath(){return new Kt([])}}const gE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class di extends Ed{construct(t,e,i){return new di(t,e,i)}static isValidIdentifier(t){return gE.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),di.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new di(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ie(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Ie(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ie(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Ie(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new di(e)}static emptyPath(){return new di([])}}class $e{constructor(t){this.path=t}static fromPath(t){return new $e(Kt.fromString(t))}static fromName(t){return new $e(Kt.fromString(t).popFirst(5))}static empty(){return new $e(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Kt.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Kt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $e(new Kt(t.slice()))}}class ky{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Cm(n){return n.fields.find(t=>2===t.kind)}function Td(n){return n.fields.filter(t=>2!==t.kind)}ky.UNKNOWN_ID=-1;class Dm{constructor(t,e){this.fieldPath=t,this.kind=e}}class Em{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Em(0,Rs.min())}}function V0(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Mt.fromTimestamp(1e9===i?new ii(e+1,0):new ii(e,i));return new Rs(r,$e.empty(),t)}function _E(n){return new Rs(n.readTime,n.key,-1)}class Rs{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Rs(Mt.min(),$e.empty(),-1)}static max(){return new Rs(Mt.max(),$e.empty(),-1)}}function yE(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=$e.comparator(n.documentKey,t.documentKey),0!==e?e:Vt(n.largestBatchId,t.largestBatchId))}const vE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Kc(n){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,me.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==vE)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),Qc.apply(this,arguments)}class se{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new se((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof se?e:se.resolve(e)}catch(e){return se.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):se.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):se.reject(e)}static resolve(t){return new se((e,i)=>{e(t)})}static reject(t){return new se((e,i)=>{i(t)})}static waitFor(t){return new se((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},_=>i(_))}),u=!0,o===r&&e()})}static or(t){let e=se.resolve(!1);for(const i of t)e=e.next(r=>r?se.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new se((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let _=0;_<o;_++){const w=_;e(t[w]).next(D=>{u[w]=D,++h,h===o&&i(u)},D=>r(D))}})}static doWhile(t,e){return new se((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class Ry{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new Wi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new Tm(t,e.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=Oy(i.target.error);this.T.reject(new Tm(t,r))}}static open(t,e,i,r){try{return new Ry(e,t.transaction(r,i))}catch(o){throw new Tm(e,o)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(Fe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new US(e)}}class tl{constructor(t,e,i){this.name=t,this.version=e,this.P=i,12.2===tl.v((0,Tt.z$)())&&yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Fe("SimpleDb","Removing database:",t),xd(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,Tt.hl)())return!1;if(tl.S())return!0;const t=(0,Tt.z$)(),e=tl.v(t),i=0<e&&e<10,r=tl.D(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static S(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(t){var e=this;return(0,me.Z)(function*(){return e.db||(Fe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new Tm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Ie(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ie(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Tm(t,h))},o.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.P.O(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.M&&(e.db.onversionchange=i=>e.M(i)),e.db})()}F(t){this.M=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,me.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.k(t);const _=Ry.open(o.db,t,u?"readonly":"readwrite",i),w=r(_).next(D=>(_.R(),D)).catch(D=>(_.abort(D),se.reject(D))).toPromise();return w.catch(()=>{}),yield _.A,w}catch(_){const w=_,D="FirebaseError"!==w.name&&h<3;if(Fe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),o.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bE{constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return xd(this.$.delete())}}class Tm extends Ie{constructor(t,e){super(de.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Jc(n){return"IndexedDbTransactionError"===n.name}class US{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Fe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),xd(i)}add(t){return Fe("SimpleDb","ADD",this.store.name,t,t),xd(this.store.add(t))}get(t){return xd(this.store.get(t)).next(e=>(void 0===e&&(e=null),Fe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Fe("SimpleDb","DELETE",this.store.name,t),xd(this.store.delete(t))}count(){return Fe("SimpleDb","COUNT",this.store.name),xd(this.store.count())}K(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new se((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new se((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}W(t,e){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.G(r,(o,u,h)=>h.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Y(t){const e=this.cursor({});return new se((i,r)=>{e.onerror=o=>{const u=Oy(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}G(t,e){const i=[];return new se((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const _=new bE(h),w=e(h.primaryKey,h.value,_);if(w instanceof se){const D=w.catch(S=>(_.done(),se.reject(S)));i.push(D)}_.isDone?r():null===_.U?h.continue():h.continue(_.U)}}).next(()=>se.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function xd(n){return new se((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Oy(i.target.error);e(r)}})}let B0=!1;function Oy(n){const t=tl.v((0,Tt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return B0||(B0=!0,setTimeout(()=>{throw i},0)),i}}return n}class U0{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;Fe("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,me.Z)(function*(){e.task=null;try{Fe("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(i){Jc(i)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Kc(i)}yield e.Z(1)}))}}class Py{constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,me.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.et(i,t))})()}et(t,e){const i=new Set;let r=e,o=!0;return se.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Fe("IndexBackiller",`Processing collection: ${u}`),this.nt(t,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>e-r)}nt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.st(r,o)).next(h=>(Fe("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}st(t,e){let i=t;return e.changes.forEach((r,o)=>{const u=_E(o);yE(u,i)>0&&(i=u)}),new Rs(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class or{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function wE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Xc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function H0(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}or.ot=-1;class vi{constructor(t,e){this.comparator=t,this.root=e||yr.EMPTY}insert(t,e){return new vi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(t){return new vi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fy(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fy(this.root,t,this.comparator,!0)}}class Fy{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=null!=i?i:yr.RED,this.left=null!=r?r:yr.EMPTY,this.right=null!=o?o:yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new yr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return yr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const t=this.left.check();if(t!==this.right.check())throw st();return t+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1,yr.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,t,e,i,r){return this}insert(n,t,e){return new yr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(t){this.comparator=t,this.data=new vi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new CE(this.data.getIterator())}getIteratorFrom(t){return new CE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Cn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Cn(this.comparator);return e.data=t,e}}class CE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xm(n){return n.hasNext()?n.getNext():void 0}class to{constructor(t){this.fields=t,t.sort(di.comparator)}static empty(){return new to([])}unionWith(t){let e=new Cn(di.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new to(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Dd(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class ri{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ri(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new ri(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const DE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(n){if(St(!!n),"string"==typeof n){let t=0;const e=DE.exec(n);if(St(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xi(n.seconds),nanos:xi(n.nanos)}}function xi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function eu(n){return"string"==typeof n?ri.fromBase64String(n):ri.fromUint8Array(n)}function j0(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function jS(n){const t=n.mapValue.fields.__previous_value__;return j0(t)?jS(t):t}function Of(n){const t=no(n.mapValue.fields.__local_write_time__.timestampValue);return new ii(t.seconds,t.nanos)}class pR{constructor(t,e,i,r,o,u,h,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class nl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof nl&&t.projectId===this.projectId&&t.database===this.database}}function Md(n){return null==n}function Pf(n){return 0===n&&1/n==-1/0}function Z0(n){return"number"==typeof n&&Number.isInteger(n)&&!Pf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const tu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ny={nullValue:"NULL_VALUE"};function Sd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?j0(n)?4:z0(n)?9007199254740991:10:st()}function il(n,t){if(n===t)return!0;const e=Sd(n);if(e!==Sd(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Of(n).isEqual(Of(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=no(i.timestampValue),u=no(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,eu(n.bytesValue).isEqual(eu(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return xi(i.geoPointValue.latitude)===xi(r.geoPointValue.latitude)&&xi(i.geoPointValue.longitude)===xi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return xi(i.integerValue)===xi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=xi(i.doubleValue),u=xi(r.doubleValue);return o===u?Pf(o)===Pf(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return Dd(n.arrayValue.values||[],t.arrayValue.values||[],il);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(wE(o)!==wE(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!il(o[h],u[h])))return!1;return!0}(n,t);default:return st()}var r}function Mm(n,t){return void 0!==(n.values||[]).find(e=>il(e,t))}function nu(n,t){if(n===t)return 0;const e=Sd(n),i=Sd(t);if(e!==i)return Vt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=xi(r.integerValue||r.doubleValue),h=xi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return EE(n.timestampValue,t.timestampValue);case 4:return EE(Of(n),Of(t));case 5:return Vt(n.stringValue,t.stringValue);case 6:return function(r,o){const u=eu(r),h=eu(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let _=0;_<u.length&&_<h.length;_++){const w=Vt(u[_],h[_]);if(0!==w)return w}return Vt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=Vt(xi(r.latitude),xi(o.latitude));return 0!==u?u:Vt(xi(r.longitude),xi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let _=0;_<u.length&&_<h.length;++_){const w=nu(u[_],h[_]);if(w)return w}return Vt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===tu.mapValue&&o===tu.mapValue)return 0;if(r===tu.mapValue)return 1;if(o===tu.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),_=o.fields||{},w=Object.keys(_);h.sort(),w.sort();for(let D=0;D<h.length&&D<w.length;++D){const S=Vt(h[D],w[D]);if(0!==S)return S;const O=nu(u[h[D]],_[w[D]]);if(0!==O)return O}return Vt(h.length,w.length)}(n.mapValue,t.mapValue);default:throw st()}}function EE(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Vt(n,t);const e=no(n),i=no(t),r=Vt(e.seconds,i.seconds);return 0!==r?r:Vt(e.nanos,i.nanos)}function Ff(n){return Id(n)}function Id(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=no(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?eu(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Id(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Id(i.fields[h])}`;return o+"}"}(n.mapValue):st();var t}function iu(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ly(n){return!!n&&"integerValue"in n}function Nf(n){return!!n&&"arrayValue"in n}function q0(n){return!!n&&"nullValue"in n}function G0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sm(n){return!!n&&"mapValue"in n}function Im(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Xc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Im(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Im(n.arrayValue.values[e]);return t}return Object.assign({},n)}function z0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ZS(n){return"nullValue"in n?Ny:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?iu(nl.empty(),$e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function qS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?iu(nl.empty(),$e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?tu:st()}function TE(n,t){const e=nu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function xE(n,t){const e=nu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Mi{constructor(t){this.value=t}static empty(){return new Mi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Sm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Im(e)}setAll(t){let e=di.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Im(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Sm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return il(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Sm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Xc(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Mi(Im(this.value))}}function ME(n){const t=[];return Xc(n.fields,(e,i)=>{const r=new di([e]);if(Sm(i)){const o=ME(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new to(t)}class Sn{constructor(t,e,i,r,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=u}static newInvalidDocument(t){return new Sn(t,0,Mt.min(),Mt.min(),Mi.empty(),0)}static newFoundDocument(t,e,i){return new Sn(t,1,e,Mt.min(),i,0)}static newNoDocument(t,e){return new Sn(t,2,e,Mt.min(),Mi.empty(),0)}static newUnknownDocument(t,e){return new Sn(t,3,e,Mt.min(),Mi.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rl{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.ut=null}}function SE(n,t=null,e=[],i=[],r=null,o=null,u=null){return new rl(n,t,e,i,r,o,u)}function sl(n){const t=Qe(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Ff(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Md(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Ff(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Ff(i)).join(",")),t.ut=e}return t.ut}function km(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!RE(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!il(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!jy(n.startAt,t.startAt)&&jy(n.endAt,t.endAt)}function Vy(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function By(n,t){return n.filters.filter(e=>e instanceof vr&&e.field.isEqual(t))}function Rm(n,t,e){let i=Ny,r=!0;for(const o of By(n,t)){let u=Ny,h=!0;switch(o.op){case"<":case"<=":u=ZS(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Ny}TE({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];TE({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function Om(n,t,e){let i=tu,r=!0;for(const o of By(n,t)){let u=tu,h=!0;switch(o.op){case">=":case">":u=qS(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=tu}xE({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];xE({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class vr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new GS(t,e,i):"array-contains"===e?new kE(t,i):"in"===e?new zS(t,i):"not-in"===e?new $S(t,i):"array-contains-any"===e?new mR(t,i):new vr(t,e,i)}static ct(t,e,i){return"in"===e?new IE(t,i):new AE(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(nu(e,this.value)):null!==e&&Sd(this.value)===Sd(e)&&this.at(nu(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return st()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class GS extends vr{constructor(t,e,i){super(t,e,i),this.key=$e.fromName(i.referenceValue)}matches(t){const e=$e.comparator(t.key,this.key);return this.at(e)}}class IE extends vr{constructor(t,e){super(t,"in",e),this.keys=Uy(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class AE extends vr{constructor(t,e){super(t,"not-in",e),this.keys=Uy(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Uy(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>$e.fromName(i.referenceValue))}class kE extends vr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Nf(e)&&Mm(e.arrayValue,this.value)}}class zS extends vr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Mm(this.value.arrayValue,e)}}class $S extends vr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Mm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Mm(this.value.arrayValue,e)}}class mR extends vr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Nf(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Mm(this.value.arrayValue,i))}}class ol{constructor(t,e){this.position=t,this.inclusive=e}}class ru{constructor(t,e="asc"){this.field=t,this.dir=e}}function RE(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function Hy(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?$e.comparator($e.fromName(u.referenceValue),e.key):nu(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function jy(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!il(n.position[e],t.position[e]))return!1;return!0}class Wl{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=_,this.lt=null,this.ft=null}}function OE(n,t,e,i,r,o,u,h){return new Wl(n,t,e,i,r,o,u,h)}function Lf(n){return new Wl(n)}function Zy(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Pm(n){for(const t of n.filters)if(t.ht())return t.field;return null}function qy(n){return null!==n.collectionGroup}function Ad(n){const t=Qe(n);if(null===t.lt){t.lt=[];const e=Pm(t),i=Zy(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new ru(e)),t.lt.push(new ru(di.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.lt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new ru(di.keyField(),o))}}}return t.lt}function io(n){const t=Qe(n);if(!t.ft)if("F"===t.limitType)t.ft=SE(t.path,t.collectionGroup,Ad(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Ad(t))e.push(new ru(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new ol(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ol(t.startAt.position,t.startAt.inclusive):null;t.ft=SE(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.ft}function $0(n,t,e){return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Fm(n,t){return km(io(n),io(t))&&n.limitType===t.limitType}function Y0(n){return`${sl(io(n))}|lt:${n.limitType}`}function Gy(n){return`Query(target=${function Am(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Ff(i.value)}`;var i}).join(", ")}]`),Md(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Ff(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Ff(e)).join(",")),`Target(${t})`}(io(n))}; limitType=${n.limitType})`}function W0(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):$e.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=Hy(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,Ad(e),i)||e.endAt&&!function(r,o,u){const h=Hy(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,Ad(e),i)));var e,i}function K0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PE(n){return(t,e)=>{let i=!1;for(const r of Ad(n)){const o=Qr(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Qr(n,t,e){const i=n.field.isKeyField()?$e.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),_=u.data.field(r);return null!==h&&null!==_?nu(h,_):st()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return st()}}function kd(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(t)?"-0":t}}function FE(n){return{integerValue:""+n}}function NE(n,t){return Z0(t)?FE(t):kd(n,t)}class Q0{constructor(){this._=void 0}}function Nm(n,t,e){return n instanceof Vf?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof su?LE(n,t):n instanceof Rd?$y(n,t):function(i,r){const o=zy(i,r),u=J0(o)+J0(i._t);return Ly(o)&&Ly(i._t)?FE(u):kd(i.wt,u)}(n,t)}function WS(n,t,e){return n instanceof su?LE(n,t):n instanceof Rd?$y(n,t):e}function zy(n,t){return n instanceof Od?Ly(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Vf extends Q0{}class su extends Q0{constructor(t){super(),this.elements=t}}function LE(n,t){const e=Lm(t);for(const i of n.elements)e.some(r=>il(r,i))||e.push(i);return{arrayValue:{values:e}}}class Rd extends Q0{constructor(t){super(),this.elements=t}}function $y(n,t){let e=Lm(t);for(const i of n.elements)e=e.filter(r=>!il(r,i));return{arrayValue:{values:e}}}class Od extends Q0{constructor(t,e){super(),this.wt=t,this._t=e}}function J0(n){return xi(n.integerValue||n.doubleValue)}function Lm(n){return Nf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Pd{constructor(t,e){this.field=t,this.transform=e}}class VE{constructor(t,e){this.version=t,this.transformResults=e}}class hi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vm(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Fd{}function X0(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Ld(n.key,hi.none()):new Bf(n.key,n.data,hi.none());{const e=n.data,i=Mi.empty();let r=new Cn(di.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new Kl(n.key,i,new to(r.toArray()),hi.none())}}function KS(n,t,e){n instanceof Bf?function(i,r,o){const u=i.value.clone(),h=nw(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Kl?function(i,r,o){if(!Vm(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=nw(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(tw(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Nd(n,t,e,i){return n instanceof Bf?function(r,o,u,h){if(!Vm(r.precondition,o))return u;const _=r.value.clone(),w=BE(r.fieldTransforms,h,o);return _.setAll(w),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null}(n,t,e,i):n instanceof Kl?function(r,o,u,h){if(!Vm(r.precondition,o))return u;const _=BE(r.fieldTransforms,h,o),w=o.data;return w.setAll(tw(r)),w.setAll(_),o.convertToFoundDocument(o.version,w).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(D=>D.field))}(n,t,e,i):(u=e,Vm(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function ew(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=zy(i.transform,r||null);null!=o&&(null===e&&(e=Mi.empty()),e.set(i.field,o))}return e||null}function QS(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Dd(e,i,(r,o)=>function gR(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof su&&i instanceof su||e instanceof Rd&&i instanceof Rd?Dd(e.elements,i.elements,il):e instanceof Od&&i instanceof Od?il(e._t,i._t):e instanceof Vf&&i instanceof Vf);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Bf extends Fd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Kl extends Fd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function tw(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function nw(n,t,e){const i=new Map;St(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,WS(u,h,e[r]))}return i}function BE(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,Nm(o,u,t))}return i}class Ld extends Fd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yy extends Fd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JS{constructor(t){this.count=t}}var Ui,Xt;function UE(n){switch(n){default:return st();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function iw(n){if(void 0===n)return yi("GRPC error has no .code"),de.UNKNOWN;switch(n){case Ui.OK:return de.OK;case Ui.CANCELLED:return de.CANCELLED;case Ui.UNKNOWN:return de.UNKNOWN;case Ui.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Ui.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Ui.INTERNAL:return de.INTERNAL;case Ui.UNAVAILABLE:return de.UNAVAILABLE;case Ui.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Ui.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Ui.NOT_FOUND:return de.NOT_FOUND;case Ui.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Ui.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Ui.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Ui.ABORTED:return de.ABORTED;case Ui.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Ui.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Ui.DATA_LOSS:return de.DATA_LOSS;default:return st()}}(Xt=Ui||(Ui={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";class Ql{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Xc(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return H0(this.inner)}size(){return this.innerSize}}const HE=new vi($e.comparator);function Jr(){return HE}const jE=new vi($e.comparator);function Bm(...n){let t=jE;for(const e of n)t=t.insert(e.key,e);return t}function XS(n){let t=jE;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function da(){return Wy()}function eI(){return Wy()}function Wy(){return new Ql(n=>n.toString(),(n,t)=>n.isEqual(t))}const _R=new vi($e.comparator),yR=new Cn($e.comparator);function Gt(...n){let t=yR;for(const e of n)t=t.add(e);return t}const vR=new Cn(Vt);function rw(){return vR}class Ky{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,e)),new Ky(Mt.min(),i,rw(),Jr(),Gt())}}class ou{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new ou(ri.EMPTY_BYTE_STRING,e,Gt(),Gt(),Gt())}}class sw{constructor(t,e,i,r){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=r}}class Qy{constructor(t,e){this.targetId=t,this.It=e}}class Vd{constructor(t,e,i=ri.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class ow{constructor(){this.Tt=0,this.Et=Jy(),this.At=ri.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=Gt(),e=Gt(),i=Gt();return this.Et.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:st()}}),new ou(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=Jy()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class tI{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=Jr(),this.Bt=ZE(),this.Lt=new Cn(Vt)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Ot(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:st()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,r)=>{this.jt(r)&&e(r)})}zt(t){const e=t.targetId,i=t.It.count,r=this.Ht(e);if(r){const o=r.target;if(Vy(o))if(0===i){const u=new $e(o.path);this.Kt(e,u,Sn.newNoDocument(u,Mt.min()))}else St(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((o,u)=>{const h=this.Ht(u);if(h){if(o.current&&Vy(h.target)){const _=new $e(h.target.path);null!==this.$t.get(_)||this.Xt(u,_)||this.Kt(u,_,Sn.newNoDocument(_,t))}o.vt&&(e.set(u,o.St()),o.Dt())}});let i=Gt();this.Bt.forEach((o,u)=>{let h=!0;u.forEachWhile(_=>{const w=this.Ht(_);return!w||2===w.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.$t.forEach((o,u)=>u.setReadTime(t));const r=new Ky(t,e,this.Lt,this.$t,i);return this.$t=Jr(),this.Bt=ZE(),this.Lt=new Cn(Vt),r}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new ow,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new Cn(Vt),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||Fe("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new ow),this.Mt.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Mt.getRemoteKeysForTarget(t).has(e)}}function ZE(){return new vi($e.comparator)}function Jy(){return new vi($e.comparator)}const qE={asc:"ASCENDING",desc:"DESCENDING"},GE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zE{constructor(t,e){this.databaseId=t,this.dt=e}}function Xy(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aw(n,t){return n.dt?t.toBase64():t.toUint8Array()}function ev(n,t){return Xy(n,t.toTimestamp())}function Ki(n){return St(!!n),Mt.fromTimestamp(function(t){const e=no(t);return new ii(e.seconds,e.nanos)}(n))}function $E(n,t){return(e=n,new Kt(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function nI(n){const t=Kt.fromString(n);return St(JE(t)),t}function tv(n,t){return $E(n.databaseId,t.path)}function al(n,t){const e=nI(t);if(e.get(1)!==n.databaseId.projectId)throw new Ie(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ie(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new $e(WE(e))}function Um(n,t){return $E(n.databaseId,t)}function YE(n){const t=nI(n);return 4===t.length?Kt.emptyPath():WE(t)}function nv(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WE(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iv(n,t,e){return{name:tv(n,t),fields:e.value.mapValue.fields}}function KE(n,t,e){const i=al(n,t.name),r=Ki(t.updateTime),o=new Mi({mapValue:{fields:t.fields}}),u=Sn.newFoundDocument(i,r,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Bd(n,t){let e;if(t instanceof Bf)e={update:iv(n,t.key,t.value)};else if(t instanceof Ld)e={delete:tv(n,t.key)};else if(t instanceof Kl)e={update:iv(n,t.key,t.data),updateMask:bR(t.fieldMask)};else{if(!(t instanceof Yy))return st();e={verify:tv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof Vf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof su)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Rd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Od)return{fieldPath:o.field.canonicalString(),increment:u._t};throw st()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:ev(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:st()),e;var r}function lw(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?hi.updateTime(Ki(r.updateTime)):void 0!==r.exists?hi.exists(r.exists):hi.none():hi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(St("REQUEST_TIME"===u.setToServerValue),h=new Vf):"appendMissingElements"in u?h=new su(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Rd(u.removeAllFromArray.values||[]):"increment"in u?h=new Od(o,u.increment):st();const _=di.fromServerFormat(u.fieldPath);return new Pd(_,h)}(n,r)):[];var r;if(t.update){const r=al(n,t.update.name),o=new Mi({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new to((t.updateMask.fieldPaths||[]).map(w=>di.fromServerFormat(w)));return new Kl(r,o,u,e,i)}return new Bf(r,o,e,i)}if(t.delete){const r=al(n,t.delete);return new Ld(r,e)}if(t.verify){const r=al(n,t.verify);return new Yy(r,e)}return st()}function rv(n,t){return{documents:[Um(n,t.path)]}}function cw(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Um(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Um(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const w=_.map(D=>function(S){if("=="===S.op){if(G0(S.value))return{unaryFilter:{field:Uf(S.field),op:"IS_NAN"}};if(q0(S.value))return{unaryFilter:{field:Uf(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(G0(S.value))return{unaryFilter:{field:Uf(S.field),op:"IS_NOT_NAN"}};if(q0(S.value))return{unaryFilter:{field:Uf(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uf(S.field),op:oI(S.op),value:S.value}}}(D));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(_){if(0!==_.length)return _.map(w=>{return{field:Uf((D=w).field),direction:QE(D.dir)};var D})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(w=t.limit,n.dt||Md(w)?w:{value:w});var w,h,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function uw(n){let t=YE(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){St(1===i);const D=e.from[0];D.allDescendants?r=D.collectionId:t=t.child(D.collectionId)}let o=[];e.where&&(o=dw(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(D=>{return new ru(au((S=D).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;e.limit&&(h=function(D){let S;return S="object"==typeof D?D.value:D,Md(S)?null:S}(e.limit));let _=null;var D;e.startAt&&(_=new ol((D=e.startAt).values||[],!!D.before));let w=null;return e.endAt&&(w=function(D){return new ol(D.values||[],!D.before)}(e.endAt)),OE(t,r,u,o,h,"F",_,w)}function dw(n){return n?void 0!==n.unaryFilter?[aI(n)]:void 0!==n.fieldFilter?[ha(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>dw(t)).reduce((t,e)=>t.concat(e)):st():[]}function QE(n){return qE[n]}function oI(n){return GE[n]}function Uf(n){return{fieldPath:n.canonicalString()}}function au(n){return di.fromServerFormat(n.fieldPath)}function ha(n){return vr.create(au(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function aI(n){switch(n.unaryFilter.op){case"IS_NAN":const t=au(n.unaryFilter.field);return vr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=au(n.unaryFilter.field);return vr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=au(n.unaryFilter.field);return vr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=au(n.unaryFilter.field);return vr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function bR(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function JE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Vr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=XE(t)),t=lI(n.get(e),t);return XE(t)}function lI(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function XE(n){return n+"\x01\x01"}function fa(n){const t=n.length;if(St(t>=2),2===t)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Kt.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&st(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:st()}o=u+2}return new Kt(i)}const eT=["userId","batchId"];function hw(n,t){return[n,Vr(t)]}function fw(n,t,e){return[n,Vr(t),e]}const tT={},cI=["prefixPath","collectionGroup","readTime","documentId"],uI=["prefixPath","collectionGroup","documentId"],nT=["collectionGroup","readTime","prefixPath","documentId"],Hm=["canonicalId","targetId"],pw=["targetId","path"],iT=["path","targetId"],dI=["collectionId","parent"],rT=["indexId","uid"],sT=["uid","sequenceNumber"],hI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fI=["indexId","uid","orderedDocumentKey"],wR=["userId","collectionPath","documentId"],CR=["userId","collectionPath","largestBatchId"],oT=["userId","collectionGroup","largestBatchId"],aT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pI=[...aT,"documentOverlays"],lT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mI=lT,DR=[...mI,"indexConfiguration","indexState","indexEntries"];class cT extends Rf{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function br(n,t){const e=Qe(n);return tl.N(e.ee,t)}class uT{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&KS(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Nd(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Nd(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=eI();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const _=X0(u,h);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(Mt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Gt())}isEqual(t){return this.batchId===t.batchId&&Dd(this.mutations,t.mutations,(e,i)=>QS(e,i))&&Dd(this.baseMutations,t.baseMutations,(e,i)=>QS(e,i))}}class mw{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){St(t.mutations.length===i.length);let r=_R;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new mw(t,e,i,r)}}class Hf{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lu{constructor(t,e,i,r,o=Mt.min(),u=Mt.min(),h=ri.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new lu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new lu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class dT{constructor(t){this.ne=t}}function cu(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:jm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:tv(r=n.ne,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Xy(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Jl(t.version)};else{if(!t.isUnknownDocument())return st();i.unknownDocument={path:e.path.toArray(),version:Jl(t.version)}}var r,o;return i}function jm(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Jl(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Xl(n){const t=new ii(n.seconds,n.nanoseconds);return Mt.fromTimestamp(t)}function Ud(n,t){const e=(t.baseMutations||[]).map(o=>lw(n.ne,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>lw(n.ne,o)),r=ii.fromMillis(t.localWriteTimeMs);return new uT(t.batchId,r,e,i)}function Hd(n){const t=Xl(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Xl(n.lastLimboFreeSnapshotVersion):Mt.min();let i;var r;return void 0!==n.query.documents?(St(1===(r=n.query).documents.length),i=io(Lf(YE(r.documents[0])))):i=io(uw(n.query)),new lu(i,n.targetId,0,n.lastListenSequenceNumber,t,e,ri.fromBase64String(n.resumeToken))}function sv(n,t){const e=Jl(t.snapshotVersion),i=Jl(t.lastLimboFreeSnapshotVersion);let r;r=Vy(t.target)?rv(n.ne,t.target):cw(n.ne,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:sl(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ov(n){const t=uw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$0(t,t.limit,"L"):t}function av(n,t){return new Hf(t.largestBatchId,lw(n.ne,t.overlayMutation))}function gI(n,t){const e=t.path.lastSegment();return[n,Vr(t.path.popLast()),e]}function _I(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Jl(i.readTime),documentKey:Vr(i.documentKey.path),largestBatchId:i.largestBatchId}}class ER{getBundleMetadata(t,e){return yI(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Xl(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return yI(t).put({bundleId:(i=e).id,createTime:Jl(Ki(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return vI(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:ov(r.bundledQuery),readTime:Xl(r.readTime)};var r})}saveNamedQuery(t,e){return vI(t).put({name:(i=e).name,readTime:Jl(Ki(i.readTime)),bundledQuery:i.bundledQuery});var i}}function yI(n){return br(n,"bundles")}function vI(n){return br(n,"namedQueries")}class gw{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new gw(t,e.uid||"")}getOverlay(t,e){return lv(t).get(gI(this.userId,e)).next(i=>i?av(this.wt,i):null)}getOverlays(t,e){const i=da();return se.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new Hf(e,u);r.push(this.ie(t,h))}),se.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Vr(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(lv(t).W("collectionPathOverlayIndex",h))}),se.waitFor(o)}getOverlaysForCollection(t,e,i){const r=da(),o=Vr(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return lv(t).K("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const w=av(this.wt,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=da();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return lv(t).J({index:"collectionGroupOverlayIndex",range:h},(_,w,D)=>{const S=av(this.wt,w);o.size()<r||S.largestBatchId===u?(o.set(S.getKey(),S),u=S.largestBatchId):D.done()}).next(()=>o)}ie(t,e){return lv(t).put(function(i,r,o){const[u,h,_]=gI(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:_,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Bd(i.ne,o.mutation)}}(this.wt,this.userId,e))}}function lv(n){return br(n,"documentOverlays")}class uu{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(xi(t.integerValue));else if("doubleValue"in t){const i=xi(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),Pf(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(eu(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?z0(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):st()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const r of Object.keys(i))this.le(r,e),this.oe(i[r],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const r of i)this.oe(r,e)}_e(t,e){this.ce(e,37),$e.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function bI(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function fT(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=bI(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}uu.ye=new uu;class wI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ie(i.value),i=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=e.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(t){const e=this.Ve(t),i=fT(e);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}De(t){const e=this.Ve(t),i=fT(e);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Oe(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class CI{constructor(t){this.Me=t}de(t){this.Me.pe(t)}he(t){this.Me.be(t)}ae(t){this.Me.ve(t)}ue(){this.Me.Ce()}}class pT{constructor(t){this.Me=t}de(t){this.Me.Ee(t)}he(t){this.Me.Pe(t)}ae(t){this.Me.De(t)}ue(){this.Me.Ne()}}class jf{constructor(){this.Me=new wI,this.Fe=new CI(this.Me),this.$e=new pT(this.Me)}seed(t){this.Me.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class du{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new du(this.indexId,this.documentKey,this.arrayValue,i)}}function jd(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=mT(n.arrayValue,t.arrayValue),0!==e?e:(e=mT(n.directionalValue,t.directionalValue),0!==e?e:$e.comparator(n.documentKey,t.documentKey)))}function mT(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class gT{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const i=e;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(t){const e=Cm(t);if(void 0!==e&&!this.Qe(e))return!1;const i=Td(t);let r=0,o=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const u=i[r];if(!this.je(this.Ke,u)||!this.We(this.Ue[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Ue.length||!this.We(this.Ue[o++],u))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class cv{constructor(){this.ze=new _T}addToCollectionParentIndex(t,e){return this.ze.add(e),se.resolve()}getCollectionParents(t,e){return se.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return se.resolve()}deleteFieldIndex(t,e){return se.resolve()}getDocumentsMatchingTarget(t,e){return se.resolve(null)}getIndexType(t,e){return se.resolve(0)}getFieldIndexes(t,e){return se.resolve([])}getNextCollectionGroupToUpdate(t){return se.resolve(null)}getMinOffset(t,e){return se.resolve(Rs.min())}getMinOffsetFromCollectionGroup(t,e){return se.resolve(Rs.min())}updateCollectionGroup(t,e,i){return se.resolve()}updateIndexEntries(t,e){return se.resolve()}}class _T{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Cn(Kt.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Cn(Kt.comparator)).toArray()}}const Zm=new Uint8Array(0);class uv{constructor(t,e){this.user=t,this.databaseId=e,this.He=new _T,this.Je=new Ql(i=>sl(i),(i,r)=>km(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const o={collectionId:i,parent:Vr(r)};return yT(t).put(o)}return se.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[mE(e),""],!1,!0);return yT(t).K(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(fa(u.parent))}return i})}addFieldIndex(t,e){const i=dv(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(e.indexState){const u=Gm(t);return o.next(h=>{u.put(_I(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=dv(t),r=Gm(t),o=qm(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=qm(t);let r=!0;const o=new Map;return se.forEach(this.Ye(e),u=>this.Xe(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=Gt();const h=[];return se.forEach(o,(_,w)=>{var D;Fe("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(je=>`${je.fieldPath}:${je.kind}`).join(",")}`} to execute ${sl(e)}`);const S=function(je,He){const Dt=Cm(He);if(void 0===Dt)return null;for(const Rt of By(je,Dt.fieldPath))switch(Rt.op){case"array-contains-any":return Rt.value.arrayValue.values||[];case"array-contains":return[Rt.value]}return null}(w,_),O=function(je,He){const Dt=new Map;for(const Rt of Td(He))for(const on of By(je,Rt.fieldPath))switch(on.op){case"==":case"in":Dt.set(Rt.fieldPath.canonicalString(),on.value);break;case"not-in":case"!=":return Dt.set(Rt.fieldPath.canonicalString(),on.value),Array.from(Dt.values())}return null}(w,_),L=function(je,He){const Dt=[];let Rt=!0;for(const on of Td(He)){const Qi=0===on.kind?Rm(je,on.fieldPath,je.startAt):Om(je,on.fieldPath,je.startAt);Dt.push(Qi.value),Rt&&(Rt=Qi.inclusive)}return new ol(Dt,Rt)}(w,_),H=function(je,He){const Dt=[];let Rt=!0;for(const on of Td(He)){const Qi=0===on.kind?Om(je,on.fieldPath,je.endAt):Rm(je,on.fieldPath,je.endAt);Dt.push(Qi.value),Rt&&(Rt=Qi.inclusive)}return new ol(Dt,Rt)}(w,_),Q=this.Ze(_,w,L),ie=this.Ze(_,w,H),Ue=this.tn(_,w,O),Ke=this.en(_.indexId,S,Q,L.inclusive,ie,H.inclusive,Ue);return se.forEach(Ke,je=>i.j(je,e.limit).next(He=>{He.forEach(Dt=>{const Rt=$e.fromSegments(Dt.documentKey);u.has(Rt)||(u=u.add(Rt),h.push(Rt))})}))}).next(()=>h)}return se.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,i,r,o,u,h){const _=(null!=e?e.length:1)*Math.max(i.length,o.length),w=_/(null!=e?e.length:1),D=[];for(let S=0;S<_;++S){const O=e?this.nn(e[S/w]):Zm,L=this.sn(t,O,i[S%w],r),H=this.rn(t,O,o[S%w],u),Q=h.map(ie=>this.sn(t,O,ie,!0));D.push(...this.createRange(L,H,Q))}return D}sn(t,e,i,r){const o=new du(t,$e.empty(),e,i);return r?o:o.Le()}rn(t,e,i,r){const o=new du(t,$e.empty(),e,i);return r?o.Le():o}Xe(t,e){const i=new gT(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const h of o)i.Ge(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return se.forEach(this.Ye(e),r=>this.Xe(t,r).next(o=>{o?0!==i&&o.fields.length<function(u){let h=new Cn(di.comparator),_=!1;for(const w of u.filters){const D=w;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?_=!0:h=h.add(D.field))}for(const w of u.orderBy)w.field.isKeyField()||(h=h.add(w.field));return h.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(t,e){const i=new jf;for(const r of Td(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.Be(r.kind);uu.ye.re(o,u)}return i.Oe()}nn(t){const e=new jf;return uu.ye.re(t,e.Be(0)),e.Oe()}un(t,e){const i=new jf;return uu.ye.re(iu(this.databaseId,e),i.Be(function(r){const o=Td(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Oe()}tn(t,e,i){if(null===i)return[];let r=[];r.push(new jf);let o=0;for(const u of Td(t)){const h=i[o++];for(const _ of r)if(this.cn(e,u.fieldPath)&&Nf(h))r=this.an(r,u,h);else{const w=_.Be(u.kind);uu.ye.re(h,w)}}return this.hn(r)}Ze(t,e,i){return this.tn(t,e,i.position)}hn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Oe();return e}an(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const _=new jf;_.seed(h.Oe()),uu.ye.re(u,_.Be(e.kind)),o.push(_)}return o}cn(t,e){return!!t.filters.find(i=>i instanceof vr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=dv(t),r=Gm(t);return(e?i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.K()).next(o=>{const u=[];return se.forEach(o,h=>r.get([h.indexId,this.uid]).next(_=>{u.push(function(w,D){const S=D?new Em(D.sequenceNumber,new Rs(Xl(D.readTime),new $e(fa(D.documentKey)),D.largestBatchId)):Em.empty(),O=w.fields.map(([L,H])=>new Dm(di.fromServerFormat(L),H));return new ky(w.indexId,w.collectionGroup,O,S)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Vt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=dv(t),o=Gm(t);return this.ln(t).next(u=>r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>se.forEach(h,_=>o.put(_I(_.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return se.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?se.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),se.forEach(h,_=>this.fn(t,r,_).next(w=>{const D=this.dn(o,_);return w.isEqual(D)?se.resolve():this._n(t,o,_,w,D)}))))})}wn(t,e,i,r){return qm(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,e.key),documentKey:e.key.path.toArray()})}mn(t,e,i,r){return qm(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,e.key),e.key.path.toArray()])}fn(t,e,i){const r=qm(t);let o=new Cn(jd);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,e)])},(u,h)=>{o=o.add(new du(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}dn(t,e){let i=new Cn(jd);const r=this.on(e,t);if(null==r)return i;const o=Cm(e);if(null!=o){const u=t.data.field(o.fieldPath);if(Nf(u))for(const h of u.arrayValue.values||[])i=i.add(new du(e.indexId,t.key,this.nn(h),r))}else i=i.add(new du(e.indexId,t.key,Zm,r));return i}_n(t,e,i,r,o){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,_,w,D,S){const O=h.getIterator(),L=_.getIterator();let H=xm(O),Q=xm(L);for(;H||Q;){let ie=!1,Ue=!1;if(H&&Q){const Ke=w(H,Q);Ke<0?Ue=!0:Ke>0&&(ie=!0)}else null!=H?Ue=!0:ie=!0;ie?(D(Q),Q=xm(L)):Ue?(S(H),H=xm(O)):(H=xm(O),Q=xm(L))}}(r,o,jd,h=>{u.push(this.wn(t,e,i,h))},h=>{u.push(this.mn(t,e,i,h))}),se.waitFor(u)}ln(t){let e=1;return Gm(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>jd(u,h)).filter((u,h,_)=>!h||0!==jd(u,_[h-1]));const r=[];r.push(t);for(const u of i){const h=jd(u,t),_=jd(u,e);if(0===h)r[0]=t.Le();else if(h>0&&_<0)r.push(u),r.push(u.Le());else if(_>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2)o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,Zm,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,Zm,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(DI)}getMinOffset(t,e){return se.mapArray(this.Ye(e),i=>this.Xe(t,i).next(r=>r||st())).next(DI)}}function yT(n){return br(n,"collectionParents")}function qm(n){return br(n,"indexEntries")}function dv(n){return br(n,"indexConfiguration")}function Gm(n){return br(n,"indexState")}function DI(n){St(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;yE(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Rs(t.readTime,t.documentKey,e)}const vT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Os{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Os(t,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bT(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const _=i.J({range:u},(D,S,O)=>(h++,O.delete()));o.push(_.next(()=>{St(1===h)}));const w=[];for(const D of e.mutations){const S=fw(t,D.key.path,e.batchId);o.push(r.delete(S)),w.push(D.key)}return se.waitFor(o).next(()=>w)}function hv(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw st();t=n.noDocument}return JSON.stringify(t).length}Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(41943040,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);class fv{constructor(t,e,i,r){this.userId=t,this.wt=e,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(t,e,i,r){St(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new fv(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hu(t).J({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=Zf(t),u=hu(t);return u.add({}).next(h=>{St("number"==typeof h);const _=new uT(h,e,i,r),w=function(O,L,H){const Q=H.baseMutations.map(Ue=>Bd(O.ne,Ue)),ie=H.mutations.map(Ue=>Bd(O.ne,Ue));return{userId:L,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:Q,mutations:ie}}(this.wt,this.userId,_),D=[];let S=new Cn((O,L)=>Vt(O.canonicalString(),L.canonicalString()));for(const O of r){const L=fw(this.userId,O.key.path,h);S=S.add(O.key.path.popLast()),D.push(u.put(w)),D.push(o.put(L,tT))}return S.forEach(O=>{D.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.gn[h]=_.keys()}),se.waitFor(D).next(()=>_)})}lookupMutationBatch(t,e){return hu(t).get(e).next(i=>i?(St(i.userId===this.userId),Ud(this.wt,i)):null)}yn(t,e){return this.gn[e]?se.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.gn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return hu(t).J({index:"userMutationsIndex",range:r},(u,h,_)=>{h.userId===this.userId&&(St(h.batchId>=i),o=Ud(this.wt,h)),_.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return hu(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hu(t).K("userMutationsIndex",e).next(i=>i.map(r=>Ud(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=hw(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Zf(t).J({range:r},(u,h,_)=>{const[w,D,S]=u,O=fa(D);if(w===this.userId&&e.path.isEqual(O))return hu(t).get(S).next(L=>{if(!L)throw st();St(L.userId===this.userId),o.push(Ud(this.wt,L))});_.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Cn(Vt);const r=[];return e.forEach(o=>{const u=hw(this.userId,o.path),h=IDBKeyRange.lowerBound(u),_=Zf(t).J({range:h},(w,D,S)=>{const[O,L,H]=w,Q=fa(L);O===this.userId&&o.path.isEqual(Q)?i=i.add(H):S.done()});r.push(_)}),se.waitFor(r).next(()=>this.pn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=hw(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new Cn(Vt);return Zf(t).J({range:u},(_,w,D)=>{const[S,O,L]=_,H=fa(O);S===this.userId&&i.isPrefixOf(H)?H.length===r&&(h=h.add(L)):D.done()}).next(()=>this.pn(t,h))}pn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(hu(t).get(o).next(u=>{if(null===u)throw st();St(u.userId===this.userId),i.push(Ud(this.wt,u))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return bT(t.ee,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Zf(t).J({range:i},(o,u,h)=>{if(o[0]===this.userId){const _=fa(o[1]);r.push(_)}else h.done()}).next(()=>{St(0===r.length)})})}containsKey(t,e){return wT(t,this.userId,e)}Tn(t){return EI(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wT(n,t,e){const i=hw(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return Zf(n).J({range:o,H:!0},(h,_,w)=>{const[D,S,O]=h;D===t&&S===r&&(u=!0),w.done()}).next(()=>u)}function hu(n){return br(n,"mutations")}function Zf(n){return br(n,"documentMutations")}function EI(n){return br(n,"mutationQueues")}class qf{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new qf(0)}static Rn(){return new qf(-1)}}class TR{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const i=new qf(e.highestTargetId);return e.highestTargetId=i.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>Mt.fromTimestamp(new ii(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Pn(t,r)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(i=>(i.targetCount+=1,this.Vn(e,i),this.Pn(t,i))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>zm(t).delete(e.targetId)).next(()=>this.bn(t)).next(i=>(St(i.targetCount>0),i.targetCount-=1,this.Pn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return zm(t).J((u,h)=>{const _=Hd(h);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,o.push(this.removeTargetData(t,_)))}).next(()=>se.waitFor(o)).next(()=>r)}forEachTarget(t,e){return zm(t).J((i,r)=>{const o=Hd(r);e(o)})}bn(t){return TI(t).get("targetGlobalKey").next(e=>(St(null!==e),e))}Pn(t,e){return TI(t).put("targetGlobalKey",e)}vn(t,e){return zm(t).put(sv(this.wt,e))}Vn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=sl(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return zm(t).J({range:r,index:"queryTargetsIndex"},(u,h,_)=>{const w=Hd(h);km(e,w.target)&&(o=w,_.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=fu(t);return e.forEach(u=>{const h=Vr(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),se.waitFor(r)}removeMatchingKeys(t,e,i){const r=fu(t);return se.forEach(e,o=>{const u=Vr(o.path);return se.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=fu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=fu(t);let o=Gt();return r.J({range:i,H:!0},(u,h,_)=>{const w=fa(u[1]),D=new $e(w);o=o.add(D)}).next(()=>o)}containsKey(t,e){const i=Vr(e.path),r=IDBKeyRange.bound([i],[mE(i)],!1,!0);let o=0;return fu(t).J({index:"documentTargetsIndex",H:!0,range:r},([u,h],_,w)=>{0!==u&&(o++,w.done())}).next(()=>o>0)}te(t,e){return zm(t).get(e).next(i=>i?Hd(i):null)}}function zm(n){return br(n,"targets")}function TI(n){return br(n,"targetGlobal")}function fu(n){return br(n,"targetDocuments")}function xI([n,t],[e,i]){const r=Vt(n,e);return 0===r?Vt(t,i):r}class xR{constructor(t){this.Sn=t,this.buffer=new Cn(xI),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();xI(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class MR{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,me.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Jc(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Kc(i)}yield e.kn(3e5)}))}}class SR{constructor(t,e){this.On=t,this.params=e}calculateTargetCount(t,e){return this.On.Mn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return se.resolve(or.ot);const i=new xR(e);return this.On.forEachTarget(t,r=>i.xn(r.sequenceNumber)).next(()=>this.On.Fn(t,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.On.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.On.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(vT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vT):this.$n(t,e))}getCacheSize(t){return this.On.getCacheSize(t)}$n(t,e){let i,r,o,u,h,_,w;const D=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,u=Date.now(),this.nthSequenceNumber(t,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(t,i,e))).next(S=>(o=S,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(S=>(w=Date.now(),L0()<=jl.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(_-h)+`ms\n\tRemoved ${S} documents in `+(w-_)+`ms\nTotal Duration: ${w-D}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:S})))}}class a{constructor(t,e){this.db=t,this.garbageCollector=new SR(this,e)}Mn(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Bn(t){let e=0;return this.Fn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(i,r)=>e(r))}addReference(t,e,i){return l(t,i)}removeReference(t,e,i){return l(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return l(t,e)}Un(t,e){return function(i,r){let o=!1;return EI(i).Y(u=>wT(i,u,r).next(h=>(h&&(o=!0),se.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Ln(t,(u,h)=>{if(h<=e){const _=this.Un(t,u).next(w=>{if(!w)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Mt.min()),fu(t).delete([0,Vr(u.path)])))});r.push(_)}}).next(()=>se.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return l(t,e)}Ln(t,e){const i=fu(t);let r,o=or.ot;return i.J({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:w})=>{0===u?(o!==or.ot&&e(new $e(fa(r)),o),o=w,r=_):o=or.ot}).next(()=>{o!==or.ot&&e(new $e(fa(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function l(n,t){return fu(n).put((i=n.currentSequenceNumber,{targetId:0,path:Vr(t.path),sequenceNumber:i}));var i}class c{constructor(){this.changes=new Ql(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?se.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class d{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return C(t).put(i)}removeEntry(t,e,i){return C(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],jm(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.qn(t,i)))}getEntry(t,e){let i=Sn.newInvalidDocument(e);return C(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(E(e))},(r,o)=>{i=this.Kn(e,o)}).next(()=>i)}Gn(t,e){let i={size:0,document:Sn.newInvalidDocument(e)};return C(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(E(e))},(r,o)=>{i={document:this.Kn(e,o),size:hv(o)}}).next(()=>i)}getEntries(t,e){let i=Jr();return this.Qn(t,e,(r,o)=>{const u=this.Kn(r,o);i=i.insert(r,u)}).next(()=>i)}jn(t,e){let i=Jr(),r=new vi($e.comparator);return this.Qn(t,e,(o,u)=>{const h=this.Kn(o,u);i=i.insert(o,h),r=r.insert(o,hv(u))}).next(()=>({documents:i,Wn:r}))}Qn(t,e,i){if(e.isEmpty())return se.resolve();let r=new Cn(k);e.forEach(_=>r=r.add(_));const o=IDBKeyRange.bound(E(r.first()),E(r.last())),u=r.getIterator();let h=u.getNext();return C(t).J({index:"documentKeyIndex",range:o},(_,w,D)=>{const S=$e.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;h&&k(h,S)<0;)i(h,null),h=u.getNext();h&&h.isEqual(S)&&(i(h,w),h=u.hasNext()?u.getNext():null),h?D.q(E(h)):D.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),jm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return C(t).K(IDBKeyRange.bound(r,o,!0)).next(u=>{let h=Jr();for(const _ of u){const w=this.Kn($e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);h=h.insert(w.key,w)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=Jr();const u=I(e,i),h=I(e,Rs.max());return C(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,w,D)=>{const S=this.Kn($e.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);o=o.insert(S.key,S),o.size===r&&D.done()}).next(()=>o)}newChangeBuffer(t){return new g(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return v(t).get("remoteDocumentGlobalKey").next(e=>(St(!!e),e))}qn(t,e){return v(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const i=function hT(n,t){let e;if(t.document)e=KE(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=$e.fromSegments(t.noDocument.path),r=Xl(t.noDocument.readTime);e=Sn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return st();{const i=$e.fromSegments(t.unknownDocument.path),r=Xl(t.unknownDocument.version);e=Sn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ii(i[0],i[1]);return Mt.fromTimestamp(r)}(t.readTime)),e}(this.wt,e);if(!i.isNoDocument()||!i.version.isEqual(Mt.min()))return i}return Sn.newInvalidDocument(t)}}function f(n){return new d(n)}class g extends c{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new Ql(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Cn((o,u)=>Vt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Hn.get(o);if(e.push(this.zn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const _=cu(this.zn.wt,u);r=r.add(o.path.popLast()),i+=hv(_)-h.size,e.push(this.zn.addEntry(t,o,_))}else if(i-=h.size,this.trackRemovals){const _=cu(this.zn.wt,u.convertToNoDocument(Mt.min()));e.push(this.zn.addEntry(t,o,_))}}),r.forEach(o=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.zn.updateMetadata(t,i)),se.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(i=>(this.Hn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:i,Wn:r})=>(r.forEach((o,u)=>{this.Hn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function v(n){return br(n,"remoteDocumentGlobal")}function C(n){return br(n,"remoteDocumentsV14")}function E(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function I(n,t){const e=t.documentKey.path.toArray();return[n,jm(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function k(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Vt(e[o],i[o]),r)return r;return r=Vt(e.length,i.length),r||(r=Vt(e[e.length-2],i[i.length-2]),r||Vt(e[e.length-1],i[i.length-1]))}class N{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class G{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Nd(i.mutation,r,to.empty(),ii.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Gt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Gt()){const r=da();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=Bm();return o.forEach((h,_)=>{u=u.insert(h,_.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=da();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Gt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=Jr();const u=Wy(),h=Wy();return e.forEach((_,w)=>{const D=i.get(w.key);r.has(w.key)&&(void 0===D||D.mutation instanceof Kl)?o=o.insert(w.key,w):void 0!==D&&(u.set(w.key,D.mutation.getFieldMask()),Nd(D.mutation,w,D.mutation.getFieldMask(),ii.now()))}),this.recalculateAndSaveOverlays(t,o).next(_=>(_.forEach((w,D)=>u.set(w,D)),e.forEach((w,D)=>{var S;return h.set(w,new N(D,null!==(S=u.get(w))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Wy();let r=new vi((u,h)=>u-h),o=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(_=>{const w=e.get(_);if(null===w)return;let D=i.get(_)||to.empty();D=h.applyToLocalView(w,D),i.set(_,D);const S=(r.get(h.batchId)||Gt()).add(_);r=r.insert(h.batchId,S)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),w=_.key,D=_.value,S=eI();D.forEach(O=>{if(!o.has(O)){const L=X0(e.get(O),i.get(O));null!==L&&S.set(O,L),o=o.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(t,w,S))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return $e.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):qy(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):se.resolve(da());let h=-1,_=o;return u.next(w=>se.forEach(w,(D,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(D)?se.resolve():this.getBaseDocument(t,D,S).next(O=>{_=_.insert(D,O)}))).next(()=>this.populateOverlays(t,w,o)).next(()=>this.computeViews(t,_,w,Gt())).next(D=>({batchId:h,changes:XS(D)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new $e(e)).next(i=>{let r=Bm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=Bm();return this.indexManager.getCollectionParents(t,r).next(u=>se.forEach(u,h=>{const _=(w=e,D=h.child(r),new Wl(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(t,_,i).next(w=>{w.forEach((D,S)=>{o=o.insert(D,S)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((h,_)=>{const w=_.getKey();null===r.get(w)&&(r=r.insert(w,Sn.newInvalidDocument(w)))});let u=Bm();return r.forEach((h,_)=>{const w=o.get(h);void 0!==w&&Nd(w.mutation,_,to.empty(),ii.now()),W0(e,_)&&(u=u.insert(h,_))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):se.resolve(Sn.newInvalidDocument(e))}}class J{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return se.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:Ki(i.createTime)}),se.resolve()}getNamedQuery(t,e){return se.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:ov(i.bundledQuery),readTime:Ki(i.readTime)}),se.resolve();var i}}class be{constructor(){this.overlays=new vi($e.comparator),this.Xn=new Map}getOverlay(t,e){return se.resolve(this.overlays.get(e))}getOverlays(t,e){const i=da();return se.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ie(t,e,o)}),se.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Xn.delete(i)),se.resolve()}getOverlaysForCollection(t,e,i){const r=da(),o=e.length+1,u=new $e(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,w=_.getKey();if(!e.isPrefixOf(w.path))break;w.path.length===o&&_.largestBatchId>i&&r.set(_.getKey(),_)}return se.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new vi((w,D)=>w-D);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===e&&w.largestBatchId>i){let D=o.get(w.largestBatchId);null===D&&(D=da(),o=o.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const h=da(),_=o.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,D)=>h.set(w,D)),!(h.size()>=r)););return se.resolve(h)}ie(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Hf(e,i));let o=this.Xn.get(e);void 0===o&&(o=Gt(),this.Xn.set(e,o)),this.Xn.set(e,o.add(i.key))}}class Ve{constructor(){this.Zn=new Cn(Ne.ts),this.es=new Cn(Ne.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new Ne(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new Ne(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new $e(new Kt([])),i=new Ne(e,t),r=new Ne(e,t+1),o=[];return this.es.forEachInRange([i,r],u=>{this.rs(u),o.push(u.key)}),o}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new $e(new Kt([])),i=new Ne(e,t),r=new Ne(e,t+1);let o=Gt();return this.es.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Ne(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ne{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return $e.comparator(t.key,e.key)||Vt(t.ls,e.ls)}static ns(t,e){return Vt(t.ls,e.ls)||$e.comparator(t.key,e.key)}}class ot{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new Cn(Ne.ts)}checkEmpty(t){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.fs;this.fs++;const u=new uT(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.ds=this.ds.add(new Ne(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(t,e){return se.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ws(e+1),o=r<0?0:r;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ne(e,0),r=new Ne(e,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([i,r],u=>{const h=this._s(u.ls);o.push(h)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Cn(Vt);return e.forEach(r=>{const o=new Ne(r,0),u=new Ne(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([o,u],h=>{i=i.add(h.ls)})}),se.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;$e.isDocumentKey(o)||(o=o.child(""));const u=new Ne(new $e(o),0);let h=new Cn(Vt);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(h=h.add(_.ls)),!0)},u),se.resolve(this.gs(h))}gs(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){St(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return se.forEach(e.mutations,r=>{const o=new Ne(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new Ne(e,0),r=this.ds.firstAfterOrEqual(i);return se.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return se.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class De{constructor(t){this.ps=t,this.docs=new vi($e.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return se.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(e))}getEntries(t,e){let i=Jr();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Sn.newInvalidDocument(r))}),se.resolve(i)}getAllFromCollection(t,e,i){let r=Jr();const o=new $e(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:_}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||yE(_E(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return se.resolve(r)}getAllFromCollectionGroup(t,e,i,r){st()}Is(t,e){return se.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new _t(this)}getSize(t){return se.resolve(this.size)}}class _t extends c{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(i)}),se.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class Yt{constructor(t){this.persistence=t,this.Ts=new Ql(e=>sl(e),km),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.Es=0,this.As=new Ve,this.targetCount=0,this.Rs=qf.An()}forEachTarget(t,e){return this.Ts.forEach((i,r)=>e(r)),se.resolve()}getLastRemoteSnapshotVersion(t){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return se.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),se.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new qf(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,se.resolve()}updateTargetData(t,e){return this.vn(e),se.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,se.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Ts.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Ts.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),se.waitFor(o).next(()=>r)}getTargetCount(t){return se.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return se.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),se.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),se.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),se.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return se.resolve(i)}containsKey(t,e){return se.resolve(this.As.containsKey(e))}}class gn{constructor(t,e){this.bs={},this.overlays={},this.Ps=new or(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Yt(this),this.indexManager=new cv,this.remoteDocumentCache=new De(i=>this.referenceDelegate.Ss(i)),this.wt=new dT(e),this.Ds=new J(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new be,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new ot(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){Fe("MemoryPersistence","Starting transaction:",t);const r=new so(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(o=>this.referenceDelegate.xs(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ns(t,e){return se.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class so extends Rf{constructor(t){super(),this.currentSequenceNumber=t}}class ll{constructor(t){this.persistence=t,this.ks=new Ve,this.Os=null}static Ms(t){return new ll(t)}get Fs(){if(this.Os)return this.Os;throw st()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),se.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),se.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),se.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Fs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Os=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Fs,i=>{const r=$e.fromPath(i);return this.$s(t,r).next(o=>{o||e.removeEntry(r,Mt.min())})}).next(()=>(this.Os=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return se.or([()=>se.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class _w{constructor(t){this.wt=t}O(t,e,i,r){const o=new Ry("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eT,{unique:!0}),h.createObjectStore("documentMutations"),pv(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=se.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),pv(t)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,_){return _.store("mutations").K().next(w=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eT,{unique:!0});const D=_.store("mutations"),S=w.map(O=>D.put(O));return se.waitFor(S)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Bs(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(o)))),i<7&&r>=7&&(u=u.next(()=>this.Us(o))),i<8&&r>=8&&(u=u.next(()=>this.qs(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Ks(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:wR});_.createIndex("collectionPathOverlayIndex",CR,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",oT,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:cI});_.createIndex("documentKeyIndex",uI),_.createIndex("collectionGroupIndex",nT)}(t)).next(()=>this.Gs(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.Qs(t,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:rT}).createIndex("sequenceNumberIndex",sT,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:hI}).createIndex("documentKeyIndex",fI,{unique:!1})}(t))),u}Ls(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=hv(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.K().next(r=>se.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",u).next(h=>se.forEach(h,_=>{St(_.userId===o.userId);const w=Ud(this.wt,_);return bT(t,o.userId,w).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((u,h)=>{const _=new Kt(u),w=[0,Vr(_)];o.push(e.get(w).next(D=>D?se.resolve():e.put({targetId:0,path:Vr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(o))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:dI});const i=e.store("collectionParents"),r=new _T,o=u=>{if(r.add(u)){const h=u.lastSegment(),_=u.popLast();return i.put({collectionId:h,parent:Vr(_)})}};return e.store("remoteDocuments").J({H:!0},(u,h)=>{const _=new Kt(u);return o(_.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([u,h,_],w)=>{const D=fa(h);return o(D.popLast())}))}Ks(t){const e=t.store("targets");return e.J((i,r)=>{const o=Hd(r),u=sv(this.wt,o);return e.put(u)})}Gs(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,u)=>{const h=e.store("remoteDocumentsV14"),_=(w=u,w.document?new $e(Kt.fromString(w.document.name).popFirst(5)):w.noDocument?$e.fromSegments(w.noDocument.path):w.unknownDocument?$e.fromSegments(w.unknownDocument.path):st()).path.toArray();var w;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(D))}).next(()=>se.waitFor(r))}Qs(t,e){const i=e.store("mutations"),r=f(this.wt),o=new gn(ll.Ms,this.wt.ne);return i.K().next(u=>{const h=new Map;return u.forEach(_=>{var w;let D=null!==(w=h.get(_.userId))&&void 0!==w?w:Gt();Ud(this.wt,_).keys().forEach(S=>D=D.add(S)),h.set(_.userId,D)}),se.forEach(h,(_,w)=>{const D=new Yi(w),S=gw.se(this.wt,D),O=o.getIndexManager(D),L=fv.se(D,this.wt,O,o.referenceDelegate);return new G(r,L,S,O).recalculateAndSaveOverlaysForDocumentKeys(new cT(e,or.ot),_).next()})})}}function pv(n){n.createObjectStore("targetDocuments",{keyPath:pw}).createIndex("documentTargetsIndex",iT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Hm,{unique:!0}),n.createObjectStore("targetGlobal")}const $m="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ym{constructor(t,e,i,r,o,u,h,_,w,D,S=14){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.js=o,this.window=u,this.document=h,this.Ws=w,this.zs=D,this.Hs=S,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=O=>Promise.resolve(),!Ym.V())throw new Ie(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new a(this,r),this.ei=e+"main",this.wt=new dT(_),this.ni=new tl(this.ei,this.Hs,new _w(this.wt)),this.Vs=new TR(this.referenceDelegate,this.wt),this.remoteDocumentCache=f(this.wt),this.Ds=new ER,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===D&&yi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ie(de.FAILED_PRECONDITION,$m);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new or(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var i=(0,me.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,me.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,me.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Gf(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(Jc(t))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return Zd(t).get("owner").next(e=>se.resolve(this.di(e)))}_i(t){return Gf(t).delete(this.clientId)}wi(){var t=this;return(0,me.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=br(i,"clientMetadata");return r.K().next(o=>{const u=t.gi(o,18e5),h=o.filter(_=>-1===u.indexOf(_));return se.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(t.si)for(const i of e)t.si.removeItem(t.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?se.resolve(!0):Zd(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new Ie(de.FAILED_PRECONDITION,$m);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gf(t).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Fe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,me.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new cT(e,or.ot);return t.li(i).next(()=>t._i(i))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(i=>this.mi(i.updateTimeMs,e)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>Gf(t).K().next(e=>this.gi(e,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return fv.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new uv(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return gw.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,i){Fe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(u=this.Hs)?DR:14===u?mI:13===u?lT:12===u?pI:11===u?aT:void st();var u;let h;return this.ni.runTransaction(t,r,o,_=>(h=new cT(_,this.Ps?this.Ps.next():or.ot),"readwrite-primary"===e?this.ai(h).next(w=>!!w||this.hi(h)).next(w=>{if(!w)throw yi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ie(de.FAILED_PRECONDITION,vE);return i(h)}).next(w=>this.fi(h).next(()=>w)):this.bi(h).next(()=>i(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}bi(t){return Zd(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ie(de.FAILED_PRECONDITION,$m)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zd(t).put("owner",e)}static V(){return tl.V()}li(t){const e=Zd(t);return e.get("owner").next(i=>this.di(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):se.resolve())}mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(yi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Tt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const i=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return Fe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return yi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){yi("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(t){}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Zd(n){return br(n,"owner")}function Gf(n){return br(n,"clientMetadata")}function Wm(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Km{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=r}static Vi(t,e){let i=Gt(),r=Gt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Km(t,e.fromCache,i,r)}}class mv{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ci(t,e).next(o=>o||this.xi(t,e,r,i)).next(o=>o||this.Ni(t,e))}Ci(t,e){return se.resolve(null)}xi(t,e,i,r){return function YS(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(Mt.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(o=>{const u=this.ki(e,o);return this.Oi(e,u,i,r)?this.Ni(t,e):(L0()<=jl.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gy(e)),this.Mi(t,u,e,V0(r,-1)))})}ki(t,e){let i=new Cn(PE(t));return e.forEach((r,o)=>{W0(t,o)&&(i=i.add(o))}),i}Oi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ni(t,e){return L0()<=jl.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Gy(e)),this.Di.getDocumentsMatchingQuery(t,e,Rs.min())}Mi(t,e,i,r){return this.Di.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class iV{constructor(t,e,i,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new vi(Vt),this.Bi=new Ql(o=>sl(o),km),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new G(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function IR(n,t,e,i){return new iV(n,t,e,i)}function AR(n,t){return MI.apply(this,arguments)}function MI(){return MI=(0,me.Z)(function*(n,t){const e=Qe(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let _=Gt();for(const w of r){u.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}for(const w of o){h.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}return e.localDocuments.getDocuments(i,_).next(w=>({Ki:w,removedBatchIds:u,addedBatchIds:h}))})})}),MI.apply(this,arguments)}function rV(n,t){const e=Qe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Ui.newChangeBuffer({trackRemovals:!0});return function(u,h,_,w){const D=_.batch,S=D.keys();let O=se.resolve();return S.forEach(L=>{O=O.next(()=>w.getEntry(h,L)).next(H=>{const Q=_.docVersions.get(L);St(null!==Q),H.version.compareTo(Q)<0&&(D.applyToRemoteDocument(H,_),H.isValidDocument()&&(H.setReadTime(_.commitVersion),w.addEntry(H)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(h,D))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Gt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(h=h.add(u.batch.mutations[_].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function kR(n){const t=Qe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function sV(n,t){const e=Qe(n),i=t.snapshotVersion;let r=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Ui.newChangeBuffer({trackRemovals:!0});r=e.$i;const h=[];t.targetChanges.forEach((D,S)=>{const O=r.get(S);if(!O)return;h.push(e.Vs.removeMatchingKeys(o,D.removedDocuments,S).next(()=>e.Vs.addMatchingKeys(o,D.addedDocuments,S)));let L=O.withSequenceNumber(o.currentSequenceNumber);var H,Q,ie;t.targetMismatches.has(S)?L=L.withResumeToken(ri.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):D.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(D.resumeToken,i)),r=r.insert(S,L),Q=L,ie=D,(0===(H=O).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&h.push(e.Vs.updateTargetData(o,L))});let _=Jr(),w=Gt();if(t.documentUpdates.forEach(D=>{t.resolvedLimboDocuments.has(D)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,D))}),h.push(RR(o,u,t.documentUpdates).next(D=>{_=D.Gi,w=D.Qi})),!i.isEqual(Mt.min())){const D=e.Vs.getLastRemoteSnapshotVersion(o).next(S=>e.Vs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(D)}return se.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,_,w)).next(()=>_)}).then(o=>(e.$i=r,o))}function RR(n,t,e){let i=Gt(),r=Gt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=Jr();return e.forEach((h,_)=>{const w=o.get(h);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(h)),_.isNoDocument()&&_.version.isEqual(Mt.min())?(t.removeEntry(h,_.readTime),u=u.insert(h,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(t.addEntry(_),u=u.insert(h,_)):Fe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",w.version," Watch version:",_.version)}),{Gi:u,Qi:r}})}function oV(n,t){const e=Qe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function gv(n,t){const e=Qe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Vs.getTargetData(i,t).next(o=>o?(r=o,se.resolve(r)):e.Vs.allocateTargetId(i).next(u=>(r=new lu(t,u,0,i.currentSequenceNumber),e.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function _v(n,t,e){return SI.apply(this,arguments)}function SI(){return SI=(0,me.Z)(function*(n,t,e){const i=Qe(n),r=i.$i.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Jc(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.$i=i.$i.remove(t),i.Bi.delete(r.target)}),SI.apply(this,arguments)}function CT(n,t,e){const i=Qe(n);let r=Mt.min(),o=Gt();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,_,w){const D=Qe(h),S=D.Bi.get(w);return void 0!==S?se.resolve(D.$i.get(S)):D.Vs.getTargetData(_,w)}(i,u,io(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(u,h.targetId).next(_=>{o=_})}).next(()=>i.Fi.getDocumentsMatchingQuery(u,t,e?r:Mt.min(),e?o:Gt())).next(h=>(FR(i,K0(t),h),{documents:h,ji:o})))}function OR(n,t){const e=Qe(n),i=Qe(e.Vs),r=e.$i.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.te(o,t).next(u=>u?u.target:null))}function PR(n,t){const e=Qe(n),i=e.Li.get(t)||Mt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Ui.getAllFromCollectionGroup(r,t,V0(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(FR(e,t,r),r))}function FR(n,t,e){let i=Mt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Li.set(t,i)}function II(){return II=(0,me.Z)(function*(n,t,e,i){const r=Qe(n);let o=Gt(),u=Jr();for(const w of e){const D=t.Wi(w.metadata.name);w.document&&(o=o.add(D));const S=t.zi(w);S.setReadTime(t.Hi(w.metadata.readTime)),u=u.insert(D,S)}const h=r.Ui.newChangeBuffer({trackRemovals:!0}),_=yield gv(r,(w=i,io(Lf(Kt.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>RR(w,h,u).next(D=>(h.apply(w),D)).next(D=>r.Vs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Vs.addMatchingKeys(w,o,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,D.Gi,D.Qi)).next(()=>D.Gi)))}),II.apply(this,arguments)}function lV(n,t){return AI.apply(this,arguments)}function AI(){return AI=(0,me.Z)(function*(n,t,e=Gt()){const i=yield gv(n,io(ov(t.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Ki(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ds.saveNamedQuery(o,t);const h=i.withResumeToken(ri.EMPTY_BYTE_STRING,u);return r.$i=r.$i.insert(h.targetId,h),r.Vs.updateTargetData(o,h).next(()=>r.Vs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Vs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ds.saveNamedQuery(o,t))})}),AI.apply(this,arguments)}function NR(n,t){return`firestore_clients_${n}_${t}`}function LR(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function kI(n,t){return`firestore_targets_${n}_${t}`}class DT{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ie(r.error.code,r.error.message))),u?new DT(t,e,r.state,o):(yi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class yw{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ie(i.error.code,i.error.message))),o?new yw(t,i.state,r):(yi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ET{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=rw();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Z0(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new ET(t,o):(yi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class RI{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new RI(e.clientId,e.onlineState):(yi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class OI{constructor(){this.activeTargetIds=rw()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PI{constructor(t,e,i,r,o){this.window=t,this.js=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new vi(Vt),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=NR(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new OI),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,me.Z)(function*(){const e=yield t.syncEngine.Ri();for(const r of e){if(r===t.tr)continue;const o=t.getItem(NR(t.persistenceKey,r));if(o){const u=ET.Ji(r,o);u&&(t.sr=t.sr.insert(u.clientId,u))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(kI(this.persistenceKey,t));if(i){const r=yw.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(kI(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Fe("SharedClientState","READ",t,e),e}setItem(t,e){Fe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Fe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void yi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,me.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.ar.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(o){let u=or.ot;if(null!=o)try{const h=JSON.parse(o);St("number"==typeof h),u=h}catch(h){yi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==or.ot&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Nr(o)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new DT(this.currentUser,t,e,i),o=LR(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Yi())}pr(t){const e=LR(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=kI(this.persistenceKey,t),o=new yw(t,e,i);this.setItem(r,o.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return ET.Ji(i,e)}vr(t,e){const i=this.ar.exec(t),r=Number(i[1]);return DT.Ji(new Yi(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return yw.Ji(r,e)}wr(t){return RI.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,me.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Or(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),o=this.gr(i),u=[],h=[];return o.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{o.has(_)||h.push(_)}),this.syncEngine.Mr(u,h).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=rw();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class VR{constructor(){this.Fr=new OI,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new OI,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class cV{Br(t){}shutdown(){}}class BR{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const uV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class dV{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class hV extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,o){const u=this.oo(t,e);Fe("RestConnection","Sending: ",u,i);const h={};return this.uo(h,r,o),this.co(t,u,h,i).then(_=>(Fe("RestConnection","Received: ",_),_),_=>{throw wm("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}ao(t,e,i,r,o,u){return this.ro(t,e,i,r,o)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+kf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}oo(t,e){return`${this.so}/v1/${e}:${uV[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((o,u)=>{const h=new Af;h.listenOnce(IS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case F0.NO_ERROR:const w=h.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(w)),o(w);break;case F0.TIMEOUT:Fe("Connection",'RPC "'+t+'" timed out'),u(new Ie(de.DEADLINE_EXCEEDED,"Request time out"));break;case F0.HTTP_ERROR:const D=h.getStatus();if(Fe("Connection",'RPC "'+t+'" failed with status:',D,"response text:",h.getResponseText()),D>0){const S=h.getResponseJson().error;if(S&&S.status&&S.message){const O=function(L){const H=L.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(H)>=0?H:de.UNKNOWN}(S.status);u(new Ie(O,S.message))}else u(new Ie(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ie(de.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Fe("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);h.send(e,"POST",_,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=MS(),u=SS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new kS({})),this.uo(h.initMessageHeaders,e,i),(0,Tt.uI)()||(0,Tt.b$)()||(0,Tt.d)()||(0,Tt.w1)()||(0,Tt.Mn)()||(0,Tt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Fe("Connection","Creating WebChannel: "+_,h);const w=o.createWebChannel(_,h);let D=!1,S=!1;const O=new dV({jr:H=>{S?Fe("Connection","Not sending because WebChannel is closed:",H):(D||(Fe("Connection","Opening WebChannel transport."),w.open(),D=!0),Fe("Connection","WebChannel sending:",H),w.send(H))},Wr:()=>w.close()}),L=(H,Q,ie)=>{H.listen(Q,Ue=>{try{ie(Ue)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return L(w,Iy.EventType.OPEN,()=>{S||Fe("Connection","WebChannel transport opened.")}),L(w,Iy.EventType.CLOSE,()=>{S||(S=!0,Fe("Connection","WebChannel transport closed"),O.eo())}),L(w,Iy.EventType.ERROR,H=>{S||(S=!0,wm("Connection","WebChannel transport errored:",H),O.eo(new Ie(de.UNAVAILABLE,"The operation could not be completed")))}),L(w,Iy.EventType.MESSAGE,H=>{var Q;if(!S){const ie=H.data[0];St(!!ie);const Ue=ie,Ke=Ue.error||(null===(Q=Ue[0])||void 0===Q?void 0:Q.error);if(Ke){Fe("Connection","WebChannel received error:",Ke);const je=Ke.status;let He=function(Rt){const on=Ui[Rt];if(void 0!==on)return iw(on)}(je),Dt=Ke.message;void 0===He&&(He=de.INTERNAL,Dt="Unknown error status: "+je+" with message "+Ke.message),S=!0,O.eo(new Ie(He,Dt)),w.close()}else Fe("Connection","WebChannel received:",ie),O.no(ie)}}),L(u,AS.STAT_EVENT,H=>{H.stat===N0.PROXY?Fe("Connection","Detected buffering proxy"):H.stat===N0.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.Zr()},0),O}}function UR(){return"undefined"!=typeof window?window:null}function TT(){return"undefined"!=typeof document?document:null}function vw(n){return new zE(n,!0)}class FI{constructor(t,e,i=1e3,r=1.5,o=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=r,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class HR{constructor(t,e,i,r,o,u,h,_){this.js=t,this.Ao=i,this.Ro=r,this.bo=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new FI(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,me.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(t){this.Fo(),this.stream.send(t)}Oo(){var t=this;return(0,me.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,me.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(yi(e.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Ie(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,me.Z)(function*(){t.state=0,t.start()}))}qo(t){return Fe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fV extends HR{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.wt=o}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function iI(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:st(),r=t.targetChange.targetIds||[],o=function(_,w){return _.dt?(St(void 0===w||"string"==typeof w),ri.fromBase64String(w||"")):(St(void 0===w||w instanceof Uint8Array),ri.fromUint8Array(w||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(_){const w=void 0===_.code?de.UNKNOWN:iw(_.code);return new Ie(w,_.message||"")}(u);e=new Vd(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=al(n,i.document.name),o=Ki(i.document.updateTime),u=new Mi({mapValue:{fields:i.document.fields}}),h=Sn.newFoundDocument(r,o,u);e=new sw(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=al(n,i.document),o=i.readTime?Ki(i.readTime):Mt.min(),u=Sn.newNoDocument(r,o);e=new sw([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=al(n,i.document);e=new sw([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return st();{const i=t.filter,o=new JS(i.count||0);e=new Qy(i.targetId,o)}}var _;return e}(this.wt,t),i=function(r){if(!("targetChange"in r))return Mt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Mt.min():o.readTime?Ki(o.readTime):Mt.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=nv(this.wt),e.addTarget=function(r,o){let u;const h=o.target;return u=Vy(h)?{documents:rv(r,h)}:{query:cw(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=aw(r,o.resumeToken):o.snapshotVersion.compareTo(Mt.min())>0&&(u.readTime=Xy(r,o.snapshotVersion.toTimestamp())),u}(this.wt,t);const i=function sI(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Mo(e)}jo(t){const e={};e.database=nv(this.wt),e.removeTarget=t,this.Mo(e)}}class pV extends HR{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.wt=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(St(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function rI(n,t){return n&&n.length>0?(St(void 0!==t),n.map(e=>function(i,r){let o=Ki(i.updateTime?i.updateTime:r);return o.isEqual(Mt.min())&&(o=Ki(r)),new VE(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Ki(t.commitTime);return this.listener.Jo(i,e)}return St(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=nv(this.wt),this.Mo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Bd(this.wt,i))};this.Mo(e)}}class mV extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.ro(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ie(de.UNKNOWN,r.toString())})}ao(t,e,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ao(t,e,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(de.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class gV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(yi(e),this.su=!1):Fe("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class _V{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(h=>{i.enqueueAndForget((0,me.Z)(function*(){var _;zf(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,me.Z)(function*(w){const D=Qe(w);D.lu.add(4),yield yv(D),D._u.set("Unknown"),D.lu.delete(4),yield bw(D)}),function(w){return _.apply(this,arguments)})(u))}))}),this._u=new gV(i,r)}}function bw(n){return NI.apply(this,arguments)}function NI(){return NI=(0,me.Z)(function*(n){if(zf(n))for(const t of n.fu)yield t(!0)}),NI.apply(this,arguments)}function yv(n){return LI.apply(this,arguments)}function LI(){return LI=(0,me.Z)(function*(n){for(const t of n.fu)yield t(!1)}),LI.apply(this,arguments)}function xT(n,t){const e=Qe(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),UI(e)?BI(e):bv(e).Co()&&VI(e,t))}function ww(n,t){const e=Qe(n),i=bv(e);e.hu.delete(t),i.Co()&&jR(e,t),0===e.hu.size&&(i.Co()?i.ko():zf(e)&&e._u.set("Unknown"))}function VI(n,t){n.wu.Nt(t.targetId),bv(n).Qo(t)}function jR(n,t){n.wu.Nt(t),bv(n).jo(t)}function BI(n){n.wu=new tI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),bv(n).start(),n._u.iu()}function UI(n){return zf(n)&&!bv(n).Do()&&n.hu.size>0}function zf(n){return 0===Qe(n).lu.size}function ZR(n){n.wu=void 0}function yV(n){return HI.apply(this,arguments)}function HI(){return HI=(0,me.Z)(function*(n){n.hu.forEach((t,e)=>{VI(n,t)})}),HI.apply(this,arguments)}function vV(n,t){return jI.apply(this,arguments)}function jI(){return jI=(0,me.Z)(function*(n,t){ZR(n),UI(n)?(n._u.uu(t),BI(n)):n._u.set("Unknown")}),jI.apply(this,arguments)}function bV(n,t,e){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,me.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof Vd&&2===t.state&&t.cause)try{yield(i=(0,me.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.hu.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.hu.delete(h),r.wu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield MT(n,i)}else if(t instanceof sw?n.wu.Ut(t):t instanceof Qy?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(Mt.min()))try{const i=yield kR(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.wu.Yt(o);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const w=r.hu.get(_);w&&r.hu.set(_,w.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const _=r.hu.get(h);if(!_)return;r.hu.set(h,_.withResumeToken(ri.EMPTY_BYTE_STRING,_.snapshotVersion)),jR(r,h);const w=new lu(_.target,h,1,_.sequenceNumber);VI(r,w)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield MT(n,i)}var i}),ZI.apply(this,arguments)}function MT(n,t,e){return qI.apply(this,arguments)}function qI(){return qI=(0,me.Z)(function*(n,t,e){if(!Jc(t))throw t;n.lu.add(1),yield yv(n),n._u.set("Offline"),e||(e=()=>kR(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield bw(n)}))}),qI.apply(this,arguments)}function qR(n,t){return t().catch(e=>MT(n,e,t))}function vv(n){return GI.apply(this,arguments)}function GI(){return GI=(0,me.Z)(function*(n){const t=Qe(n),e=$f(t);let i=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;wV(t);)try{const r=yield oV(t.localStore,i);if(null===r){0===t.au.length&&e.ko();break}i=r.batchId,CV(t,r)}catch(r){yield MT(t,r)}GR(t)&&zR(t)}),GI.apply(this,arguments)}function wV(n){return zf(n)&&n.au.length<10}function CV(n,t){n.au.push(t);const e=$f(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function GR(n){return zf(n)&&!$f(n).Do()&&n.au.length>0}function zR(n){$f(n).start()}function DV(n){return zI.apply(this,arguments)}function zI(){return zI=(0,me.Z)(function*(n){$f(n).Xo()}),zI.apply(this,arguments)}function EV(n){return $I.apply(this,arguments)}function $I(){return $I=(0,me.Z)(function*(n){const t=$f(n);for(const e of n.au)t.Ho(e.mutations)}),$I.apply(this,arguments)}function TV(n,t,e){return YI.apply(this,arguments)}function YI(){return YI=(0,me.Z)(function*(n,t,e){const i=n.au.shift(),r=mw.from(i,t,e);yield qR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield vv(n)}),YI.apply(this,arguments)}function xV(n,t){return WI.apply(this,arguments)}function WI(){return WI=(0,me.Z)(function*(n,t){var e;t&&$f(n).zo&&(yield(e=(0,me.Z)(function*(i,r){if(UE(o=r.code)&&o!==de.ABORTED){const u=i.au.shift();$f(i).No(),yield qR(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield vv(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),GR(n)&&zR(n)}),WI.apply(this,arguments)}function $R(n,t){return KI.apply(this,arguments)}function KI(){return KI=(0,me.Z)(function*(n,t){const e=Qe(n);e.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=zf(e);e.lu.add(3),yield yv(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield bw(e)}),KI.apply(this,arguments)}function QI(n,t){return JI.apply(this,arguments)}function JI(){return JI=(0,me.Z)(function*(n,t){const e=Qe(n);t?(e.lu.delete(2),yield bw(e)):t||(e.lu.add(2),yield yv(e),e._u.set("Unknown"))}),JI.apply(this,arguments)}function bv(n){return n.mu||(n.mu=function(t,e,i){const r=Qe(t);return r.tu(),new fV(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:yV.bind(null,n),Jr:vV.bind(null,n),Go:bV.bind(null,n)}),n.fu.push(function(){var t=(0,me.Z)(function*(e){e?(n.mu.No(),UI(n)?BI(n):n._u.set("Unknown")):(yield n.mu.stop(),ZR(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function $f(n){return n.gu||(n.gu=function(t,e,i){const r=Qe(t);return r.tu(),new pV(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:DV.bind(null,n),Jr:xV.bind(null,n),Yo:EV.bind(null,n),Jo:TV.bind(null,n)}),n.fu.push(function(){var t=(0,me.Z)(function*(e){e?(n.gu.No(),yield vv(n)):(yield n.gu.stop(),n.au.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class XI{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new XI(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(n,t){if(yi("AsyncQueue",`${t}: ${n}`),Jc(n))return new Ie(de.UNAVAILABLE,`${t}: ${n}`);throw n}class Cv{constructor(t){this.comparator=t?(e,i)=>t(e,i)||$e.comparator(e.key,i.key):(e,i)=>$e.comparator(e.key,i.key),this.keyedMap=Bm(),this.sortedSet=new vi(this.comparator)}static emptySet(t){return new Cv(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Cv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Cv;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class YR{constructor(){this.yu=new vi($e.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):st():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Dv{constructor(t,e,i,r,o,u,h,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new Dv(t,e,Cv.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class MV{constructor(){this.Iu=void 0,this.listeners=[]}}class SV{constructor(){this.queries=new Ql(t=>Y0(t),Fm),this.onlineState="Unknown",this.Tu=new Set}}function eA(n,t){return tA.apply(this,arguments)}function tA(){return tA=(0,me.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new MV),r)try{o.Iu=yield e.onListen(i)}catch(u){const h=wv(u,`Initialization of query '${Gy(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Eu(e.onlineState),o.Iu&&t.Au(o.Iu)&&rA(e)}),tA.apply(this,arguments)}function nA(n,t){return iA.apply(this,arguments)}function iA(){return iA=(0,me.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),iA.apply(this,arguments)}function IV(n,t){const e=Qe(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Au(r)&&(i=!0);u.Iu=r}}i&&rA(e)}function AV(n,t,e){const i=Qe(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function rA(n){n.Tu.forEach(t=>{t.next()})}class sA{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Dv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=Dv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class kV{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class WR{constructor(t){this.wt=t}Wi(t){return al(this.wt,t)}zi(t){return t.metadata.exists?KE(this.wt,t.document,!1):Sn.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return Ki(t)}}class RV{constructor(t,e,i){this.xu=t,this.localStore=e,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=KR(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=Kt.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new WR(this.wt);for(const r of t)if(r.metadata.queries){const o=i.Wi(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Gt()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,me.Z)(function*(){const e=yield function aV(n,t,e,i){return II.apply(this,arguments)}(t.localStore,new WR(t.wt),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield lV(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Ou:t.collectionGroups,Mu:e}})()}}function KR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class QR{constructor(t){this.key=t}}class JR{constructor(t){this.key=t}}class XR{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=Gt(),this.mutatedKeys=Gt(),this.Lu=PE(t),this.Uu=new Cv(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new YR,r=e?e.Uu:this.Uu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((D,S)=>{const O=r.get(D),L=W0(this.query,S)?S:null,H=!!O&&this.mutatedKeys.has(O.key),Q=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let ie=!1;O&&L?O.data.isEqual(L.data)?H!==Q&&(i.track({type:3,doc:L}),ie=!0):this.Qu(O,L)||(i.track({type:2,doc:L}),ie=!0,(_&&this.Lu(L,_)>0||w&&this.Lu(L,w)<0)&&(h=!0)):!O&&L?(i.track({type:0,doc:L}),ie=!0):O&&!L&&(i.track({type:1,doc:O}),ie=!0,(_||w)&&(h=!0)),ie&&(L?(u=u.add(L),o=Q?o.add(D):o.delete(D)):(u=u.delete(D),o=o.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),o=o.delete(D.key),i.track({type:1,doc:D})}return{Uu:u,Gu:i,Oi:h,mutatedKeys:o}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const o=t.Gu.pu();o.sort((w,D)=>function(S,O){const L=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return L(S)-L(O)}(w.type,D.type)||this.Lu(w.doc,D.doc)),this.ju(i);const u=e?this.Wu():[],h=0===this.Bu.size&&this.current?1:0,_=h!==this.$u;return this.$u=h,0!==o.length||_?{snapshot:new Dv(this.query,t.Uu,r,o,t.mutatedKeys,0===h,_,!1),zu:u}:{zu:u}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new YR,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Gt(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new JR(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new QR(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=Gt();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return Dv.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class OV{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class PV{constructor(t){this.key=t,this.Xu=!1}}class FV{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Zu={},this.tc=new Ql(h=>Y0(h),Fm),this.ec=new Map,this.nc=new Set,this.sc=new vi($e.comparator),this.ic=new Map,this.rc=new Ve,this.oc={},this.uc=new Map,this.cc=qf.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function NV(n,t){return oA.apply(this,arguments)}function oA(){return oA=(0,me.Z)(function*(n,t){const e=IA(n);let i,r;const o=e.tc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Yu();else{const u=yield gv(e.localStore,io(t));e.isPrimaryClient&&xT(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield aA(e,t,i,"current"===h)}return r}),oA.apply(this,arguments)}function aA(n,t,e,i){return lA.apply(this,arguments)}function lA(){return lA=(0,me.Z)(function*(n,t,e,i){n.hc=(D,S,O)=>{return(L=(0,me.Z)(function*(H,Q,ie,Ue){let Ke=Q.view.Ku(ie);Ke.Oi&&(Ke=yield CT(H.localStore,Q.query,!1).then(({documents:Dt})=>Q.view.Ku(Dt,Ke)));const je=Ue&&Ue.targetChanges.get(Q.targetId),He=Q.view.applyChanges(Ke,H.isPrimaryClient,je);return yA(H,Q.targetId,He.zu),He.snapshot}),function(H,Q,ie,Ue){return L.apply(this,arguments)})(n,D,S,O);var L};const r=yield CT(n.localStore,t,!0),o=new XR(t,r.ji),u=o.Ku(r.documents),h=ou.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),_=o.applyChanges(u,n.isPrimaryClient,h);yA(n,e,_.zu);const w=new OV(t,e,o);return n.tc.set(t,w),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),_.snapshot}),lA.apply(this,arguments)}function LV(n,t){return cA.apply(this,arguments)}function cA(){return cA=(0,me.Z)(function*(n,t){const e=Qe(n),i=e.tc.get(t),r=e.ec.get(i.targetId);if(r.length>1)return e.ec.set(i.targetId,r.filter(o=>!Fm(o,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _v(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),ww(e.remoteStore,i.targetId),Ev(e,i.targetId)}).catch(Kc))):(Ev(e,i.targetId),yield _v(e.localStore,i.targetId,!0))}),cA.apply(this,arguments)}function uA(){return uA=(0,me.Z)(function*(n,t,e){const i=AA(n);try{const r=yield function(o,u){const h=Qe(o),_=ii.now(),w=u.reduce((O,L)=>O.add(L.key),Gt());let D,S;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let L=Jr(),H=Gt();return h.Ui.getEntries(O,w).next(Q=>{L=Q,L.forEach((ie,Ue)=>{Ue.isValidDocument()||(H=H.add(ie))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,L)).next(Q=>{D=Q;const ie=[];for(const Ue of u){const Ke=ew(Ue,D.get(Ue.key).overlayedDocument);null!=Ke&&ie.push(new Kl(Ue.key,Ke,ME(Ke.value.mapValue),hi.exists(!0)))}return h.mutationQueue.addMutationBatch(O,_,ie,u)}).next(Q=>{S=Q;const ie=Q.applyToLocalDocumentSet(D,H);return h.documentOverlayCache.saveOverlays(O,Q.batchId,ie)})}).then(()=>({batchId:S.batchId,changes:XS(D)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let _=o.oc[o.currentUser.toKey()];_||(_=new vi(Vt)),_=_.insert(u,h),o.oc[o.currentUser.toKey()]=_}(i,r.batchId,e),yield qd(i,r.changes),yield vv(i.remoteStore)}catch(r){const o=wv(r,"Failed to persist write");e.reject(o)}}),uA.apply(this,arguments)}function eO(n,t){return dA.apply(this,arguments)}function dA(){return dA=(0,me.Z)(function*(n,t){const e=Qe(n);try{const i=yield sV(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.ic.get(o);u&&(St(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?St(u.Xu):r.removedDocuments.size>0&&(St(u.Xu),u.Xu=!1))}),yield qd(e,i,t)}catch(i){yield Kc(i)}}),dA.apply(this,arguments)}function tO(n,t,e){const i=Qe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.tc.forEach((o,u)=>{const h=u.view.Eu(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=Qe(o);h.onlineState=u;let _=!1;h.queries.forEach((w,D)=>{for(const S of D.listeners)S.Eu(u)&&(_=!0)}),_&&rA(h)}(i.eventManager,t),r.length&&i.Zu.Go(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function BV(n,t,e){return hA.apply(this,arguments)}function hA(){return hA=(0,me.Z)(function*(n,t,e){const i=Qe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ic.get(t),o=r&&r.key;if(o){let u=new vi($e.comparator);u=u.insert(o,Sn.newNoDocument(o,Mt.min()));const h=Gt().add(o),_=new Ky(Mt.min(),new Map,new Cn(Vt),u,h);yield eO(i,_),i.sc=i.sc.remove(o),i.ic.delete(t),vA(i)}else yield _v(i.localStore,t,!1).then(()=>Ev(i,t,e)).catch(Kc)}),hA.apply(this,arguments)}function UV(n,t){return fA.apply(this,arguments)}function fA(){return fA=(0,me.Z)(function*(n,t){const e=Qe(n),i=t.batch.batchId;try{const r=yield rV(e.localStore,t);_A(e,i,null),gA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield qd(e,r)}catch(r){yield Kc(r)}}),fA.apply(this,arguments)}function HV(n,t,e){return pA.apply(this,arguments)}function pA(){return pA=(0,me.Z)(function*(n,t,e){const i=Qe(n);try{const r=yield function(o,u){const h=Qe(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return h.mutationQueue.lookupMutationBatch(_,u).next(D=>(St(null!==D),w=D.keys(),h.mutationQueue.removeMutationBatch(_,D))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>h.localDocuments.getDocuments(_,w))})}(i.localStore,t);_A(i,t,e),gA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield qd(i,r)}catch(r){yield Kc(r)}}),pA.apply(this,arguments)}function mA(){return mA=(0,me.Z)(function*(n,t){const e=Qe(n);zf(e.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Qe(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.uc.get(i)||[];r.push(t),e.uc.set(i,r)}catch(i){const r=wv(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),mA.apply(this,arguments)}function gA(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function _A(n,t,e){const i=Qe(n);let r=i.oc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.oc[i.currentUser.toKey()]=r}}function Ev(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||nO(n,i)})}function nO(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(ww(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),vA(n))}function yA(n,t,e){for(const i of e)i instanceof QR?(n.rc.addReference(i.key,t),ZV(n,i)):i instanceof JR?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||nO(n,i.key)):st()}function ZV(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||(Fe("SyncEngine","New document in limbo: "+e),n.nc.add(i),vA(n))}function vA(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new $e(Kt.fromString(t)),i=n.cc.next();n.ic.set(i,new PV(e)),n.sc=n.sc.insert(e,i),xT(n.remoteStore,new lu(io(Lf(e.path)),i,2,or.ot))}}function qd(n,t,e){return bA.apply(this,arguments)}function bA(){return bA=(0,me.Z)(function*(n,t,e){const i=Qe(n),r=[],o=[],u=[];var h;i.tc.isEmpty()||(i.tc.forEach((h,_)=>{u.push(i.hc(_,t,e).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),r.push(w);const D=Km.Vi(_.targetId,w);o.push(D)}}))}),yield Promise.all(u),i.Zu.Go(r),yield(h=(0,me.Z)(function*(_,w){const D=Qe(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>se.forEach(w,O=>se.forEach(O.Pi,L=>D.persistence.referenceDelegate.addReference(S,O.targetId,L)).next(()=>se.forEach(O.vi,L=>D.persistence.referenceDelegate.removeReference(S,O.targetId,L)))))}catch(S){if(!Jc(S))throw S;Fe("LocalStore","Failed to update sequence numbers: "+S)}for(const S of w){const O=S.targetId;if(!S.fromCache){const L=D.$i.get(O),Q=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);D.$i=D.$i.insert(O,Q)}}}),function(_,w){return h.apply(this,arguments)})(i.localStore,o))}),bA.apply(this,arguments)}function qV(n,t){return wA.apply(this,arguments)}function wA(){return wA=(0,me.Z)(function*(n,t){const e=Qe(n);if(!e.currentUser.isEqual(t)){Fe("SyncEngine","User change. New user:",t.toKey());const i=yield AR(e.localStore,t);e.currentUser=t,(r=e).uc.forEach(u=>{u.forEach(h=>{h.reject(new Ie(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield qd(e,i.Ki)}var r}),wA.apply(this,arguments)}function GV(n,t){const e=Qe(n),i=e.ic.get(t);if(i&&i.Xu)return Gt().add(i.key);{let r=Gt();const o=e.ec.get(t);if(!o)return r;for(const u of o){const h=e.tc.get(u);r=r.unionWith(h.view.qu)}return r}}function zV(n,t){return CA.apply(this,arguments)}function CA(){return CA=(0,me.Z)(function*(n,t){const e=Qe(n),i=yield CT(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&yA(e,t.targetId,r.zu),r}),CA.apply(this,arguments)}function $V(n,t){return DA.apply(this,arguments)}function DA(){return DA=(0,me.Z)(function*(n,t){const e=Qe(n);return PR(e.localStore,t).then(i=>qd(e,i))}),DA.apply(this,arguments)}function YV(n,t,e,i){return EA.apply(this,arguments)}function EA(){return EA=(0,me.Z)(function*(n,t,e,i){const r=Qe(n),o=yield function(u,h){const _=Qe(u),w=Qe(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.yn(D,h).next(S=>S?_.localDocuments.getDocuments(D,S):se.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield vv(r.remoteStore):"acknowledged"===e||"rejected"===e?(_A(r,t,i||null),gA(r,t),h=t,Qe(Qe(r.localStore).mutationQueue).In(h)):st(),yield qd(r,o)):Fe("SyncEngine","Cannot apply mutation batch with id: "+t)}),EA.apply(this,arguments)}function TA(){return TA=(0,me.Z)(function*(n,t){const e=Qe(n);if(IA(e),AA(e),!0===t&&!0!==e.ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield iO(e,i.toArray());e.ac=!0,yield QI(e.remoteStore,!0);for(const o of r)xT(e.remoteStore,o)}else if(!1===t&&!1!==e.ac){const i=[];let r=Promise.resolve();e.ec.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Ev(e,u),_v(e.localStore,u,!0))),ww(e.remoteStore,u)}),yield r,yield iO(e,i),function(o){const u=Qe(o);u.ic.forEach((h,_)=>{ww(u.remoteStore,_)}),u.rc.cs(),u.ic=new Map,u.sc=new vi($e.comparator)}(e),e.ac=!1,yield QI(e.remoteStore,!1)}}),TA.apply(this,arguments)}function iO(n,t,e){return xA.apply(this,arguments)}function xA(){return xA=(0,me.Z)(function*(n,t,e){const i=Qe(n),r=[],o=[];for(const u of t){let h;const _=i.ec.get(u);if(_&&0!==_.length){h=yield gv(i.localStore,io(_[0]));for(const w of _){const D=i.tc.get(w),S=yield zV(i,D);S.snapshot&&o.push(S.snapshot)}}else{const w=yield OR(i.localStore,u);h=yield gv(i.localStore,w),yield aA(i,rO(w),u,!1)}r.push(h)}return i.Zu.Go(o),r}),xA.apply(this,arguments)}function rO(n){return OE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function KV(n){const t=Qe(n);return Qe(Qe(t.localStore).persistence).Ri()}function QV(n,t,e,i){return MA.apply(this,arguments)}function MA(){return MA=(0,me.Z)(function*(n,t,e,i){const r=Qe(n);if(r.ac)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const o=r.ec.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield PR(r.localStore,K0(o[0])),h=Ky.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield qd(r,u,h);break}case"rejected":yield _v(r.localStore,t,!0),Ev(r,t,i);break;default:st()}}),MA.apply(this,arguments)}function JV(n,t,e){return SA.apply(this,arguments)}function SA(){return SA=(0,me.Z)(function*(n,t,e){const i=IA(n);if(i.ac){for(const r of t){if(i.ec.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const o=yield OR(i.localStore,r),u=yield gv(i.localStore,o);yield aA(i,rO(o),u.targetId,!1),xT(i.remoteStore,u)}for(const r of e)i.ec.has(r)&&(yield _v(i.localStore,r,!1).then(()=>{ww(i.remoteStore,r),Ev(i,r)}).catch(Kc))}}),SA.apply(this,arguments)}function IA(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=eO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=GV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BV.bind(null,t),t.Zu.Go=IV.bind(null,t.eventManager),t.Zu.lc=AV.bind(null,t.eventManager),t}function AA(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HV.bind(null,t),t}class sO{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,me.Z)(function*(){e.wt=vw(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return IR(this.persistence,new mv,t.initialUser,this.wt)}_c(t){return new gn(ll.Ms,this.wt)}dc(t){return new VR}terminate(){var t=this;return(0,me.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class oO extends sO{constructor(t,e,i){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,me.Z)(function*(){yield e().call(i,t),yield i.yc.initialize(i,t),yield AA(i.yc.syncEngine),yield vv(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return IR(this.persistence,new mv,t.initialUser,this.wt)}mc(t,e){return new MR(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const i=new Py(e,this.persistence);return new U0(t.asyncQueue,i)}_c(t){const e=Wm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new Ym(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,UR(),TT(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new VR}}class eB extends oO{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,me.Z)(function*(){yield e().call(i,t);const r=i.yc.syncEngine;i.sharedClientState instanceof PI&&(i.sharedClientState.syncEngine={kr:YV.bind(null,r),Or:QV.bind(null,r),Mr:JV.bind(null,r),Ri:KV.bind(null,r),Nr:$V.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var o=(0,me.Z)(function*(u){yield function WV(n,t){return TA.apply(this,arguments)}(i.yc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}dc(t){const e=UR();if(!PI.V(e))throw new Ie(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Wm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new PI(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class kA{initialize(t,e){var i=this;return(0,me.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>tO(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=qV.bind(null,i.syncEngine),yield QI(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new SV}createDatastore(t){const e=vw(t.databaseInfo.databaseId),i=new hV(t.databaseInfo);return new mV(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>tO(this.syncEngine,h,0),u=BR.V()?new BR:new cV,new _V(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,_,w){const D=new FV(i,r,o,u,h,_);return w&&(D.ac=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,me.Z)(function*(e){const i=Qe(e);Fe("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield yv(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function aO(n,t=10240){let e=0;return{read:()=>(0,me.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ST{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class tB{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new Wi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,me.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,me.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,me.Z)(function*(){const e=yield t.bc();if(null===e)return null;const i=t.Ac.decode(e),r=Number(i);isNaN(r)&&t.Pc(`length string (${i}) is not valid number`);const o=yield t.vc(r);return new kV(JSON.parse(o),e.length+r)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,me.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}vc(t){var e=this;return(0,me.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const i=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,me.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class nB{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ie(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,me.Z)(function*(o,u){const h=Qe(o),_=nv(h.wt)+"/documents",w={documents:u.map(L=>tv(h.wt,L))},D=yield h.ao("BatchGetDocuments",_,w,u.length),S=new Map;D.forEach(L=>{const H=function ro(n,t){return"found"in t?function(e,i){St(!!i.found);const r=al(e,i.found.name),o=Ki(i.found.updateTime),u=new Mi({mapValue:{fields:i.found.fields}});return Sn.newFoundDocument(r,o,u)}(n,t):"missing"in t?function(e,i){St(!!i.missing),St(!!i.readTime);const r=al(e,i.missing),o=Ki(i.readTime);return Sn.newNoDocument(r,o)}(n,t):st()}(h.wt,L);S.set(H.key.toString(),H)});const O=[];return u.forEach(L=>{const H=S.get(L.toString());St(!!H),O.push(H)}),O}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ld(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=$e.fromPath(r);t.mutations.push(new Yy(o,t.precondition(o)))}),yield(i=(0,me.Z)(function*(r,o){const u=Qe(r),h=nv(u.wt)+"/documents",_={writes:o.map(w=>Bd(u.wt,w))};yield u.ro("Commit",h,_)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw st();e=Mt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ie(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?hi.updateTime(e):hi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Mt.min()))throw new Ie(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hi.updateTime(e)}return hi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class iB{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Dc=i.maxAttempts,this.So=new FI(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,me.Z)(function*(){const e=new nB(t.datastore),i=t.xc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Nc(o)}))}).catch(r=>{t.Nc(r)})}))}xc(t){try{const e=this.updateFunction(t);return!Md(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!UE(e)}return!1}}class rB{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Yi.UNAUTHENTICATED,this.clientId=pE.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,me.Z)(function*(h){Fe("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,me.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=wv(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function lO(n,t){return RA.apply(this,arguments)}function RA(){return RA=(0,me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,me.Z)(function*(o){i.isEqual(o)||(yield AR(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),RA.apply(this,arguments)}function cO(n,t){return OA.apply(this,arguments)}function OA(){return OA=(0,me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield PA(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>$R(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>$R(t.remoteStore,o)),n.onlineComponents=t}),OA.apply(this,arguments)}function PA(n){return FA.apply(this,arguments)}function FA(){return FA=(0,me.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield lO(n,new sO)),n.offlineComponents}),FA.apply(this,arguments)}function IT(n){return NA.apply(this,arguments)}function NA(){return NA=(0,me.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield cO(n,new kA)),n.onlineComponents}),NA.apply(this,arguments)}function uO(n){return PA(n).then(t=>t.persistence)}function LA(n){return PA(n).then(t=>t.localStore)}function dO(n){return IT(n).then(t=>t.remoteStore)}function VA(n){return IT(n).then(t=>t.syncEngine)}function Tv(n){return BA.apply(this,arguments)}function BA(){return BA=(0,me.Z)(function*(n){const t=yield IT(n),e=t.eventManager;return e.onListen=NV.bind(null,t.syncEngine),e.onUnlisten=LV.bind(null,t.syncEngine),e}),BA.apply(this,arguments)}function hO(n,t,e={}){const i=new Wi;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(r,o,u,h,_){const w=new ST({next:S=>{o.enqueueAndForget(()=>nA(r,D));const O=S.docs.has(u);!O&&S.fromCache?_.reject(new Ie(de.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&h&&"server"===h.source?_.reject(new Ie(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),D=new sA(Lf(u.path),w,{includeMetadataChanges:!0,Du:!0});return eA(r,D)}(yield Tv(n),n.asyncQueue,t,e,i)})),i.promise}function fO(n,t,e={}){const i=new Wi;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(r,o,u,h,_){const w=new ST({next:S=>{o.enqueueAndForget(()=>nA(r,D)),S.fromCache&&"server"===h.source?_.reject(new Ie(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),D=new sA(u,w,{includeMetadataChanges:!0,Du:!0});return eA(r,D)}(yield Tv(n),n.asyncQueue,t,e,i)})),i.promise}const pO=new Map;function UA(n,t,e){if(!e)throw new Ie(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function mO(n,t,e,i){if(!0===t&&!0===i)throw new Ie(de.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function gO(n){if(!$e.isDocumentKey(n))throw new Ie(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _O(n){if($e.isDocumentKey(n))throw new Ie(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":st()}function an(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ie(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=AT(n);throw new Ie(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function yO(n,t){if(t<=0)throw new Ie(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class vO{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ie(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ie(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,mO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cw{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vO({}),this._settingsFrozen=!1,t instanceof nl?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ie(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ie(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ie(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vO(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new OS;switch(e.type){case"gapi":const i=e.client;return St(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new LS(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ie(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=pO.get(t);e&&(Fe("ComponentProvider","Removing Datastore"),pO.delete(t),e.terminate())}(this),Promise.resolve()}}class fi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fi(this.firestore,t,this._key)}}class Ps{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ps(this.firestore,t,this._query)}}class pu extends Ps{constructor(t,e,i){super(t,e,Lf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fi(this.firestore,null,new $e(t))}withConverter(t){return new pu(this.firestore,t,this._path)}}function bO(n,t,...e){if(n=(0,Tt.m9)(n),UA("collection","path",t),n instanceof Cw){const i=Kt.fromString(t,...e);return _O(i),new pu(n,null,i)}{if(!(n instanceof fi||n instanceof pu))throw new Ie(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Kt.fromString(t,...e));return _O(i),new pu(n.firestore,null,i)}}function kT(n,t,...e){if(n=(0,Tt.m9)(n),1===arguments.length&&(t=pE.I()),UA("doc","path",t),n instanceof Cw){const i=Kt.fromString(t,...e);return gO(i),new fi(n,null,new $e(i))}{if(!(n instanceof fi||n instanceof pu))throw new Ie(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Kt.fromString(t,...e));return gO(i),new fi(n.firestore,n instanceof pu?n.converter:null,new $e(i))}}function wO(n,t){return n=(0,Tt.m9)(n),t=(0,Tt.m9)(t),(n instanceof fi||n instanceof pu)&&(t instanceof fi||t instanceof pu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function CO(n,t){return n=(0,Tt.m9)(n),t=(0,Tt.m9)(t),n instanceof Ps&&t instanceof Ps&&n.firestore===t.firestore&&Fm(n._query,t._query)&&n.converter===t.converter}class mB{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new FI(this,"async_queue_retry"),this.Kc=()=>{const e=TT();e&&Fe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=TT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=TT();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new Wi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Mc.push(t),this.jc()))}jc(){var t=this;return(0,me.Z)(function*(){if(0!==t.Mc.length){try{yield t.Mc[0](),t.Mc.shift(),t.So.reset()}catch(e){if(!Jc(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}t.Mc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Oc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,yi("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=XI.createAndSchedule(this,t,e,i,o=>this.Wc(o));return this.$c.push(r),r}Gc(){this.Bc&&st()}verifyOperationInProgress(){}zc(){var t=this;return(0,me.Z)(function*(){let e;do{e=t.Oc,yield e}while(e!==t.Oc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function HA(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class gB{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class bi extends Cw{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new mB,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||DO(this),this._firestoreClient.terminate()}}function ar(n){return n._firestoreClient||DO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function DO(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new pR(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new rB(n._authCredentials,n._appCheckCredentials,n._queue,i)}function EO(n,t,e){const i=new Wi;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield lO(n,e),yield cO(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(u=o).name?u.code===de.FAILED_PRECONDITION||u.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function TO(n){if(n._initialized||n._terminated)throw new Ie(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ie(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new di(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class mu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mu(ri.fromBase64String(t))}catch(e){throw new Ie(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new mu(ri.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Qm{constructor(t){this._methodName=t}}class RT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ie(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ie(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}const xB=/^__.*__$/;class MB{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Kl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Bf(t,this.data,e,this.fieldTransforms)}}class xO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Kl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function MO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class OT{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.wt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new OT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.sa(t),r}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return NT(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(MO(this.Zc)&&xB.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class SB{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=i||vw(t)}aa(t,e,i,r=!1){return new OT({Zc:t,methodName:e,ca:i,path:di.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Jm(n){const t=n._freezeSettings(),e=vw(n._databaseId);return new SB(n._databaseId,!!t.ignoreUndefinedProperties,e)}function PT(n,t,e,i,r,o={}){const u=n.aa(o.merge||o.mergeFields?2:0,t,e,r);GA("Data must be an object, but it was:",u,i);const h=AO(i,u);let _,w;if(o.merge)_=new to(u.fieldMask),w=u.fieldTransforms;else if(o.mergeFields){const D=[];for(const S of o.mergeFields){const O=zA(t,S,e);if(!u.contains(O))throw new Ie(de.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);RO(D,O)||D.push(O)}_=new to(D),w=u.fieldTransforms.filter(S=>_.covers(S.field))}else _=null,w=u.fieldTransforms;return new MB(new Mi(h),_,w)}class Dw extends Qm{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dw}}function SO(n,t,e){return new OT({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class jA extends Qm{_toFieldTransform(t){return new Pd(t.path,new Vf)}isEqual(t){return t instanceof jA}}class IB extends Qm{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=SO(this,t,!0),i=this.ha.map(o=>Xm(o,e)),r=new su(i);return new Pd(t.path,r)}isEqual(t){return this===t}}class AB extends Qm{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=SO(this,t,!0),i=this.ha.map(o=>Xm(o,e)),r=new Rd(i);return new Pd(t.path,r)}isEqual(t){return this===t}}class kB extends Qm{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new Od(t.wt,NE(t.wt,this.la));return new Pd(t.path,e)}isEqual(t){return this===t}}function ZA(n,t,e,i){const r=n.aa(1,t,e);GA("Data must be an object, but it was:",r,i);const o=[],u=Mi.empty();Xc(i,(_,w)=>{const D=FT(t,_,e);w=(0,Tt.m9)(w);const S=r.ia(D);if(w instanceof Dw)o.push(D);else{const O=Xm(w,S);null!=O&&(o.push(D),u.set(D,O))}});const h=new to(o);return new xO(u,h,r.fieldTransforms)}function qA(n,t,e,i,r,o){const u=n.aa(1,t,e),h=[zA(t,i,e)],_=[r];if(o.length%2!=0)throw new Ie(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<o.length;O+=2)h.push(zA(t,o[O])),_.push(o[O+1]);const w=[],D=Mi.empty();for(let O=h.length-1;O>=0;--O)if(!RO(w,h[O])){const L=h[O];let H=_[O];H=(0,Tt.m9)(H);const Q=u.ia(L);if(H instanceof Dw)w.push(L);else{const ie=Xm(H,Q);null!=ie&&(w.push(L),D.set(L,ie))}}const S=new to(w);return new xO(D,S,u.fieldTransforms)}function IO(n,t,e,i=!1){return Xm(e,n.aa(i?4:3,t))}function Xm(n,t){if(kO(n=(0,Tt.m9)(n)))return GA("Unsupported field value:",t,n),AO(n,t);if(n instanceof Qm)return function(e,i){if(!MO(i.Zc))throw i.oa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=Xm(u,i.ra(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Tt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return NE(i.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ii.fromDate(e);return{timestampValue:Xy(i.wt,r)}}if(e instanceof ii){const r=new ii(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xy(i.wt,r)}}if(e instanceof RT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mu)return{bytesValue:aw(i.wt,e._byteString)};if(e instanceof fi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.oa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:$E(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.oa(`Unsupported field value: ${AT(e)}`)}(n,t)}function AO(n,t){const e={};return H0(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xc(n,(i,r)=>{const o=Xm(r,t.ea(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function kO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ii||n instanceof RT||n instanceof mu||n instanceof fi||n instanceof Qm)}function GA(n,t,e){if(!kO(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=AT(e);throw t.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function zA(n,t,e){if((t=(0,Tt.m9)(t))instanceof Gd)return t._internalPath;if("string"==typeof t)return FT(n,t);throw NT("Field path arguments must be of type string or ",n,!1,void 0,e)}const RB=new RegExp("[~\\*/\\[\\]]");function FT(n,t,e){if(t.search(RB)>=0)throw NT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Gd(...t.split("."))._internalPath}catch(i){throw NT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function NT(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(o||u)&&(_+=" (found",o&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Ie(de.INVALID_ARGUMENT,h+n+_)}function RO(n,t){return n.some(e=>e.isEqual(t))}class Ew{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new OB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(LT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class OB extends Ew{data(){return super.data()}}function LT(n,t){return"string"==typeof t?FT(n,t):t instanceof Gd?t._internalPath:t._delegate._internalPath}class eg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zd extends Ew{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Tw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(LT("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Tw extends zd{data(t={}){return super.data(t)}}class Yf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new eg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Tw(this._firestore,this._userDataWriter,i.key,i,new eg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ie(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Tw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new eg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new Tw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new eg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),w=o.indexOf(u.doc.key)),{type:PB(u.type),doc:h,oldIndex:_,newIndex:w}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function PB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function OO(n,t){return n instanceof zd&&t instanceof zd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Yf&&t instanceof Yf&&n._firestore===t._firestore&&CO(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function PO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ie(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xw{}function Wf(n,...t){for(const e of t)n=e._apply(n);return n}class FB extends xw{constructor(t,e,i){super(),this.fa=t,this.da=e,this._a=i,this.type="where"}_apply(t){const e=Jm(t.firestore),i=function(r,o,u,h,_,w,D){let S;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){UO(D,w);const L=[];for(const H of D)L.push(BO(h,r,H));S={arrayValue:{values:L}}}else S=BO(h,r,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||UO(D,w),S=IO(u,"where",D,"in"===w||"not-in"===w);const O=vr.create(_,w,S);return function(L,H){if(H.ht()){const ie=Pm(L);if(null!==ie&&!ie.isEqual(H.field))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ie.toString()}' and '${H.field.toString()}'`);const Ue=Zy(L);null!==Ue&&HO(0,H.field,Ue)}const Q=function(ie,Ue){for(const Ke of ie.filters)if(Ue.indexOf(Ke.op)>=0)return Ke.op;return null}(L,function(ie){switch(ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(H.op));if(null!==Q)throw new Ie(de.INVALID_ARGUMENT,Q===H.op?`Invalid query. You cannot use more than one '${H.op.toString()}' filter.`:`Invalid query. You cannot use '${H.op.toString()}' filters with '${Q.toString()}' filters.`)}(r,O),O}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new Ps(t.firestore,t.converter,function(r,o){const u=r.filters.concat([o]);return new Wl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class LB extends xw{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ru(r,o);return function(h,_){if(null===Zy(h)){const w=Pm(h);null!==w&&HO(0,w,_.field)}}(i,u),u}(t._query,this.fa,this.wa);return new Ps(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Wl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class FO extends xw{constructor(t,e,i){super(),this.type=t,this.ma=e,this.ga=i}_apply(t){return new Ps(t.firestore,t.converter,$0(t._query,this.ma,this.ga))}}class NO extends xw{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=VO(t,this.type,this.ya,this.pa);return new Ps(t.firestore,t.converter,(r=e,new Wl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class LO extends xw{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=VO(t,this.type,this.ya,this.pa);return new Ps(t.firestore,t.converter,(r=e,new Wl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function VO(n,t,e,i){if(e[0]=(0,Tt.m9)(e[0]),e[0]instanceof Ew)return function(r,o,u,h,_){if(!h)throw new Ie(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const D of Ad(r))if(D.field.isKeyField())w.push(iu(o,h.key));else{const S=h.data.field(D.field);if(j0(S))throw new Ie(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const O=D.field.canonicalString();throw new Ie(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}w.push(S)}return new ol(w,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Jm(n.firestore);return function(o,u,h,_,w,D){const S=o.explicitOrderBy;if(w.length>S.length)throw new Ie(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let L=0;L<w.length;L++){const H=w[L];if(S[L].field.isKeyField()){if("string"!=typeof H)throw new Ie(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof H}`);if(!qy(o)&&-1!==H.indexOf("/"))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${H}' contains a slash.`);const Q=o.path.child(Kt.fromString(H));if(!$e.isDocumentKey(Q))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const ie=new $e(Q);O.push(iu(u,ie))}else{const Q=IO(h,_,H);O.push(Q)}}return new ol(O,D)}(n._query,n.firestore._databaseId,r,t,e,i)}}function BO(n,t,e){if("string"==typeof(e=(0,Tt.m9)(e))){if(""===e)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qy(t)&&-1!==e.indexOf("/"))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Kt.fromString(e));if(!$e.isDocumentKey(i))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return iu(n,new $e(i))}if(e instanceof fi)return iu(n,e._key);throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${AT(e)}.`)}function UO(n,t){if(!Array.isArray(n)||0===n.length)throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function HO(n,t,e){if(!e.isEqual(t))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const GB={maxAttempts:5};class $A{convertValue(t,e="none"){switch(Sd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(eu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw st()}}convertObject(t,e){const i={};return Xc(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new RT(xi(t.latitude),xi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=jS(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Of(t));default:return null}}convertTimestamp(t){const e=no(t);return new ii(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Kt.fromString(t);St(JE(i));const r=new nl(i.get(1),i.get(3)),o=new $e(i.popFirst(5));return r.isEqual(e)||yi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function VT(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class zB extends $A{constructor(t){super(),this.firestore=t}convertBytes(t){return new mu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}class jO{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Jm(t)}set(t,e,i){this._verifyNotCommitted();const r=Kf(t,this._firestore),o=VT(r.converter,e,i),u=PT(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,hi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Kf(t,this._firestore);let u;return u="string"==typeof(e=(0,Tt.m9)(e))||e instanceof Gd?qA(this._dataReader,"WriteBatch.update",o._key,e,i,r):ZA(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,hi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Kf(t,this._firestore);return this._mutations=this._mutations.concat(new Ld(e._key,hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kf(n,t){if((n=(0,Tt.m9)(n)).firestore!==t)throw new Ie(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class tg extends $A{constructor(t){super(),this.firestore=t}convertBytes(t){return new mu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}function ZO(n,t,e){n=an(n,fi);const i=an(n.firestore,bi),r=VT(n.converter,t,e);return xv(i,[PT(Jm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,hi.none())])}function qO(n,t,e,...i){n=an(n,fi);const r=an(n.firestore,bi),o=Jm(r);let u;return u="string"==typeof(t=(0,Tt.m9)(t))||t instanceof Gd?qA(o,"updateDoc",n._key,t,e,i):ZA(o,"updateDoc",n._key,t),xv(r,[u.toMutation(n._key,hi.exists(!0))])}function GO(n,...t){var e,i,r;n=(0,Tt.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||HA(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(HA(t[u])){const S=t[u];t[u]=null===(e=S.next)||void 0===e?void 0:e.bind(S),t[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),t[u+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let _,w,D;if(n instanceof fi)w=an(n.firestore,bi),D=Lf(n._key.path),_={next:S=>{t[u]&&t[u](YA(w,n,S))},error:t[u+1],complete:t[u+2]};else{const S=an(n,Ps);w=an(S.firestore,bi),D=S._query;const O=new tg(w);_={next:L=>{t[u]&&t[u](new Yf(w,O,S,L))},error:t[u+1],complete:t[u+2]},PO(n._query)}return function(S,O,L,H){const Q=new ST(H),ie=new sA(O,Q,L);return S.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return eA(yield Tv(S),ie)})),()=>{Q.Tc(),S.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return nA(yield Tv(S),ie)}))}}(ar(w),D,h,_)}function xv(n,t){return function(e,i){const r=new Wi;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function VV(n,t,e){return uA.apply(this,arguments)}(yield VA(e),i,r)})),r.promise}(ar(n),t)}function YA(n,t,e){const i=e.docs.get(t._key),r=new tg(n);return new zd(n,r,t._key,i,new eg(e.hasPendingWrites,e.fromCache),t.converter)}class nU extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Jm(t)}get(t){const e=Kf(t,this._firestore),i=new zB(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return st();const o=r[0];if(o.isFoundDocument())return new Ew(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Ew(this._firestore,i,e._key,null,e.converter);throw st()})}set(t,e,i){const r=Kf(t,this._firestore),o=VT(r.converter,e,i),u=PT(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=Kf(t,this._firestore);let u;return u="string"==typeof(e=(0,Tt.m9)(e))||e instanceof Gd?qA(this._dataReader,"Transaction.update",o._key,e,i,r):ZA(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Kf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Kf(t,this._firestore),i=new tg(this._firestore);return super.get(t).then(r=>new zd(this._firestore,i,e._key,r._document,new eg(!1,!1),e.converter))}}function WA(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function $O(){if("undefined"==typeof Uint8Array)throw new Ie("unimplemented","Uint8Arrays are not available in this environment.")}function YO(){if(!function HS(){return"undefined"!=typeof atob}())throw new Ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){kf=Rr.SDK_VERSION,(0,Rr._registerComponent)(new Nc.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new bi(r,new FS(e.getProvider("auth-internal")),new VS(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,Rr.registerVersion)(cE,"3.4.12",n),(0,Rr.registerVersion)(cE,"3.4.12","esm2017")}();class Mw{constructor(t){this._delegate=t}static fromBase64String(t){return YO(),new Mw(mu.fromBase64String(t))}static fromUint8Array(t){return $O(),new Mw(mu.fromUint8Array(t))}toBase64(){return YO(),this._delegate.toBase64()}toUint8Array(){return $O(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function KA(n){return function dU(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class hU{enableIndexedDbPersistence(t,e){return function yB(n,t){TO(n=an(n,bi));const e=ar(n),i=n._freezeSettings(),r=new kA;return EO(e,r,new oO(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function vB(n){TO(n=an(n,bi));const t=ar(n),e=n._freezeSettings(),i=new kA;return EO(t,i,new eB(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function bB(n){if(n._initialized&&!n._terminated)throw new Ie(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(e=(0,me.Z)(function*(i){if(!tl.V())return Promise.resolve();const r=i+"main";yield tl.delete(r)}),function(i){return e.apply(this,arguments)})(Wm(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class WO{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof nl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&wm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function fB(n,t,e,i={}){var r;const o=(n=an(n,Cw))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&wm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Yi.MOCK_USER;else{u=(0,Tt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ie(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Yi(_)}n._authCredentials=new PS(new dE(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function CB(n){return function sB(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const t=yield uO(n),e=yield dO(n);return t.setNetworkEnabled(!0),function(i){const r=Qe(i);return r.lu.delete(0),bw(r)}(e)}))}(ar(n=an(n,bi)))}(this._delegate)}disableNetwork(){return function DB(n){return function oB(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const t=yield uO(n),e=yield dO(n);return t.setNetworkEnabled(!1),(i=(0,me.Z)(function*(r){const o=Qe(r);o.lu.add(0),yield yv(o),o._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(ar(n=an(n,bi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,mO("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function wB(n){return function(t){const e=new Wi;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function jV(n,t){return mA.apply(this,arguments)}(yield VA(t),e)})),e.promise}(ar(n=an(n,bi)))}(this._delegate)}onSnapshotsInSync(t){return function tU(n,t){return function cB(n,t){const e=new ST(t);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return i=yield Tv(n),r=e,Qe(i).Tu.add(r),void r.next();var i,r})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return i=yield Tv(n),r=e,void Qe(i).Tu.delete(r);var i,r}))}}(ar(n=an(n,bi)),HA(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Mv(this,bO(this._delegate,t))}catch(e){throw oo(e,"collection()","Firestore.collection()")}}doc(t){try{return new cl(this,kT(this._delegate,t))}catch(e){throw oo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ao(this,function pB(n,t){if(n=an(n,Cw),UA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ie(de.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ps(n,null,(e=t,new Wl(Kt.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw oo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function iU(n,t,e){n=an(n,bi);const i=Object.assign(Object.assign({},GB),e);return function(r){if(r.maxAttempts<1)throw new Ie(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function uB(n,t,e){const i=new Wi;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const r=yield(o=n,IT(o).then(u=>u.datastore));var o;new iB(n.asyncQueue,r,e,t,i).run()})),i.promise}(ar(n),r=>t(new nU(n,r)),i)}(this._delegate,e=>t(new KO(this,e)))}batch(){return ar(this._delegate),new QO(new jO(this._delegate,t=>xv(this._delegate,t)))}loadBundle(t){return function EB(n,t){const e=ar(n=an(n,bi)),i=new gB;return function dB(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,_=function(_,w){if(_ instanceof Uint8Array)return aO(_,w);if(_ instanceof ArrayBuffer)return aO(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new tB(_,u);var _}(e,vw(t));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function XV(n,t,e){const i=Qe(n);var r;(r=(0,me.Z)(function*(o,u,h){try{const _=yield u.getMetadata();if(yield function(O,L){const H=Qe(O),Q=Ki(L.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",ie=>H.Ds.getBundleMetadata(ie,L.id)).then(ie=>!!ie&&ie.createTime.compareTo(Q)>=0)}(o.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=_).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(KR(_));const w=new RV(_,o.localStore,u.wt);let D=yield u.fc();for(;D;){const O=yield w.Nu(D);O&&h._updateProgress(O),D=yield u.fc()}const S=yield w.complete();return yield qd(o,S.Mu,void 0),yield function(O,L){const H=Qe(O);return H.persistence.runTransaction("Save bundle","readwrite",Q=>H.Ds.saveBundleMetadata(Q,L))}(o.localStore,_),h._completeWith(S.progress),Promise.resolve(S.Ou)}catch(_){return wm("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var O}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield VA(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function TB(n,t){return function hB(n,t){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(e,i){const r=Qe(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ds.getNamedQuery(o,i))}(yield LA(n),t)}))}(ar(n=an(n,bi)),t).then(e=>e?new Ps(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ao(this,e):null)}}class BT extends $A{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mw(new mu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return cl.forKey(e,this.firestore,null)}}class KO{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new BT(t)}get(t){const e=ig(t);return this._delegate.get(e).then(i=>new Sw(this._firestore,new zd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=ig(t);return i?(WA("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=ig(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=ig(t);return this._delegate.delete(e),this}}class QO{constructor(t){this._delegate=t}set(t,e,i){const r=ig(t);return i?(WA("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=ig(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=ig(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class ng{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Tw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Iw(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=ng.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new ng(t,new BT(t),e),r.set(e,o)),o}}ng.INSTANCES=new WeakMap;class cl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new BT(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new cl(e,new fi(e._delegate,i,new $e(t)))}static forKey(t,e,i){return new cl(e,new fi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Mv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Mv(this.firestore,bO(this._delegate,t))}catch(e){throw oo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Tt.m9)(t))instanceof fi&&wO(this._delegate,t)}set(t,e){e=WA("DocumentReference.set",e);try{return e?ZO(this._delegate,t,e):ZO(this._delegate,t)}catch(i){throw oo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?qO(this._delegate,t):qO(this._delegate,t,e,...i)}catch(r){throw oo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function XB(n){return xv(an(n.firestore,bi),[new Ld(n._key,hi.none())])}(this._delegate)}onSnapshot(...t){const e=JO(t),i=XO(t,r=>new Sw(this.firestore,new zd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return GO(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function YB(n){n=an(n,fi);const t=an(n.firestore,bi),e=ar(t),i=new tg(t);return function aB(n,t){const e=new Wi;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(i=(0,me.Z)(function*(r,o,u){try{const h=yield function(_,w){const D=Qe(_);return D.persistence.runTransaction("read document","readonly",S=>D.localDocuments.getDocument(S,w))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Ie(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=wv(h,`Failed to get document '${o} from cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield LA(n),t,e);var i})),e.promise}(e,n._key).then(r=>new zd(t,i,n._key,r,new eg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function WB(n){n=an(n,fi);const t=an(n.firestore,bi);return hO(ar(t),n._key,{source:"server"}).then(e=>YA(t,n,e))}(this._delegate):function $B(n){n=an(n,fi);const t=an(n.firestore,bi);return hO(ar(t),n._key).then(e=>YA(t,n,e))}(this._delegate),e.then(i=>new Sw(this.firestore,new zd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new cl(this.firestore,this._delegate.withConverter(t?ng.getInstance(this.firestore,t):null))}}function oo(n,t,e){return n.message=n.message.replace(t,e),n}function JO(n){for(const t of n)if("object"==typeof t&&!KA(t))return t;return{}}function XO(n,t){var e,i;let r;return r=KA(n[0])?n[0]:KA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Sw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new cl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return OO(this._delegate,t._delegate)}}class Iw extends Sw{data(t){const e=this._delegate.data(t);return function RS(n,t){n||st()}(void 0!==e),e}}class ao{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new BT(t)}where(t,e,i){try{return new ao(this.firestore,Wf(this._delegate,function NB(n,t,e){const i=t,r=LT("where",n);return new FB(r,i,e)}(t,e,i)))}catch(r){throw oo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ao(this.firestore,Wf(this._delegate,function VB(n,t="asc"){const e=t,i=LT("orderBy",n);return new LB(i,e)}(t,e)))}catch(i){throw oo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ao(this.firestore,Wf(this._delegate,function BB(n){return yO("limit",n),new FO("limit",n,"F")}(t)))}catch(e){throw oo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ao(this.firestore,Wf(this._delegate,function UB(n){return yO("limitToLast",n),new FO("limitToLast",n,"L")}(t)))}catch(e){throw oo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ao(this.firestore,Wf(this._delegate,function HB(...n){return new NO("startAt",n,!0)}(...t)))}catch(e){throw oo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ao(this.firestore,Wf(this._delegate,function jB(...n){return new NO("startAfter",n,!1)}(...t)))}catch(e){throw oo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ao(this.firestore,Wf(this._delegate,function ZB(...n){return new LO("endBefore",n,!1)}(...t)))}catch(e){throw oo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ao(this.firestore,Wf(this._delegate,function qB(...n){return new LO("endAt",n,!0)}(...t)))}catch(e){throw oo(e,"endAt()","Query.endAt()")}}isEqual(t){return CO(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function QB(n){n=an(n,Ps);const t=an(n.firestore,bi),e=ar(t),i=new tg(t);return function lB(n,t){const e=new Wi;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(i=(0,me.Z)(function*(r,o,u){try{const h=yield CT(r,o,!0),_=new XR(o,h.ji),w=_.Ku(h.documents),D=_.applyChanges(w,!1);u.resolve(D.snapshot)}catch(h){const _=wv(h,`Failed to execute query '${o} against cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield LA(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Yf(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function JB(n){n=an(n,Ps);const t=an(n.firestore,bi),e=ar(t),i=new tg(t);return fO(e,n._query,{source:"server"}).then(r=>new Yf(t,i,n,r))}(this._delegate):function KB(n){n=an(n,Ps);const t=an(n.firestore,bi),e=ar(t),i=new tg(t);return PO(n._query),fO(e,n._query).then(r=>new Yf(t,i,n,r))}(this._delegate),e.then(i=>new QA(this.firestore,new Yf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=JO(t),i=XO(t,r=>new QA(this.firestore,new Yf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return GO(this._delegate,e,i)}withConverter(t){return new ao(this.firestore,this._delegate.withConverter(t?ng.getInstance(this.firestore,t):null))}}class pU{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Iw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QA{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ao(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Iw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new pU(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Iw(this._firestore,i))})}isEqual(t){return OO(this._delegate,t._delegate)}}class Mv extends ao{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new cl(this.firestore,t):null}doc(t){try{return new cl(this.firestore,void 0===t?kT(this._delegate):kT(this._delegate,t))}catch(e){throw oo(e,"doc()","CollectionReference.doc()")}}add(t){return function eU(n,t){const e=an(n.firestore,bi),i=kT(n),r=VT(n.converter,t);return xv(e,[PT(Jm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,hi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new cl(this.firestore,e))}isEqual(t){return wO(this._delegate,t._delegate)}withConverter(t){return new Mv(this.firestore,this._delegate.withConverter(t?ng.getInstance(this.firestore,t):null))}}function ig(n){return an(n,fi)}class JA{constructor(...t){this._delegate=new Gd(...t)}static documentId(){return new JA(di.keyField().canonicalString())}isEqual(t){return(t=(0,Tt.m9)(t))instanceof Gd&&this._delegate._internalPath.isEqual(t._internalPath)}}class rg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function sU(){return new jA("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new rg(t)}static delete(){const t=function rU(){return new Dw("deleteField")}();return t._methodName="FieldValue.delete",new rg(t)}static arrayUnion(...t){const e=function oU(...n){return new IB("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new rg(e)}static arrayRemove(...t){const e=function aU(...n){return new AB("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new rg(e)}static increment(t){const e=function lU(n){return new kB("increment",n)}(t);return e._methodName="FieldValue.increment",new rg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const mU={Firestore:WO,GeoPoint:RT,Timestamp:ii,Blob:Mw,Transaction:KO,WriteBatch:QO,DocumentReference:cl,DocumentSnapshot:Sw,Query:ao,QueryDocumentSnapshot:Iw,QuerySnapshot:QA,CollectionReference:Mv,FieldPath:JA,FieldValue:rg,setLogLevel:function fU(n){!function uE(n){Yl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function _U(n){(function gU(n,t){n.INTERNAL.registerComponent(new Nc.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},mU)))})(n,(t,e)=>new WO(t,e,new hU)),n.registerVersion("@firebase/firestore-compat","0.1.21")}(Pp.Z);var kt=P(7579),$d=P(6451),UT=P(5363),yU=P(6063);class vU extends kt.x{constructor(t=1/0,e=1/0,i=yU.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)h=_;h&&i.splice(0,h+1)}}}var eP=P(3099);function sg(n,t,e){var i,r;let o,u=!1;return n&&"object"==typeof n?(o=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,u=!!n.refCount,e=n.scheduler):o=null!=n?n:1/0,(0,eP.B)({connector:()=>new vU(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}const HT=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var wr=P(5698);function tP(n){return(0,Zi.e)((t,e)=>{let i=!1;t.subscribe(new Di.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function nP(n=wU){return(0,Zi.e)((t,e)=>{let i=!1;t.subscribe(new Di.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function wU(){return new HT}function og(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ti((r,o)=>n(r,o,i)):Ja.y,(0,wr.q)(1),e?tP(t):nP(()=>new HT))}var ul=P(576);function iP(n,t){return(0,ul.m)(t)?Xn(()=>n,t):Xn(()=>n)}var XA=P(9468);const rP=new s.OlP("angularfire2.auth.use-emulator"),sP=new s.OlP("angularfire2.auth.settings"),oP=new s.OlP("angularfire2.auth.tenant-id"),aP=new s.OlP("angularfire2.auth.langugage-code"),lP=new s.OlP("angularfire2.auth.use-device-language"),cP=new s.OlP("angularfire.auth.persistence"),uP=(n,t,e,i,r,o,u,h)=>(0,hn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,o&&_.useDeviceLanguage(),u)for(const[w,D]of Object.entries(u))_.settings[w]=D;return h&&_.setPersistence(h),_},[e,i,r,o,u,h]);let dP=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S,O,L){const H=new kt.x,Q=nt(void 0).pipe((0,UT.Q)(u.outsideAngular),Xn(()=>o.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,1121)))),(0,Je.U)(()=>(0,hn.on)(e,o,i)),(0,Je.U)(ie=>uP(ie,o,h,w,D,S,_,O)),sg({bufferSize:1,refCount:!1}));if(wl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{Q.pipe(og()).subscribe();const Ue=Q.pipe(Xn(He=>He.getRedirectResult().then(Dt=>Dt,()=>null)),$n.iC,sg({bufferSize:1,refCount:!1})),Ke=Q.pipe(Xn(He=>new kn.y(Dt=>({unsubscribe:o.runOutsideAngular(()=>He.onAuthStateChanged(Rt=>Dt.next(Rt),Rt=>Dt.error(Rt),()=>Dt.complete()))})))),je=Q.pipe(Xn(He=>new kn.y(Dt=>({unsubscribe:o.runOutsideAngular(()=>He.onIdTokenChanged(Rt=>Dt.next(Rt),Rt=>Dt.error(Rt),()=>Dt.complete()))}))));this.authState=Ue.pipe(iP(Ke),(0,XA.R)(u.outsideAngular),(0,UT.Q)(u.insideAngular)),this.user=Ue.pipe(iP(je),(0,XA.R)(u.outsideAngular),(0,UT.Q)(u.insideAngular)),this.idToken=this.user.pipe(Xn(He=>He?(0,dn.D)(He.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(Xn(He=>He?(0,dn.D)(He.getIdTokenResult()):nt(null))),this.credential=(0,$d.T)(Ue,H,this.authState.pipe(ti(He=>!He))).pipe((0,Je.U)(He=>(null==He?void 0:He.user)?He:null),(0,XA.R)(u.outsideAngular),(0,UT.Q)(u.insideAngular))}return(0,hn.pX)(this,Q,o,{spy:{apply:(ie,Ue,Ke)=>{(ie.startsWith("signIn")||ie.startsWith("createUser"))&&Ke.then(je=>H.next(je))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hn.Dh),s.LFG(hn.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG($n.HU),s.LFG(rP,8),s.LFG(sP,8),s.LFG(oP,8),s.LFG(aP,8),s.LFG(lP,8),s.LFG(cP,8),s.LFG(Is,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function hP(n,t){return function DU(n,t=Fc.z){return new kn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function ek(n,t){return hP(n,t).pipe((0,Je.U)(e=>({payload:e,type:"query"})))}function jT(n,t){return ek(n,t).pipe(Wr(void 0),Uc(),(0,Je.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const _=r.find(D=>D.doc.ref.isEqual(u.ref)),w=null==e?void 0:e.payload.docs.find(D=>D.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function fP(n,t,e){return jT(n,e).pipe(Qa((i,r)=>function TU(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function xU(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return tk(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return tk(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return tk(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Hc(),(0,Je.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function tk(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function pP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class mP{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=jT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Je.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Wr(void 0),Uc(),ti(([i,r])=>r.length>0||!i),(0,Je.U)(([i,r])=>r),$n.iC)}auditTrail(t){return this.stateChanges(t).pipe(Qa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=pP(t);return fP(this.query,e,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(t={}){return ek(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),$n.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe($n.iC)}add(t){return this.ref.add(t)}doc(t){return new gP(this.ref.doc(t),this.afs)}}class gP{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=vP(i,e);return new mP(r,o,this.afs)}snapshotChanges(){return function EU(n,t){return hP(n,t).pipe(Wr(void 0),Uc(),(0,Je.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,dn.D)(this.ref.get(t)).pipe($n.iC)}}class MU{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?jT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),ti(e=>e.length>0),$n.iC):jT(this.query,this.afs.schedulers.outsideAngular).pipe($n.iC)}auditTrail(t){return this.stateChanges(t).pipe(Qa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=pP(t);return fP(this.query,e,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(t={}){return ek(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),$n.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe($n.iC)}}const _P=new s.OlP("angularfire2.enableFirestorePersistence"),yP=new s.OlP("angularfire2.firestore.persistenceSettings"),SU=new s.OlP("angularfire2.firestore.settings"),IU=new s.OlP("angularfire2.firestore.use-emulator");function vP(n,t=(e=>e)){return{query:t(n),ref:n}}let bP=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S,O,L,H,Q,ie,Ue,Ke){this.schedulers=_;const je=(0,hn.on)(e,h,i),He=D;S&&uP(je,h,O,H,Q,ie,L,Ue),[this.firestore,this.persistenceEnabled$]=(0,hn.cc)(`${je.name}.firestore`,"AngularFirestore",je.name,()=>{const Dt=h.runOutsideAngular(()=>je.firestore());if(o&&Dt.settings(o),He&&Dt.useEmulator(...He),r&&!wl(u)){const Rt=()=>{try{return(0,dn.D)(Dt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(on){return"undefined"!=typeof console&&console.warn(on),nt(!1)}};return[Dt,h.runOutsideAngular(Rt)]}return[Dt,nt(!1)]},[o,He,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=vP(r,i),h=this.schedulers.ngZone.run(()=>o);return new mP(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new MU(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new gP(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hn.Dh),s.LFG(hn.xv,8),s.LFG(_P,8),s.LFG(SU,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG($n.HU),s.LFG(yP,8),s.LFG(IU,8),s.LFG(dP,8),s.LFG(rP,8),s.LFG(sP,8),s.LFG(oP,8),s.LFG(aP,8),s.LFG(lP,8),s.LFG(cP,8),s.LFG(Is,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),AU=(()=>{class n{constructor(){gD.Z.registerVersion("angularfire",$n.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:_P,useValue:!0},{provide:yP,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[bP]}),n})();const wP_firebase={apiKey:"AIzaSyA7tSfgvo9iMlmZpENiWxpWtLqEHyLXJ8w",authDomain:"withthebible-c93d6.firebaseapp.com",projectId:"withthebible-c93d6",storageBucket:"withthebible-c93d6.appspot.com",messagingSenderId:"557096516299",appId:"1:557096516299:web:6dda9d97fa91748305f94e",measurementId:"G-6RSS3RLXCL"};function Wt(n){return null!=n&&"false"!=`${n}`}function lo(n,t=0){return CP(n)?Number(n):t}function CP(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function ZT(n){return Array.isArray(n)?n:[n]}function lr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Yd(n){return n instanceof s.SBq?n.nativeElement:n}function Wd(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const jU=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function ZU(){return(0,s.f3M)(te)}}),qU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let rk,Kd=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function GU(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?qU.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jU,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ow=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();try{rk="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){rk=!1}let Sv,Cr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Xi(n){return n===fs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!rk)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function MP(){if(Sv)return Sv;if("object"!=typeof document||!document)return Sv=new Set(xP),Sv;let n=document.createElement("input");return Sv=new Set(xP.filter(t=>(n.setAttribute("type",t),n.type===t))),Sv}let Pw,lg,sk;function ag(n){return function zU(){if(null==Pw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Pw=!0}))}finally{Pw=Pw||!1}return Pw}()?n:!!n.capture}function $U(){if(null==lg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return lg=!1,lg;if("scrollBehavior"in document.documentElement.style)lg=!0;else{const n=Element.prototype.scrollTo;lg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return lg}function SP(n){if(function YU(){if(null==sk){const n="undefined"!=typeof document?document.head:null;sk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return sk}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ok(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function cg(n){return n.composedPath?n.composedPath()[0]:n.target}function ak(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var Xr=P(727);class Fs extends kt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var es=P(8505);function IP(n){return ti((t,e)=>n<=e)}var WU=P(5032);function En(n){return(0,Zi.e)((t,e)=>{(0,To.Xf)(n).subscribe(new Di.Q(e,()=>e.complete(),WU.Z)),!e.closed&&t.subscribe(e)})}let AP=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KU=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Yd(e);return new kn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new kt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(AP))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lk=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Wt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=lo(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(rd(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(KU),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Fw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[AP]}),n})();function zT(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const RP="cdk-describedby-message",$T="cdk-describedby-host";let OP=0,PP=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+OP++,this._document=e}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=ck(i,r);"string"!=typeof i?(FP(i),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){var o;if(!i||!this._isElementNode(e))return;const u=ck(i,r);if(this._isElementDescribedByMessage(e,u)&&this._removeMessageReference(e,u),"string"==typeof i){const h=this._messageRegistry.get(u);h&&0===h.referenceCount&&this._deleteMessageElement(u)}0===(null===(o=this._messagesContainer)||void 0===o?void 0:o.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var e;const i=this._document.querySelectorAll(`[${$T}="${this._id}"]`);for(let r=0;r<i.length;r++)this._removeCdkDescribedByReferenceIds(i[r]),i[r].removeAttribute($T);null===(e=this._messagesContainer)||void 0===e||e.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");FP(r),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(ck(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){var i,r;null===(r=null===(i=this._messageRegistry.get(e))||void 0===i?void 0:i.messageElement)||void 0===r||r.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=zT(e,"aria-describedby").filter(r=>0!=r.indexOf(RP));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function QU(n,t,e){const i=zT(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute($T,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function JU(n,t,e){const r=zT(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute($T)}_isElementDescribedByMessage(e,i){const r=zT(e,"aria-describedby"),o=this._messageRegistry.get(i),u=o&&o.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(Cr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ck(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function FP(n){n.id||(n.id=`${RP}-${OP++}`)}class XU extends class NP{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new kt.x,this._typeaheadSubscription=Xr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new kt.x,this.change=new kt.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,es.b)(e=>this._pressedLetters.push(e)),rd(t),ti(()=>this._pressedLetters.length>0),(0,Je.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Wd(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let LP=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function nH(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function tH(n){try{return n.frameElement}catch(t){return null}}(function uH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===BP(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=BP(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function lH(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function cH(n){return!function rH(n){return function oH(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function iH(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function sH(n){return function aH(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||VP(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VP(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function BP(n){if(!VP(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class dH{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,wr.q)(1)).subscribe(t)}}let hH=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new dH(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(LP),s.LFG(s.R0b),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UP(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function HP(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const fH=new s.OlP("cdk-input-modality-detector-options"),pH={ignoreKeys:[18,17,224,91,16]},Iv=ag({passive:!0,capture:!0});let mH=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Fs(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,_;(null===(_=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===_?void 0:_.some(w=>w===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=cg(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(UP(u)?"keyboard":"mouse"),this._mostRecentTarget=cg(u))},this._onTouchstart=u=>{HP(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=cg(u))},this._options=Object.assign(Object.assign({},pH),o),this.modalityDetected=this._modality.pipe(IP(1)),this.modalityChanged=this.modalityDetected.pipe(Hc()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Iv),r.addEventListener("mousedown",this._onMousedown,Iv),r.addEventListener("touchstart",this._onTouchstart,Iv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Iv),document.removeEventListener("mousedown",this._onMousedown,Iv),document.removeEventListener("touchstart",this._onTouchstart,Iv))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cr),s.LFG(s.R0b),s.LFG(te),s.LFG(fH,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gH=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function _H(){return null}}),yH=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let vH=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[o,u]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gH,8),s.LFG(s.R0b),s.LFG(te),s.LFG(yH,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bH=new s.OlP("cdk-focus-monitor-default-options"),YT=ag({passive:!0,capture:!0});let ug=(()=>{class n{constructor(e,i,r,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new kt.x,this._rootNodeFocusAndBlurListener=h=>{const _=cg(h),w="focus"===h.type?this._onFocus:this._onBlur;for(let D=_;D;D=D.parentElement)w.call(this,h,D)},this._document=o,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const r=Yd(e);if(!this._platform.isBrowser||1!==r.nodeType)return nt(null);const o=SP(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new kt.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Yd(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Yd(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,_])=>this._originChanged(h,i,_)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=cg(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,YT),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,YT)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(En(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,YT),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,YT),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Cr),s.LFG(mH),s.LFG(te,8),s.LFG(bH,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZP="cdk-high-contrast-black-on-white",qP="cdk-high-contrast-white-on-black",uk="cdk-high-contrast-active";let GP=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(uk),e.remove(ZP),e.remove(qP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(uk),e.add(ZP)):2===i&&(e.add(uk),e.add(qP))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cr),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dk=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(GP))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Fw]]}),n})();class zP{}const Qd="*";function ts(n,t){return{type:7,name:n,definitions:t,options:{}}}function Kn(n,t=null){return{type:4,styles:t,timings:n}}function $P(n,t=null){return{type:3,steps:n,options:t}}function YP(n,t=null){return{type:2,steps:n,options:t}}function yt(n){return{type:6,styles:n,offset:null}}function On(n,t,e){return{type:0,name:n,styles:t,options:e}}function dg(n){return{type:5,steps:n}}function Pn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function WT(n=null){return{type:9,options:n}}function KT(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function WP(n){Promise.resolve(null).then(n)}class Av{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){WP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class KP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?WP(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function QP(){return"undefined"!=typeof window&&void 0!==window.document}function fk(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qf(n){switch(n.length){case 0:return new Av;case 1:return n[0];default:return new KP(n)}}function JP(n,t,e,i,r={},o={}){const u=[],h=[];let _=-1,w=null;if(i.forEach(D=>{const S=D.offset,O=S==_,L=O&&w||{};Object.keys(D).forEach(H=>{let Q=H,ie=D[H];if("offset"!==H)switch(Q=t.normalizePropertyName(Q,u),ie){case"!":ie=r[H];break;case Qd:ie=o[H];break;default:ie=t.normalizeStyleValue(H,Q,ie,u)}L[Q]=ie}),O||h.push(L),w=L,_=S}),u.length){const D="\n - ";throw new Error(`Unable to animate due to the following errors:${D}${u.join(D)}`)}return h}function pk(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&mk(e,"start",n)));break;case"done":n.onDone(()=>i(e&&mk(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&mk(e,"destroy",n)))}}function mk(n,t,e){const i=e.totalTime,o=gk(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function gk(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function pa(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function XP(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let _k=(n,t)=>!1,eF=(n,t,e)=>[];(fk()||"undefined"!=typeof Element)&&(_k=QP()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),eF=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let hg=null,tF=!1;function yk(n){hg||(hg=function DH(){return"undefined"!=typeof document?document.body:null}()||{},tF=!!hg.style&&"WebkitAppearance"in hg.style);let t=!0;return hg.style&&!function CH(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in hg.style,!t&&tF&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in hg.style)),t}const vk=_k,bk=eF;function nF(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let iF=(()=>{class n{validateStyleProperty(e){return yk(e)}matchesElement(e,i){return!1}containsElement(e,i){return vk(e,i)}query(e,i,r){return bk(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],_){return new Av(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),wk=(()=>{class n{}return n.NOOP=new iF,n})();const Ck="ng-enter",QT="ng-leave",JT="ng-trigger",XT=".ng-trigger",sF="ng-animating",Dk=".ng-animating";function fg(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Ek(parseFloat(t[1]),t[2])}function Ek(n,t){return"s"===t?1e3*n:n}function ex(n,t,e){return n.hasOwnProperty("duration")?n:function xH(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=Ek(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(o=Ek(parseFloat(_),h[4]));const w=h[5];w&&(u=w)}else r=n;if(!e){let h=!1,_=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),h=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),h=!0),h&&t.splice(_,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:o,easing:u}}(n,t,e)}function kv(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Jf(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else kv(n,e);return e}function aF(n,t,e){return e?t+":"+e+";":""}function lF(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=aF(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=aF(0,IH(e),n.style[e]));n.setAttribute("style",t)}function gu(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=xk(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),fk()&&lF(n))}function pg(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=xk(e);n.style[i]=""}),fk()&&lF(n))}function Nw(n){return Array.isArray(n)?1==n.length?n[0]:YP(n):n}const Tk=new RegExp("{{\\s*(.+?)\\s*}}","g");function cF(n){let t=[];if("string"==typeof n){let e;for(;e=Tk.exec(n);)t.push(e[1]);Tk.lastIndex=0}return t}function tx(n,t,e){const i=n.toString(),r=i.replace(Tk,(o,u)=>{let h=t[u];return t.hasOwnProperty(u)||(e.push(`Please provide a value for the animation param ${u}`),h=""),h.toString()});return r==i?n:r}function nx(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const SH=/-+([a-z0-9])/g;function xk(n){return n.replace(SH,(...t)=>t[1].toUpperCase())}function IH(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function uF(n,t){return 0===n||0===t}function dF(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],u=[];if(i.forEach(h=>{o.hasOwnProperty(h)||u.push(h),o[h]=e[h]}),u.length)for(var r=1;r<t.length;r++){let h=t[r];u.forEach(function(_){h[_]=Mk(n,_)})}}return t}function ma(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Mk(n,t){return window.getComputedStyle(n)[t]}function AH(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function kH(n,t,e){if(":"==n[0]){const _=function RH(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],o=i[2],u=i[3];t.push(hF(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(hF(u,r))}(i,e,t)):e.push(n),e}const rx=new Set(["true","1"]),sx=new Set(["false","0"]);function hF(n,t){const e=rx.has(n)||sx.has(n),i=rx.has(t)||sx.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?rx.has(n):sx.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?rx.has(t):sx.has(t)),u&&h}}const OH=new RegExp("s*:selfs*,?","g");function Sk(n,t,e){return new PH(n).build(t,e)}class PH{constructor(t){this._driver=t}build(t,e){const i=new LH(e);return this._resetContextStyleTimingState(i),ma(this,Nw(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const _=h,w=_.name;w.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,o.push(this.visitState(_,e))}),_.name=w}else if(1==h.type){const _=this.visitTransition(h,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};if(i.styles.forEach(h=>{if(ox(h)){const _=h;Object.keys(_).forEach(w=>{cF(_[w]).forEach(D=>{u.hasOwnProperty(D)||o.add(D)})})}}),o.size){const h=nx(o.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${h.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ma(this,Nw(t.animation),e);return{type:1,matchers:AH(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:mg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ma(this,i,e)),options:mg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=ma(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:mg(t.options)}}visitAnimate(t,e){const i=function BH(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Ik(ex(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Ik(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||ex(i,t),Ik(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:yt({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const w={};i.easing&&(w.easing=i.easing),u=yt(w)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=h,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Qd?i.push(u):e.errors.push(`The provided style string value ${u} is not allowed.`):i.push(u)}):i.push(t.styles);let r=!1,o=null;return i.forEach(u=>{if(ox(u)){const h=u,_=h.easing;if(_&&(o=_,delete h.easing),!r)for(let w in h)if(h[w].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return void e.errors.push(`The provided animation property "${h}" is not a supported CSS property for animations`);const _=e.collectedStyles[e.currentQuerySelector],w=_[h];let D=!0;w&&(o!=r&&o>=w.startTime&&r<=w.endTime&&(e.errors.push(`The CSS property "${h}" that exists between the times of "${w.startTime}ms" and "${w.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${r}ms"`),D=!1),o=w.startTime),D&&(_[h]={startTime:o,endTime:r}),e.options&&function MH(n,t,e){const i=t.params||{},r=cF(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(u[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let o=0;const u=[];let h=!1,_=!1,w=0;const D=t.steps.map(Ue=>{const Ke=this._makeStyleAst(Ue,e);let je=null!=Ke.offset?Ke.offset:function VH(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(ox(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(ox(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ke.styles),He=0;return null!=je&&(o++,He=Ke.offset=je),_=_||He<0||He>1,h=h||He<w,w=He,u.push(He),Ke});_&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),h&&e.errors.push("Please ensure that all keyframe offsets are in order");const S=t.steps.length;let O=0;o>0&&o<S?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(O=1/(S-1));const L=S-1,H=e.currentTime,Q=e.currentAnimateTimings,ie=Q.duration;return D.forEach((Ue,Ke)=>{const je=O>0?Ke==L?1:O*Ke:u[Ke],He=je*ie;e.currentTime=H+Q.delay+He,Q.duration=He,this._validateStyleAst(Ue,e),Ue.offset=je,i.styles.push(Ue)}),i}visitReference(t,e){return{type:8,animation:ma(this,Nw(t.animation),e),options:mg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:mg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:mg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function FH(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(OH,"")),n=n.replace(/@\*/g,XT).replace(/@\w+/g,e=>XT+"-"+e.substr(1)).replace(/:animating/g,Dk),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,pa(e.collectedStyles,e.currentQuerySelector,{});const h=ma(this,Nw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:mg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:ex(t.timings,e.errors,!0);return{type:12,animation:ma(this,Nw(t.animation),e),timings:i,options:null}}}class LH{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ox(n){return!Array.isArray(n)&&"object"==typeof n}function mg(n){return n?(n=kv(n)).params&&(n.params=function NH(n){return n?kv(n):null}(n.params)):n={},n}function Ik(n,t,e){return{duration:n,delay:t,easing:e}}function Ak(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class ax{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const jH=new RegExp(":enter","g"),qH=new RegExp(":leave","g");function kk(n,t,e,i,r,o={},u={},h,_,w=[]){return(new GH).buildKeyframes(n,t,e,i,r,o,u,h,_,w)}class GH{buildKeyframes(t,e,i,r,o,u,h,_,w,D=[]){w=w||new ax;const S=new Rk(t,e,w,r,o,D,[]);S.options=_,S.currentTimeline.setStyles([u],null,S.errors,_),ma(this,i,S);const O=S.timelines.filter(L=>L.containsAnimation());if(Object.keys(h).length){let L;for(let H=O.length-1;H>=0;H--){const Q=O[H];if(Q.element===e){L=Q;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([h],null,S.errors,_)}return O.length?O.map(L=>L.buildKeyframes()):[Ak(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?fg(i.duration):null,h=null!=i.delay?fg(i.delay):null;return 0!==u&&t.forEach(_=>{const w=e.appendInstructionToTimeline(_,u,h);o=Math.max(o,w.duration+w.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ma(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=lx);const u=fg(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>ma(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?fg(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),ma(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return ex(e.params?tx(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(_=>{h.forwardTime((_.offset||0)*o),h.setStyles(_.styles,_.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?fg(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=lx);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let _=null;h.forEach((w,D)=>{e.currentQueryIndex=D;const S=e.createSubContext(t.options,w);o&&S.delayNextStep(o),w===e.element&&(_=S.currentTimeline),ma(this,t.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const D=e.currentTimeline;_&&D.delayNextStep(_);const S=D.currentTime;ma(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const lx={};class Rk{constructor(t,e,i,r,o,u,h,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new cx(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=fg(i.duration)),null!=i.delay&&(r.delay=fg(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=tx(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Rk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=lx,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new zH(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(jH,"."+this._enterClassName)).replace(qH,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),h.push(...w)}return!o&&0==h.length&&u.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),h}}class cx{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new cx(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Qd,this._currentKeyframe[e]=Qd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},u=function $H(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Qd})):Jf(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const _=tx(u[h],o,i);this._pendingStyles[h]=_,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Qd),this._updateStyle(h,_)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const w=Jf(h,!0);Object.keys(w).forEach(D=>{const S=w[D];"!"==S?t.add(D):S==Qd&&e.add(D)}),i||(w.offset=_/this.duration),r.push(w)});const o=t.size?nx(t.values()):[],u=e.size?nx(e.values()):[];if(i){const h=r[0],_=kv(h);h.offset=0,_.offset=1,r=[h,_]}return Ak(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class zH extends cx{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,_=Jf(t[0],!1);_.offset=0,o.push(_);const w=Jf(t[0],!1);w.offset=mF(h),o.push(w);const D=t.length-1;for(let S=1;S<=D;S++){let O=Jf(t[S],!1);O.offset=mF((e+O.offset*i)/u),o.push(O)}i=u,e=0,r="",t=o}return Ak(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function mF(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Ok{}class YH extends Ok{normalizePropertyName(t,e){return xk(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(WH[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return u+o}}const WH=(()=>function KH(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function gF(n,t,e,i,r,o,u,h,_,w,D,S,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:_,preStyleProps:w,postStyleProps:D,totalTime:S,errors:O}}const Pk={};class _F{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function QH(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):u}build(t,e,i,r,o,u,h,_,w,D){const S=[],O=this.ast.options&&this.ast.options.params||Pk,H=this.buildStyles(i,h&&h.params||Pk,S),Q=_&&_.params||Pk,ie=this.buildStyles(r,Q,S),Ue=new Set,Ke=new Map,je=new Map,He="void"===r,Dt={params:Object.assign(Object.assign({},O),Q)},Rt=D?[]:kk(t,e,this.ast.animation,o,u,H,ie,Dt,w,S);let on=0;if(Rt.forEach(_a=>{on=Math.max(_a.duration+_a.delay,on)}),S.length)return gF(e,this._triggerName,i,r,He,H,ie,[],[],Ke,je,on,S);Rt.forEach(_a=>{const lh=_a.element,U2=pa(Ke,lh,{});_a.preStyleProps.forEach(Ig=>U2[Ig]=!0);const aC=pa(je,lh,{});_a.postStyleProps.forEach(Ig=>aC[Ig]=!0),lh!==e&&Ue.add(lh)});const Qi=nx(Ue.values());return gF(e,this._triggerName,i,r,He,H,ie,Rt,Qi,Ke,je,on)}}class JH{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=kv(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!=u&&(r[o]=u)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const u=o;Object.keys(u).forEach(h=>{let _=u[h];_.length>1&&(_=tx(_,r,e));const w=this.normalizer.normalizePropertyName(h,e);_=this.normalizer.normalizeStyleValue(h,w,_,e),i[w]=_})}}),i}}class ej{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new JH(r.style,r.options&&r.options.params||{},i)}),yF(this.states,"true","1"),yF(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new _F(t,r,this.states))}),this.fallbackTransition=function tj(n,t,e){return new _F(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function yF(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const nj=new ax;class ij{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=Sk(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,o=JP(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let u;const h=new Map;if(o?(u=kk(this._driver,e,o,Ck,QT,{},{},i,nj,r),u.forEach(D=>{const S=pa(h,D.element,{});D.postStyleProps.forEach(O=>S[O]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),u=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);h.forEach((D,S)=>{Object.keys(D).forEach(O=>{D[O]=this._driver.computeStyle(S,O,Qd)})});const w=Qf(u.map(D=>{const S=h.get(D.element);return this._buildPlayer(D,{},S)}));return this._playersById[t]=w,w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const o=gk(e,"","","");return pk(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const vF="ng-animate-queued",Fk="ng-animate-disabled",lj=[],bF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dl="__ng_removed";class Nk{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function fj(n){return null!=n?n:null}(i?t.value:t),i){const o=kv(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Lw="void",Lk=new Nk(Lw);class uj{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,hl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function pj(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const o=pa(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=pa(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(hl(t,JT),hl(t,JT+"-"+e),h[e]=Lk),()=>{this._engine.afterFlush(()=>{const _=o.indexOf(u);_>=0&&o.splice(_,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new Vk(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(hl(t,JT),hl(t,JT+"-"+e),this._engine.statesByElement.set(t,h={}));let _=h[e];const w=new Nk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),h[e]=w,_||(_=Lk),w.value!==Lw&&_.value===w.value){if(!function _j(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(_.params,w.params)){const Q=[],ie=o.matchStyles(_.value,_.params,Q),Ue=o.matchStyles(w.value,w.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{pg(t,ie),gu(t,Ue)})}return}const O=pa(this._engine.playersByElement,t,[]);O.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==e&&Q.queued&&Q.destroy()});let L=o.matchTransition(_.value,w.value,t,w.params),H=!1;if(!L){if(!r)return;L=o.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:L,fromState:_,toState:w,player:u,isFallbackTransition:H}),H||(hl(t,vF),u.onStart(()=>{Rv(t,vF)})),u.onDone(()=>{let Q=this.players.indexOf(u);Q>=0&&this.players.splice(Q,1);const ie=this._engine.playersByElement.get(t);if(ie){let Ue=ie.indexOf(u);Ue>=0&&ie.splice(Ue,1)}}),this.players.push(u),O.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,XT,!0);i.forEach(r=>{if(r[dl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(Object.keys(o).forEach(_=>{if(u.set(_,o[_].value),this._triggers[_]){const w=this.trigger(t,_,Lw,r);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Qf(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,w=i[u]||Lk,D=new Nk(Lw),S=new Vk(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:w,toState:D,player:S,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[dl];(!o||o===bF)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){hl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const _=gk(o,i.triggerName,i.fromState.value,i.toState.value);_._data=t,pk(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class dj{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new uj(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,e)){this._namespaceList.splice(o+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const u=i[r[o]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(ux(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!ux(e))return;const o=e[dl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),hl(t,Fk)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Rv(t,Fk))}removeNode(t,e,i,r){if(ux(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[dl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return ux(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,XT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Dk,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Qf(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[dl];if(i&&i.setForRemoval){if(t[dl]=bF,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Fk))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)hl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Qf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new ax,r=[],o=new Map,u=[],h=new Map,_=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(dt=>{D.add(dt);const Et=this.driver.query(dt,".ng-animate-queued",!0);for(let It=0;It<Et.length;It++)D.add(Et[It])});const S=this.bodyNode,O=Array.from(this.statesByElement.keys()),L=DF(O,this.collectedEnterElements),H=new Map;let Q=0;L.forEach((dt,Et)=>{const It=Ck+Q++;H.set(Et,It),dt.forEach(_n=>hl(_n,It))});const ie=[],Ue=new Set,Ke=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Et=this.collectedLeaveElements[dt],It=Et[dl];It&&It.setForRemoval&&(ie.push(Et),Ue.add(Et),It.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(_n=>Ue.add(_n)):Ke.add(Et))}const je=new Map,He=DF(O,Array.from(Ue));He.forEach((dt,Et)=>{const It=QT+Q++;je.set(Et,It),dt.forEach(_n=>hl(_n,It))}),t.push(()=>{L.forEach((dt,Et)=>{const It=H.get(Et);dt.forEach(_n=>Rv(_n,It))}),He.forEach((dt,Et)=>{const It=je.get(Et);dt.forEach(_n=>Rv(_n,It))}),ie.forEach(dt=>{this.processLeaveNode(dt)})});const Dt=[],Rt=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(e).forEach(It=>{const _n=It.player,Ur=It.element;if(Dt.push(_n),this.collectedEnterElements.length){const ho=Ur[dl];if(ho&&ho.setForMove){if(ho.previousTriggersValues&&ho.previousTriggersValues.has(It.triggerName)){const Ag=ho.previousTriggersValues.get(It.triggerName),rp=this.statesByElement.get(It.element);rp&&rp[It.triggerName]&&(rp[It.triggerName].value=Ag)}return void _n.destroy()}}const xu=!S||!this.driver.containsElement(S,Ur),ya=je.get(Ur),ip=H.get(Ur),Si=this._buildInstruction(It,i,ip,ya,xu);if(Si.errors&&Si.errors.length)return void Rt.push(Si);if(xu)return _n.onStart(()=>pg(Ur,Si.fromStyles)),_n.onDestroy(()=>gu(Ur,Si.toStyles)),void r.push(_n);if(It.isFallbackTransition)return _n.onStart(()=>pg(Ur,Si.fromStyles)),_n.onDestroy(()=>gu(Ur,Si.toStyles)),void r.push(_n);const Z2=[];Si.timelines.forEach(ho=>{ho.stretchStartingKeyframe=!0,this.disabledNodes.has(ho.element)||Z2.push(ho)}),Si.timelines=Z2,i.append(Ur,Si.timelines),u.push({instruction:Si,player:_n,element:Ur}),Si.queriedElements.forEach(ho=>pa(h,ho,[]).push(_n)),Si.preStyleProps.forEach((ho,Ag)=>{const rp=Object.keys(ho);if(rp.length){let kg=_.get(Ag);kg||_.set(Ag,kg=new Set),rp.forEach($1=>kg.add($1))}}),Si.postStyleProps.forEach((ho,Ag)=>{const rp=Object.keys(ho);let kg=w.get(Ag);kg||w.set(Ag,kg=new Set),rp.forEach($1=>kg.add($1))})});if(Rt.length){const dt=[];Rt.forEach(Et=>{dt.push(`@${Et.triggerName} has failed due to:\n`),Et.errors.forEach(It=>dt.push(`- ${It}\n`))}),Dt.forEach(Et=>Et.destroy()),this.reportError(dt)}const on=new Map,Qi=new Map;u.forEach(dt=>{const Et=dt.element;i.has(Et)&&(Qi.set(Et,Et),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,on))}),r.forEach(dt=>{const Et=dt.element;this._getPreviousPlayers(Et,!1,dt.namespaceId,dt.triggerName,null).forEach(_n=>{pa(on,Et,[]).push(_n),_n.destroy()})});const _a=ie.filter(dt=>TF(dt,_,w)),lh=new Map;CF(lh,this.driver,Ke,w,Qd).forEach(dt=>{TF(dt,_,w)&&_a.push(dt)});const aC=new Map;L.forEach((dt,Et)=>{CF(aC,this.driver,new Set(dt),_,"!")}),_a.forEach(dt=>{const Et=lh.get(dt),It=aC.get(dt);lh.set(dt,Object.assign(Object.assign({},Et),It))});const Ig=[],H2=[],j2={};u.forEach(dt=>{const{element:Et,player:It,instruction:_n}=dt;if(i.has(Et)){if(D.has(Et))return It.onDestroy(()=>gu(Et,_n.toStyles)),It.disabled=!0,It.overrideTotalTime(_n.totalTime),void r.push(It);let Ur=j2;if(Qi.size>1){let ya=Et;const ip=[];for(;ya=ya.parentNode;){const Si=Qi.get(ya);if(Si){Ur=Si;break}ip.push(ya)}ip.forEach(Si=>Qi.set(Si,Ur))}const xu=this._buildAnimation(It.namespaceId,_n,on,o,aC,lh);if(It.setRealPlayer(xu),Ur===j2)Ig.push(It);else{const ya=this.playersByElement.get(Ur);ya&&ya.length&&(It.parentPlayer=Qf(ya)),r.push(It)}}else pg(Et,_n.fromStyles),It.onDestroy(()=>gu(Et,_n.toStyles)),H2.push(It),D.has(Et)&&r.push(It)}),H2.forEach(dt=>{const Et=o.get(dt.element);if(Et&&Et.length){const It=Qf(Et);dt.setRealPlayer(It)}}),r.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<ie.length;dt++){const Et=ie[dt],It=Et[dl];if(Rv(Et,QT),It&&It.hasAnimation)continue;let _n=[];if(h.size){let xu=h.get(Et);xu&&xu.length&&_n.push(...xu);let ya=this.driver.query(Et,Dk,!0);for(let ip=0;ip<ya.length;ip++){let Si=h.get(ya[ip]);Si&&Si.length&&_n.push(...Si)}}const Ur=_n.filter(xu=>!xu.destroyed);Ur.length?mj(this,Et,Ur):this.processLeaveNode(Et)}return ie.length=0,Ig.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Et=this.players.indexOf(dt);this.players.splice(Et,1)}),dt.play()}),Ig}elementContainsData(t,e){let i=!1;const r=e[dl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const _=!o||o==Lw;h.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const w=_.element,D=w!==o,S=pa(i,w,[]);this._getPreviousPlayers(w,D,u,h,e.toState).forEach(L=>{const H=L.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),L.destroy(),S.push(L)})}pg(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,_=e.element,w=[],D=new Set,S=new Set,O=e.timelines.map(H=>{const Q=H.element;D.add(Q);const ie=Q[dl];if(ie&&ie.removedBeforeQueried)return new Av(H.duration,H.delay);const Ue=Q!==_,Ke=function gj(n){const t=[];return EF(n,t),t}((i.get(Q)||lj).map(on=>on.getRealPlayer())).filter(on=>!!on.element&&on.element===Q),je=o.get(Q),He=u.get(Q),Dt=JP(0,this._normalizer,0,H.keyframes,je,He),Rt=this._buildPlayer(H,Dt,Ke);if(H.subTimeline&&r&&S.add(Q),Ue){const on=new Vk(t,h,Q);on.setRealPlayer(Rt),w.push(on)}return Rt});w.forEach(H=>{pa(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function hj(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,H.element,H))}),D.forEach(H=>hl(H,sF));const L=Qf(O);return L.onDestroy(()=>{D.forEach(H=>Rv(H,sF)),gu(_,e.toStyles)}),S.forEach(H=>{pa(r,H,[]).push(L)}),L}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Av(t.duration,t.delay)}}class Vk{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Av,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>pk(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){pa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ux(n){return n&&1===n.nodeType}function wF(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function CF(n,t,e,i,r){const o=[];e.forEach(_=>o.push(wF(_)));const u=[];i.forEach((_,w)=>{const D={};_.forEach(S=>{const O=D[S]=t.computeStyle(w,S,r);(!O||0==O.length)&&(w[dl]=cj,u.push(w))}),n.set(w,D)});let h=0;return e.forEach(_=>wF(_,o[h++])),u}function DF(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let _=o.get(h);if(_)return _;const w=h.parentNode;return _=e.has(w)?w:r.has(w)?1:u(w),o.set(h,_),_}return t.forEach(h=>{const _=u(h);1!==_&&e.get(_).push(h)}),e}function hl(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Rv(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function mj(n,t,e){Qf(e).onDone(()=>n.processLeaveNode(t))}function EF(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof KP?EF(i.players,t):t.push(i)}}function TF(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class dx{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new dj(t,e,i),this._timelineEngine=new ij(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const _=[],w=Sk(this._driver,o,_);if(_.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);h=function XH(n,t,e){return new ej(n,t,e)}(r,w,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=XP(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=XP(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function xF(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Bk(t[0]),t.length>1&&(i=Bk(t[t.length-1]))):t&&(e=Bk(t)),e||i?new yj(n,e,i):null}let yj=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&gu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gu(this._element,this._initialStyles),this._endStyles&&(gu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(pg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pg(this._element,this._endStyles),this._endStyles=null),gu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Bk(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];vj(r)&&(t=t||{},t[r]=n[r])}return t}function vj(n){return"display"===n||"position"===n}const MF="animation",SF="animationend";class Cj{constructor(t,e,i,r,o,u,h){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=o,this._fillMode=u,this._onDoneFn=h,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function Dj(n,t){const e=Hk(n,"").trim();let i=0;e.length&&(i=function Tj(n,t){let e=0;for(let i=0;i<n.length;i++)n.charAt(i)===t&&e++;return e}(e,",")+1,t=`${e}, ${t}`),hx(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),kF(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){IF(this._element,this._name,"paused")}resume(){IF(this._element,this._name,"running")}setPosition(t){const e=AF(this._element,this._name);this._position=t*this._duration,hx(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),kF(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Ej(n,t){const i=Hk(n,"").split(","),r=Uk(i,t);r>=0&&(i.splice(r,1),hx(n,"",i.join(",")))}(this._element,this._name))}}function IF(n,t,e){hx(n,"PlayState",e,AF(n,t))}function AF(n,t){const e=Hk(n,"");return e.indexOf(",")>0?Uk(e.split(","),t):Uk([e],t)}function Uk(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function kF(n,t,e){e?n.removeEventListener(SF,t):n.addEventListener(SF,t)}function hx(n,t,e,i){const r=MF+t;if(null!=i){const o=n.style[r];if(o.length){const u=o.split(",");u[i]=e,e=u.join(",")}}n.style[r]=e}function Hk(n,t){return n.style[MF+t]||""}class RF{constructor(t,e,i,r,o,u,h,_){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=h,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=u||"linear",this.totalTime=r+o,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Cj(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:Mk(this.element,i))})}this.currentSnapshot=t}}class Sj extends Av{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=nF(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class PF{constructor(){this._count=0}validateStyleProperty(t){return yk(t)}matchesElement(t,e){return!1}containsElement(t,e){return vk(t,e)}query(t,e,i){return bk(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(h=>nF(h));let r=`@keyframes ${e} {\n`,o="";i.forEach(h=>{o=" ";const _=parseFloat(h.offset);r+=`${o}${100*_}% {\n`,o+=" ",Object.keys(h).forEach(w=>{const D=h[w];switch(w){case"offset":return;case"easing":return void(D&&(r+=`${o}animation-timing-function: ${D};\n`));default:return void(r+=`${o}${w}: ${D};\n`)}}),r+=`${o}}\n`}),r+="}\n";const u=document.createElement("style");return u.textContent=r,u}animate(t,e,i,r,o,u=[],h){const _=u.filter(ie=>ie instanceof RF),w={};uF(i,r)&&_.forEach(ie=>{let Ue=ie.currentSnapshot;Object.keys(Ue).forEach(Ke=>w[Ke]=Ue[Ke])});const D=function kj(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=dF(t,e,w));if(0==i)return new Sj(t,D);const S="gen_css_kf_"+this._count++,O=this.buildKeyframeElement(t,S,e);(function Aj(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(O);const H=xF(t,e),Q=new RF(t,e,S,i,r,o,D,H);return Q.onDestroy(()=>function Rj(n){n.parentNode.removeChild(n)}(O)),Q}}class NF{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:Mk(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Oj{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(LF().toString()),this._cssKeyframesDriver=new PF}validateStyleProperty(t){return yk(t)}matchesElement(t,e){return!1}containsElement(t,e){return vk(t,e)}query(t,e,i){return bk(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,o,u=[],h){if(!h&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,o,u);const D={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(D.easing=o);const S={},O=u.filter(H=>H instanceof NF);uF(i,r)&&O.forEach(H=>{let Q=H.currentSnapshot;Object.keys(Q).forEach(ie=>S[ie]=Q[ie])});const L=xF(t,e=dF(t,e=e.map(H=>Jf(H,!1)),S));return new NF(t,e,D,L)}}function LF(){return QP()&&Element.prototype.animate||{}}let Fj=(()=>{class n extends zP{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?YP(e):e;return VF(this._renderer,null,i,"register",[r]),new Nj(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Nj extends class wH{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Lj(this._id,t,e||{},this._renderer)}}class Lj{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return VF(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function VF(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const BF="@.disabled";let Vj=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=null==u?void 0:u.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(o);return D||(D=new UF("",o,this.engine),this._rendererCache.set(o,D)),D}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(u,h,e,D.name,D)};return i.data.animation.forEach(_),new Bj(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(dx),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class UF{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==BF?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Bj extends UF{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==BF?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Uj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),u="";return"@"!=o.charAt(0)&&([o,u]=function Hj(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let jj=(()=>{class n extends dx{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(wk),s.LFG(Ok))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ga=new s.OlP("AnimationModuleType"),HF=[{provide:zP,useClass:Fj},{provide:Ok,useFactory:function qj(){return new YH}},{provide:dx,useClass:jj},{provide:s.FYo,useFactory:function Gj(n,t,e){return new Vj(n,t,e)},deps:[Ni,dx,s.R0b]}],jF=[{provide:wk,useFactory:function Zj(){return function Pj(){return"function"==typeof LF()}()?new Oj:new PF}},{provide:ga,useValue:"BrowserAnimations"},...HF],zj=[{provide:wk,useClass:iF},{provide:ga,useValue:"NoopAnimations"},...HF];let $j=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?zj:jF}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:jF,imports:[gc]}),n})();function Yj(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function Wj(n,t){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const Kj=["*"];let Qj=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),Jj=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const e3=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function Xj(){return!0}});let Nt=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!ak()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(GP),s.LFG(e3,8),s.LFG(te))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ow],Ow]}),n})();function gg(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Wt(t)}}}function Ov(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Pv(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Wt(t)}}}function jk(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?lo(e):this.defaultTabIndex}}}function qF(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new kt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}function GF(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new kn.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const t3=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function n3(){return(0,s.f3M)(s.soG)}});class _u{constructor(){this._localeChanges=new kt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Zk=new s.OlP("mat-date-formats"),r3=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function qk(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let s3=(()=>{class n extends _u{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return qk(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return qk(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return qk(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(r3.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(t3,8),s.LFG(Cr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const o3={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let a3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:_u,useClass:s3}]}),n})(),zF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:Zk,useValue:o3}],imports:[[a3]]}),n})(),Gk=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),px=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt],Nt]}),n})();class u3{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $F={enterDuration:225,exitDuration:150},zk=ag({passive:!0}),YF=["mousedown","touchstart"],WF=["mouseup","mouseleave","touchend","touchcancel"];class h3{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Yd(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},$F),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function p3(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,_=e-r.top,w=o.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=h-u+"px",D.style.top=_-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(D),function f3(n){window.getComputedStyle(n).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const S=new u3(this,D,i);return S.state=0,this._activeRipples.add(S),i.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const O=S===this._mostRecentTransientRipple;S.state=1,!i.persistent&&(!O||!this._isPointerDown)&&S.fadeOut()},w),S}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},$F),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Yd(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(YF))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(WF),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=UP(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!HP(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,zk)})})}_removeTriggerEvents(){this._triggerElement&&(YF.forEach(t=>{this._triggerElement.removeEventListener(t,this,zk)}),this._pointerUpEventsRegistered&&WF.forEach(t=>{this._triggerElement.removeEventListener(t,this,zk)}))}}const m3=new s.OlP("mat-ripple-global-options");let _g=(()=>{class n{constructor(e,i,r,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new h3(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Cr),s.Y36(m3,8),s.Y36(ga,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt],Nt]}),n})(),KF=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ga,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),$k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt]]}),n})();const QF=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),JF=new s.OlP("MatOptgroup");let g3=0;class _3{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let y3=(()=>{class n{constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+g3++,this.onSelectionChange=new s.vpe,this._stateChanges=new kt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Wt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Wd(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new _3(this,e))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Yk=(()=>{class n extends y3{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(QF,8),s.Y36(JF,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),s.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:Kj,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,Yj,1,2,"mat-pseudo-checkbox",0),s.TgZ(1,"span",1),s.Hsn(2),s.qZA(),s.YNc(3,Wj,2,1,"span",2),s._UZ(4,"div",3)),2&e&&(s.Q6J("ngIf",i.multiple),s.xp6(3),s.Q6J("ngIf",i.group&&i.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[KF,Zt,_g],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function XF(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[o]&&o++;return o}return 0}let eN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[yg,oi,Nt,$k]]}),n})();const b3=["mat-sort-header",""];function w3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3),s.NdJ("@arrowPosition.start",function(){return s.CHM(e),s.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return s.CHM(e),s.oxw()._disableViewStateAnimation=!1}),s._UZ(1,"div",4),s.TgZ(2,"div",5),s._UZ(3,"div",6),s._UZ(4,"div",7),s._UZ(5,"div",8),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),s.xp6(2),s.Q6J("@indicator",e._getArrowDirectionState()),s.xp6(1),s.Q6J("@leftPointer",e._getArrowDirectionState()),s.xp6(1),s.Q6J("@rightPointer",e._getArrowDirectionState())}}const C3=["*"],Xf=Jj.ENTERING+" "+Qj.STANDARD_CURVE,Fv={indicator:ts("indicator",[On("active-asc, asc",yt({transform:"translateY(0px)"})),On("active-desc, desc",yt({transform:"translateY(10px)"})),Pn("active-asc <=> active-desc",Kn(Xf))]),leftPointer:ts("leftPointer",[On("active-asc, asc",yt({transform:"rotate(-45deg)"})),On("active-desc, desc",yt({transform:"rotate(45deg)"})),Pn("active-asc <=> active-desc",Kn(Xf))]),rightPointer:ts("rightPointer",[On("active-asc, asc",yt({transform:"rotate(45deg)"})),On("active-desc, desc",yt({transform:"rotate(-45deg)"})),Pn("active-asc <=> active-desc",Kn(Xf))]),arrowOpacity:ts("arrowOpacity",[On("desc-to-active, asc-to-active, active",yt({opacity:1})),On("desc-to-hint, asc-to-hint, hint",yt({opacity:.54})),On("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",yt({opacity:0})),Pn("* => asc, * => desc, * => active, * => hint, * => void",Kn("0ms")),Pn("* <=> *",Kn(Xf))]),arrowPosition:ts("arrowPosition",[Pn("* => desc-to-hint, * => desc-to-active",Kn(Xf,dg([yt({transform:"translateY(-25%)"}),yt({transform:"translateY(0)"})]))),Pn("* => hint-to-desc, * => active-to-desc",Kn(Xf,dg([yt({transform:"translateY(0)"}),yt({transform:"translateY(25%)"})]))),Pn("* => asc-to-hint, * => asc-to-active",Kn(Xf,dg([yt({transform:"translateY(25%)"}),yt({transform:"translateY(0)"})]))),Pn("* => hint-to-asc, * => active-to-asc",Kn(Xf,dg([yt({transform:"translateY(0)"}),yt({transform:"translateY(-25%)"})]))),On("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",yt({transform:"translateY(0)"})),On("hint-to-desc, active-to-desc, desc",yt({transform:"translateY(-25%)"})),On("hint-to-asc, active-to-asc, asc",yt({transform:"translateY(25%)"}))]),allowChildren:ts("allowChildren",[Pn("* <=> *",[KT("@*",WT(),{optional:!0})])])};let mx=(()=>{class n{constructor(){this.changes=new kt.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E3={provide:mx,deps:[[new s.FiY,new s.tp0,mx]],useFactory:function D3(n){return n||new mx}},T3=new s.OlP("MAT_SORT_DEFAULT_OPTIONS"),x3=GF(gg(class{}));let ns=(()=>{class n extends x3{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new kt.x,this.start="asc",this._direction="",this.sortChange=new s.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Wt(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var i,r,o;if(!e)return"";const u=null!==(r=null!==(i=null==e?void 0:e.disableClear)&&void 0!==i?i:this.disableClear)&&void 0!==r?r:!!(null===(o=this._defaultOptions)||void 0===o?void 0:o.disableClear);let h=function M3(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,u),_=h.indexOf(this.direction)+1;return _>=h.length&&(_=0),h[_]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(T3,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[s.qOj,s.TTD]}),n})();const S3=gg(class{});let vg=(()=>{class n extends S3{constructor(e,i,r,o,u,h,_){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=o,this._focusMonitor=u,this._elementRef=h,this._ariaDescriber=_,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Wt(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){var i,r;this._sortButton&&(null===(i=this._ariaDescriber)||void 0===i||i.removeDescription(this._sortButton,this._sortActionDescription),null===(r=this._ariaDescriber)||void 0===r||r.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,$d.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mx),s.Y36(s.sBO),s.Y36(ns,8),s.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),s.Y36(ug),s.Y36(s.SBq),s.Y36(PP,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._handleClick()})("keydown",function(o){return i._handleKeydown(o)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(s.uIk("aria-sort",i._getAriaSortAttribute()),s.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[s.qOj],attrs:b3,ngContentSelectors:C3,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA(),s.YNc(3,w3,6,6,"div",2),s.qZA()),2&e&&(s.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"==i.arrowPosition),s.uIk("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),s.xp6(3),s.Q6J("ngIf",i._renderArrow()))},directives:[Zt],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[Fv.indicator,Fv.leftPointer,Fv.rightPointer,Fv.arrowOpacity,Fv.arrowPosition,Fv.allowChildren]},changeDetection:0}),n})(),tN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[E3],imports:[[oi,Nt]]}),n})();function Wk(n){return n&&"function"==typeof n.connect}class nN{applyChanges(t,e,i,r,o){t.forEachOperation((u,h,_)=>{let w,D;if(null==u.previousIndex){const S=i(u,h,_);w=e.createEmbeddedView(S.templateRef,S.context,S.index),D=1}else null==_?(e.remove(h),D=3):(w=e.get(h),e.move(w,_),D=2);o&&o({context:null==w?void 0:w.context,operation:D,record:u})})}detach(){}}class Kk{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new kt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const Bw=new s.OlP("_ViewRepeater");var is=P(5577),k3=P(1144);const R3=["addListener","removeListener"],O3=["addEventListener","removeEventListener"],P3=["on","off"];function gx(n,t,e,i){if((0,ul.m)(e)&&(i=e,e=void 0),i)return gx(n,t,e).pipe(Gs(i));const[r,o]=function L3(n){return(0,ul.m)(n.addEventListener)&&(0,ul.m)(n.removeEventListener)}(n)?O3.map(u=>h=>n[u](t,h,e)):function F3(n){return(0,ul.m)(n.addListener)&&(0,ul.m)(n.removeListener)}(n)?R3.map(rN(n,t)):function N3(n){return(0,ul.m)(n.on)&&(0,ul.m)(n.off)}(n)?P3.map(rN(n,t)):[];if(!r&&(0,k3.z)(n))return(0,is.z)(u=>gx(u,t,e))((0,To.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new kn.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return r(h),()=>o(h)})}function rN(n,t){return e=>i=>n[e](t,i)}var sN=P(4408);const Uw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Uw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Xr.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=Uw;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Uw;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var oN=P(7565);new class B3 extends oN.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const o=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<o&&(t=e.shift()));if(this._active=!1,i){for(;++r<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class V3 extends sN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Uw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Uw.cancelAnimationFrame(e),t._scheduled=void 0)}});let Qk,H3=1;const _x={};function aN(n){return n in _x&&(delete _x[n],!0)}const j3={setImmediate(n){const t=H3++;return _x[t]=!0,Qk||(Qk=Promise.resolve()),Qk.then(()=>aN(t)&&n()),t},clearImmediate(n){aN(n)}},{setImmediate:Z3,clearImmediate:q3}=j3,yx={setImmediate(...n){const{delegate:t}=yx;return((null==t?void 0:t.setImmediate)||Z3)(...n)},clearImmediate(n){const{delegate:t}=yx;return((null==t?void 0:t.clearImmediate)||q3)(n)},delegate:void 0};new class z3 extends oN.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const o=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<o&&(t=e.shift()));if(this._active=!1,i){for(;++r<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class G3 extends sN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=yx.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(yx.clearImmediate(e),t._scheduled=void 0)}});var W3=P(3532);function lN(n,t=Fc.P){return function Y3(n){return(0,Zi.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const w=r;r=null,e.next(w)}u&&e.complete()},_=()=>{o=null,u&&e.complete()};t.subscribe(new Di.Q(e,w=>{i=!0,r=w,o||(0,To.Xf)(n(w)).subscribe(o=new Di.Q(e,h,_))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function Q3(n=0,t,e=Fc.P){let i=-1;return null!=t&&((0,W3.K)(t)?e=t:i=t),new kn.y(r=>{let o=function K3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}let cN=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new kt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new kn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(lN(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):nt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ti(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Yd(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>gx(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Cr),s.LFG(te,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hw=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new kt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(lN(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cr),s.LFG(s.R0b),s.LFG(te,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Jk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ow,Nv],Ow,Nv]}),n})();const e6=[[["caption"]],[["colgroup"],["col"]]],t6=["caption","colgroup, col"];function Xk(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Wt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Lv=new s.OlP("CDK_TABLE");let Vv=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Bv=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),vx=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class s6{}const o6=Xk(s6);let Jd=(()=>{class n extends o6{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Wt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Lv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Vv,5),s.Suo(r,Bv,5),s.Suo(r,vx,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class e1{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let t1=(()=>{class n extends e1{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Jd),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),n1=(()=>{class n extends e1{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const o=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Jd),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class dN{constructor(){this.tasks=[],this.endTasks=[]}}const r1=new s.OlP("_COALESCED_STYLE_SCHEDULER");let hN=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new kt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new dN,this._getScheduleObservable().pipe(En(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new dN;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,dn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,wr.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),s1=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof jw?e.headerCell.template:this instanceof Zw?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class a6 extends s1{}const l6=Xk(a6);let jw=(()=>{class n extends l6{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Lv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class c6 extends s1{}const u6=Xk(c6);let Zw=(()=>{class n extends u6{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Lv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),bx=(()=>{class n extends s1{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Lv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),Xd=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),o1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},directives:[Xd],encapsulation:2}),n})(),l1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},directives:[Xd],encapsulation:2}),n})(),wx=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const fN=["top","bottom","left","right"];class d6{constructor(t,e,i,r,o=!0,u=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(O=>O)&&!i.some(O=>O))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],u=o.children.length,h=this._getCellWidths(o,r),_=this._getStickyStartColumnPositions(h,e),w=this._getStickyEndColumnPositions(h,i),D=e.lastIndexOf(!0),S=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const O="rtl"===this.direction,L=O?"right":"left",H=O?"left":"right";for(const Q of t)for(let ie=0;ie<u;ie++){const Ue=Q.children[ie];e[ie]&&this._addStickyStyle(Ue,L,_[ie],ie===D),i[ie]&&this._addStickyStyle(Ue,H,w[ie],ie===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===D?[]:h.slice(0,D+1).map((Q,ie)=>e[ie]?Q:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:h.slice(S).map((Q,ie)=>i[ie+S]?Q:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,u=[],h=[],_=[];for(let D=0,S=0;D<r.length;D++){if(!o[D])continue;u[D]=S;const O=r[D];_[D]=this._isNativeHtmlTable?Array.from(O.children):[O];const L=O.getBoundingClientRect().height;S+=L,h[D]=L}const w=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var D,S;for(let O=0;O<r.length;O++){if(!o[O])continue;const L=u[O],H=O===w;for(const Q of _[O])this._addStickyStyle(Q,i,L,H)}"top"===i?null===(D=this._positionListener)||void 0===D||D.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:_}):null===(S=this._positionListener)||void 0===S||S.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:_})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);fN.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of fN)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const c1=new s.OlP("CDK_SPL");let Cx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),Dx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),Ex=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Tx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),xx=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S,O,L){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=_,this._viewRepeater=w,this._coalescedStyleScheduler=D,this._viewportRuler=S,this._stickyPositioningListener=O,this._ngZone=L,this._onDestroy=new kt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new Fs({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Wt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Wt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(En(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Wk(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,wr.q)(1),En(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,u)=>{this._addStickyColumnStyles([o],this._headerRowDefs[u])}),this._rowDefs.forEach(o=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===o&&u.push(i[h]);this._addStickyColumnStyles(u,o)}),r.forEach((o,u)=>{this._addStickyColumnStyles([o],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const u=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let h=0;h<u.length;h++){let _=u[h];const w=this._cachedRenderRowsMap.get(_.data);w.has(_.rowDef)?w.get(_.rowDef).push(_):w.set(_.rowDef,[_]),e.push(_)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const h=r&&r.has(u)?r.get(u):[];if(h.length){const _=h.shift();return _.dataIndex=i,_}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Mx(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=Mx(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Mx(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Mx(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],Wk(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Wk(this.dataSource)?e=this.dataSource.connect(this):function A3(n){return!!n&&(n instanceof kn.y||(0,ul.m)(n.lift)&&(0,ul.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=nt(this.dataSource)),this._renderChangeSubscription=e.pipe(En(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),o=r.map(h=>h.sticky),u=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const u=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Xd.mostRecentCellOutlet&&Xd.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const u of r.outlets)o.appendChild(u.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new d6(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:nt()).pipe(En(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),u=o.rootNodes[0];1===o.rootNodes.length&&(null==u?void 0:u.nodeType)===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(Kd,8),s.Y36(te),s.Y36(Cr),s.Y36(Bw),s.Y36(r1),s.Y36(Hw),s.Y36(c1,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,wx,5),s.Suo(r,Jd,5),s.Suo(r,bx,5),s.Suo(r,jw,5),s.Suo(r,Zw,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Cx,7),s.Gf(Dx,7),s.Gf(Ex,7),s.Gf(Tx,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:Lv,useExisting:n},{provide:Bw,useClass:nN},{provide:r1,useClass:hN},{provide:c1,useValue:null}])],ngContentSelectors:t6,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(e6),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0),s.GkF(3,1),s.GkF(4,2),s.GkF(5,3))},directives:[Dx,Cx,Tx,Ex],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function Mx(n,t){return n.concat(Array.from(t))}let f6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Jk]]}),n})();var p6=P(9672);function qw(...n){const t=(0,ys.yG)(n),e=(0,ys.jO)(n),{args:i,keys:r}=Ph(n);if(0===i.length)return(0,dn.D)([],t);const o=new kn.y(function m6(n,t,e=Ja.y){return i=>{mN(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let _=0;_<r;_++)mN(t,()=>{const w=(0,dn.D)(n[_],t);let D=!1;w.subscribe(new Di.Q(i,S=>{o[_]=S,D||(D=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>xo(r,u):Ja.y));return e?o.pipe(Gs(e)):o}function mN(n,t,e){n?(0,p6.f)(e,n,t):t()}const g6=[[["caption"]],[["colgroup"],["col"]]],_6=["caption","colgroup, col"];let yu=(()=>{class n extends xx{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:Bw,useClass:nN},{provide:xx,useExisting:n},{provide:Lv,useExisting:n},{provide:r1,useClass:hN},{provide:c1,useValue:null}]),s.qOj],ngContentSelectors:_6,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(g6),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0),s.GkF(3,1),s.GkF(4,2),s.GkF(5,3))},directives:[Dx,Cx,Tx,Ex],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),ec=(()=>{class n extends Vv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:Vv,useExisting:n}]),s.qOj]}),n})(),tc=(()=>{class n extends Bv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:Bv,useExisting:n}]),s.qOj]}),n})(),nc=(()=>{class n extends Jd{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:Jd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),ic=(()=>{class n extends t1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[s.qOj]}),n})(),rc=(()=>{class n extends n1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[s.qOj]}),n})(),vu=(()=>{class n extends jw{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:jw,useExisting:n}]),s.qOj]}),n})(),bu=(()=>{class n extends bx{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:bx,useExisting:n}]),s.qOj]}),n})(),wu=(()=>{class n extends o1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:o1,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},directives:[Xd],encapsulation:2}),n})(),Cu=(()=>{class n extends l1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[s._Bn([{provide:l1,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},directives:[Xd],encapsulation:2}),n})(),gN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[f6,Nt],Nt]}),n})();class eh extends class S6 extends class I3{}{constructor(t=[]){super(),this._renderData=new Fs([]),this._filter=new Fs(""),this._internalPageChanges=new kt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(CP(r)){const o=Number(r);return o<9007199254740991?o:r}return r},this.sortData=(e,i)=>{const r=i.active,o=i.direction;return r&&""!=o?e.sort((u,h)=>{let _=this.sortingDataAccessor(u,r),w=this.sortingDataAccessor(h,r);const D=typeof _,S=typeof w;D!==S&&("number"===D&&(_+=""),"number"===S&&(w+=""));let O=0;return null!=_&&null!=w?_>w?O=1:_<w&&(O=-1):null!=_?O=1:null!=w&&(O=-1),O*("asc"==o?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((u,h)=>u+e[h]+"\u25ec","").toLowerCase(),o=i.trim().toLowerCase();return-1!=r.indexOf(o)},this._data=new Fs(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,$d.T)(this._sort.sortChange,this._sort.initialized):nt(null),i=this._paginator?(0,$d.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):nt(null),o=qw([this._data,this._filter]).pipe((0,Je.U)(([_])=>this._filterData(_))),u=qw([o,e]).pipe((0,Je.U)(([_])=>this._orderData(_))),h=qw([u,i]).pipe((0,Je.U)(([_])=>this._pageData(_)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=h.subscribe(_=>this._renderData.next(_))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}const I6=["mat-button",""],A6=["*"],R6=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],O6=Ov(gg(Pv(class{constructor(n){this._elementRef=n}})));let sc=(()=>{class n extends O6{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of R6)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ug),s.Y36(ga,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(_g,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:I6,ngContentSelectors:A6,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1),s._UZ(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[_g],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Sx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[yg,Nt],Nt]}),n})();class u1{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Ix extends u1{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class d1 extends u1{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class P6 extends u1{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class h1{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Ix?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof d1?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof P6?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class F6 extends h1{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let _N=(()=>{class n extends h1{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(te))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Ax=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const yN=$U();class L6{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=lr(-this._previousScrollPosition.left),t.style.top=lr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),yN&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),yN&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class V6{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class vN{enable(){}disable(){}attach(){}}function f1(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function bN(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class B6{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();f1(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let U6=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new vN,this.close=u=>new V6(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new L6(this._viewportRuler,this._document),this.reposition=u=>new B6(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cN),s.LFG(Hw),s.LFG(s.R0b),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class p1{constructor(t){if(this.scrollStrategy=new vN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class H6{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class j6{constructor(t,e,i,r,o,u,h,_,w){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new kt.x,this._attachments=new kt.x,this._detachments=new kt.x,this._locationChanges=Xr.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new kt.x,this._outsidePointerEvents=new kt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,wr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=lr(this._config.width),t.height=lr(this._config.height),t.minWidth=lr(this._config.minWidth),t.minHeight=lr(this._config.minHeight),t.maxWidth=lr(this._config.maxWidth),t.maxHeight=lr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=ZT(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(En((0,$d.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let m1=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||ak()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),ak()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(Cr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wN="cdk-overlay-connected-position-bounding-box",Z6=/([A-Za-z%]+)$/;class q6{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new kt.x,this._resizeSubscription=Xr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(wN),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let _=this._getOriginPoint(t,r,h),w=this._getOverlayPoint(_,e,h),D=this._getOverlayFit(w,e,i,h);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(D,w,i)?o.push({position:h,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:w,originPoint:_,position:h,overlayRect:e})}if(o.length){let h=null,_=-1;for(const w of o){const D=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);D>_&&(_=D,h=w)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&bg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(wN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=DN(e);let{x:u,y:h}=t,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(u+=_),w&&(h+=w);let O=0-h,L=h+o.height-i.height,H=this._subtractOverflows(o.width,0-u,u+o.width-i.width),Q=this._subtractOverflows(o.height,O,L),ie=H*Q;return{visibleArea:ie,isCompletelyWithinViewport:o.width*o.height===ie,fitsInViewportVertically:Q===o.height,fitsInViewportHorizontally:H==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,u=CN(this._overlayRef.getConfig().minHeight),h=CN(this._overlayRef.getConfig().minWidth),w=t.fitsInViewportHorizontally||null!=h&&h<=o;return(t.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=DN(e),o=this._viewportRect,u=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),_=Math.max(o.top-i.top-t.y,0),w=Math.max(o.left-i.left-t.x,0);let D=0,S=0;return D=r.width<=o.width?w||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,S=r.height<=o.height?_||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:D,y:S},{x:t.x+D,y:t.y+S}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new H6(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,u,h,D,S,O;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const L=Math.min(i.bottom-t.y+i.top,t.y),H=this._lastBoundingBoxSize.height;o=2*L,u=t.y-L,o>H&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-H/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,D=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)S=t.x,D=i.right-t.x;else{const L=Math.min(i.right-t.x+i.left,t.x),H=this._lastBoundingBoxSize.width;D=2*L,S=t.x-L,D>H&&!this._isInitialRender&&!this._growAfterOpen&&(S=t.x-H/2)}return{top:u,left:S,bottom:h,right:O,width:D,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=lr(i.height),r.top=lr(i.top),r.bottom=lr(i.bottom),r.width=lr(i.width),r.left=lr(i.left),r.right=lr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=lr(o)),u&&(r.maxWidth=lr(u))}this._lastBoundingBoxSize=i,bg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){bg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){bg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();bg(i,this._getExactOverlayY(e,t,D)),bg(i,this._getExactOverlayX(e,t,D))}else i.position="static";let h="",_=this._getOffset(e,"x"),w=this._getOffset(e,"y");_&&(h+=`translateX(${_}px) `),w&&(h+=`translateY(${w}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=lr(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=lr(u.maxWidth):o&&(i.maxWidth="")),bg(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=lr(o.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=lr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:bN(t,i),isOriginOutsideView:f1(t,i),isOverlayClipped:bN(e,i),isOverlayOutsideView:f1(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ZT(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function bg(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function CN(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Z6);return e&&"px"!==e?null:parseFloat(t)}return n||null}function DN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const EN="cdk-global-overlay-wrapper";class G6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(EN),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:h}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h);t.position=this._cssPosition,t.marginLeft=_?"0":this._leftOffset,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,_?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(EN),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let z6=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new G6}flexibleConnectedTo(e){return new q6(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hw),s.LFG(te),s.LFG(Cr),s.LFG(m1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TN=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$6=(()=>{class n extends TN{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y6=(()=>{class n extends TN{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=cg(o)},this._clickListener=o=>{const u=cg(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const D=_[w];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(u)||D.overlayElement.contains(h))break;const S=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(o)):S.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(Cr),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W6=0,Du=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S,O){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=_,this._document=w,this._directionality=D,this._location=S,this._outsideClickDispatcher=O}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new p1(e);return u.direction=u.direction||this._directionality.value,new j6(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+W6++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new F6(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(U6),s.LFG(m1),s.LFG(s._Vd),s.LFG(z6),s.LFG($6),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(te),s.LFG(Kd),s.LFG(et),s.LFG(Y6))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const K6=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],xN=new s.OlP("cdk-connected-overlay-scroll-strategy");let MN=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),SN=(()=>{class n{constructor(e,i,r,o,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Xr.w0.EMPTY,this._attachSubscription=Xr.w0.EMPTY,this._detachSubscription=Xr.w0.EMPTY,this._positionSubscription=Xr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new d1(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Wt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Wt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Wt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Wt(e)}get push(){return this._push}set push(e){this._push=Wt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=K6);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Wd(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new p1({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof MN?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function N6(n,t=!1){return(0,Zi.e)((e,i)=>{let r=0;e.subscribe(new Di.Q(i,o=>{const u=n(o,r++);(u||t)&&i.next(o),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Du),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(xN),s.Y36(Kd,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[s.TTD]}),n})();const J6={provide:xN,deps:[Du],useFactory:function Q6(n){return()=>n.scrollStrategies.reposition()}};let Gw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Du,J6],imports:[[Ow,Ax,Jk],Jk]}),n})();const X6=["connectionContainer"],eZ=["inputContainer"],tZ=["label"];function nZ(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15),s._UZ(3,"div",16),s._UZ(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15),s._UZ(7,"div",16),s._UZ(8,"div",17),s.qZA(),s.BQk())}function iZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function rZ(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function sZ(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function oZ(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function aZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.YNc(2,rZ,4,1,"ng-container",12),s.YNc(3,sZ,1,0,"ng-content",12),s.YNc(4,oZ,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function lZ(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function cZ(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function uZ(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function dZ(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function hZ(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,dZ,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const fZ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],pZ=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let mZ=0;const IN=new s.OlP("MatError");let gZ=(()=>{class n{constructor(e,i){this.id="mat-error-"+mZ++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:IN,useExisting:n}])]}),n})();const _Z={transitionMessages:ts("transitionMessages",[On("enter",yt({opacity:1,transform:"translateY(0%)"})),Pn("void => enter",[yt({opacity:0,transform:"translateY(-5px)"}),Kn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let kx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const yZ=new s.OlP("MatHint");let g1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),vZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const bZ=new s.OlP("MatPrefix"),AN=new s.OlP("MatSuffix");let th=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:AN,useExisting:n}])]}),n})(),kN=0;const CZ=Ov(class{constructor(n){this._elementRef=n}},"primary"),DZ=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Rx=new s.OlP("MatFormField");let oc=(()=>{class n extends CZ{constructor(e,i,r,o,u,h,_){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new kt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+kN++,this._labelId="mat-form-field-label-"+kN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Wt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Wr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(En(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(En(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,$d.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Wr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Wr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(En(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,gx(this._label.nativeElement,"transitionend").pipe((0,wr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const D=i.querySelectorAll(`${r}, ${o}`);for(let S=0;S<D.length;S++)D[S].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const _=i.querySelectorAll(r),w=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const D=i.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(D),O=e.children,L=this._getStartEnd(O[0].getBoundingClientRect());let H=0;for(let Q=0;Q<O.length;Q++)H+=O[Q].offsetWidth;u=Math.abs(L-S)-5,h=H>0?.75*H+10:0}for(let D=0;D<_.length;D++)_[D].style.width=`${u}px`;for(let D=0;D<w.length;D++)w[D].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Kd,8),s.Y36(DZ,8),s.Y36(Cr),s.Y36(s.R0b),s.Y36(ga,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,kx,5),s.Suo(r,kx,7),s.Suo(r,g1,5),s.Suo(r,g1,7),s.Suo(r,vZ,5),s.Suo(r,IN,5),s.Suo(r,yZ,5),s.Suo(r,bZ,5),s.Suo(r,AN,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(X6,7),s.Gf(eZ,5),s.Gf(tZ,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:Rx,useExisting:n}]),s.qOj],ngContentSelectors:pZ,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(fZ),s.TgZ(0,"div",0),s.TgZ(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,nZ,9,0,"ng-container",3),s.YNc(4,iZ,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,aZ,5,16,"label",8),s.qZA(),s.qZA(),s.YNc(10,lZ,2,0,"div",9),s.qZA(),s.YNc(11,cZ,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,uZ,2,1,"div",12),s.YNc(14,hZ,5,2,"div",13),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},directives:[Zt,lk,ji,dr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[_Z.transitionMessages]},changeDetection:0}),n})(),_1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oi,Nt,Fw],Nt]}),n})();function Ox(n){return new kn.y(t=>{(0,To.Xf)(n()).subscribe(t)})}const EZ=["trigger"],TZ=["panel"];function xZ(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function MZ(n,t){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function SZ(n,t){1&n&&s.Hsn(0,0,["*ngSwitchCase","true"])}function IZ(n,t){if(1&n&&(s.TgZ(0,"span",9),s.YNc(1,MZ,2,1,"span",10),s.YNc(2,SZ,1,0,"ng-content",11),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function AZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13),s.TgZ(1,"div",14,15),s.NdJ("@transformPanel.done",function(r){return s.CHM(e),s.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return s.CHM(e),s.oxw()._handleKeydown(r)}),s.Hsn(3,1),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",e._getPanelTheme(),""),s.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),s.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const kZ=[[["mat-select-trigger"]],"*"],RZ=["mat-select-trigger","*"],ON={transformPanelWrap:ts("transformPanelWrap",[Pn("* => void",KT("@transformPanel",[WT()],{optional:!0}))]),transformPanel:ts("transformPanel",[On("void",yt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),On("showing",yt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),On("showing-multiple",yt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Pn("void => *",Kn("120ms cubic-bezier(0, 0, 0.2, 1)")),Pn("* => void",Kn("100ms 25ms linear",yt({opacity:0})))])};let PN=0;const NN=new s.OlP("mat-select-scroll-strategy"),NZ=new s.OlP("MAT_SELECT_CONFIG"),LZ={provide:NN,deps:[Du],useFactory:function FZ(n){return()=>n.scrollStrategies.reposition()}};class VZ{constructor(t,e){this.source=t,this.value=e}}const BZ=Pv(jk(gg(qF(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),UZ=new s.OlP("MatSelectTrigger");let HZ=(()=>{class n extends BZ{constructor(e,i,r,o,u,h,_,w,D,S,O,L,H,Q){var ie,Ue,Ke;super(u,o,_,w,S),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=D,this._liveAnnouncer=H,this._defaultOptions=Q,this._panelOpen=!1,this._compareWith=(je,He)=>je===He,this._uid="mat-select-"+PN++,this._triggerAriaLabelledBy=null,this._destroy=new kt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+PN++,this._panelDoneAnimatingStream=new kt.x,this._overlayPanelClass=(null===(ie=this._defaultOptions)||void 0===ie?void 0:ie.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Ke=null===(Ue=this._defaultOptions)||void 0===Ue?void 0:Ue.disableOptionCentering)&&void 0!==Ke&&Ke,this.ariaLabel="",this.optionSelectionChanges=Ox(()=>{const je=this.options;return je?je.changes.pipe(Wr(je),Xn(()=>(0,$d.T)(...je.map(He=>He.onSelectionChange)))):this._ngZone.onStable.pipe((0,wr.q)(1),Xn(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe(ti(je=>je),(0,Je.U)(()=>{})),this._closedStream=this.openedChange.pipe(ti(je=>!je),(0,Je.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Q?void 0:Q.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Q.typeaheadDebounceInterval),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,o;return null!==(o=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(ir.required))&&void 0!==o&&o}set required(e){this._required=Wt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Wt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Wt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=lo(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Kk(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Hc(),En(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(En(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Wr(null),En(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&o&&!Wd(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(e);const _=this.selected;_&&h!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,u=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||Wd(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const h=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(h?_.select():_.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,wr.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(o){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new XU(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(En(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(En(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,$d.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(En(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,$d.T)(...this.options.map(i=>i._stateChanges)).pipe(En(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hw),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Gk),s.Y36(s.SBq),s.Y36(Kd,8),s.Y36(Ts,8),s.Y36(na,8),s.Y36(Rx,8),s.Y36(mn,10),s.$8M("tabindex"),s.Y36(NN),s.Y36(vH),s.Y36(NZ,8))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(EZ,5),s.Gf(TZ,5),s.Gf(SN,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.trigger=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first),s.iGM(r=s.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),n})(),LN=(()=>{class n extends HZ{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(En(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,wr.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=XF(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function v3(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new VZ(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),o=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let w=this._selectionModel.selected[0]||this.options.first;u=w&&w.group?32:16}r||(u*=-1);const h=0-(e.left+u-(r?o:0)),_=e.right+u-i.width+(r?0:o);h>0?u+=h+8:_>0&&(u-=_+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const o=this._getItemHeight(),u=(o-this._triggerRect.height)/2,h=Math.floor(256/o);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?e*o:this._scrollTop===r?(e-(this._getItemCount()-h))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*_-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),w=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;w>u?this._adjustPanelUp(w,u):h>o?this._adjustPanelDown(h,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=XF(h,this.options,this.optionGroups);const _=r/2;this._scrollTop=this._calculateOverlayScroll(h,_,u),this._offsetY=this._calculateOverlayOffsetY(h,_,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,UZ,5),s.Suo(r,Yk,5),s.Suo(r,JF,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.customTrigger=o.first),s.iGM(o=s.CRH())&&(i.options=o),s.iGM(o=s.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(s.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),s.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:kx,useExisting:n},{provide:QF,useExisting:n}]),s.qOj],ngContentSelectors:RZ,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(s.F$t(kZ),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return i.toggle()}),s.TgZ(3,"div",2),s.YNc(4,xZ,2,1,"span",3),s.YNc(5,IZ,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA(),s.qZA(),s.YNc(8,AZ,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=s.MAs(1);s.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",i.empty),s.uIk("id",i._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[MN,ji,dr,lc,SN,mi],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[ON.transformPanelWrap,ON.transformPanel]},changeDetection:0}),n})(),y1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[LZ],imports:[[oi,Gw,eN,Nt],Nv,_1,eN,Nt]}),n})();const VN=new Set;let Hv,jZ=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):qZ}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function ZZ(n){if(!VN.has(n))try{Hv||(Hv=document.createElement("style"),Hv.setAttribute("type","text/css"),document.head.appendChild(Hv)),Hv.sheet&&(Hv.sheet.insertRule(`@media ${n} {body{ }}`,0),VN.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qZ(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let GZ=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new kt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return BN(ZT(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=qw(BN(ZT(e)).map(u=>this._registerQuery(u).observable));return o=Yr(o.pipe((0,wr.q)(1)),o.pipe(IP(1),rd(0))),o.pipe((0,Je.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:w})=>{h.matches=h.matches||_,h.breakpoints[w]=_}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new kn.y(u=>{const h=_=>this._zone.run(()=>u.next(_));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Wr(i),(0,Je.U)(({matches:u})=>({query:e,matches:u})),En(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jZ),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BN(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const $Z=["tooltip"],UN="tooltip-panel",HN=ag({passive:!0}),jN=new s.OlP("mat-tooltip-scroll-strategy"),QZ={provide:jN,deps:[Du],useFactory:function KZ(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},JZ=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function XZ(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let eq=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S,O,L){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=u,this._platform=h,this._ariaDescriber=_,this._focusMonitor=w,this._dir=S,this._defaultOptions=O,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new kt.x,this._scrollStrategy=D,this._document=L,O&&(O.position&&(this.position=O.position),O.touchGestures&&(this.touchGestures=O.touchGestures)),S.change.pipe(En(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Wt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=lo(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=lo(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(En(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,HN)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new Ix(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(En(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var e;if(this._overlayRef)return this._overlayRef;const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(En(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${UN}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(En(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(En(this._destroyed)).subscribe(()=>{var o;return null===(o=this._tooltipInstance)||void 0===o?void 0:o._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(En(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Wd(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(e=this._defaultOptions)||void 0===e?void 0:e.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),o.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),o.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:u}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:u}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,wr.q)(1),En(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",u!==this._currentPosition){const h=this._overlayRef;if(h){const _=`${this._cssClassPrefix}-${UN}-`;h.removePanelClass(_+this._currentPosition),h.addPanelClass(_+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{var r;const o=i.relatedTarget;(!o||!(null===(r=this._overlayRef)||void 0===r?void 0:r.overlayElement.contains(o)))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,HN)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),tq=(()=>{class n extends eq{constructor(e,i,r,o,u,h,_,w,D,S,O,L){super(e,i,r,o,u,h,_,w,D,S,O,L),this._tooltipComponent=iq}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Du),s.Y36(s.SBq),s.Y36(cN),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(Cr),s.Y36(PP),s.Y36(ug),s.Y36(jN),s.Y36(Kd,8),s.Y36(JZ,8),s.Y36(te))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),nq=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new kt.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(i);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(ga,8))},n.\u0275dir=s.lG2({type:n}),n})(),iq=(()=>{class n extends nq{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(GZ),s.Y36(ga,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf($Z,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&e){let r;s.ekj("mat-tooltip-handset",null==(r=s.lcZ(2,4,i._isHandset))?null:r.matches),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message)}},directives:[mi],pipes:[cc],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),rq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[QZ],imports:[[dk,oi,Gw,Nt],Nt,Nv]}),n})();function sq(n,t){if(1&n&&(s.TgZ(0,"mat-option",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function oq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field",16),s.TgZ(1,"mat-select",17),s.NdJ("selectionChange",function(r){return s.CHM(e),s.oxw(2)._changePageSize(r.value)}),s.YNc(2,sq,2,2,"mat-option",18),s.qZA(),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("appearance",e._formFieldAppearance)("color",e.color),s.xp6(1),s.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),s.xp6(1),s.Q6J("ngForOf",e._displayedPageSizeOptions)}}function aq(n,t){if(1&n&&(s.TgZ(0,"div",20),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.pageSize)}}function lq(n,t){if(1&n&&(s.TgZ(0,"div",12),s.TgZ(1,"div",13),s._uU(2),s.qZA(),s.YNc(3,oq,3,6,"mat-form-field",14),s.YNc(4,aq,2,1,"div",15),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.hij(" ",e._intl.itemsPerPageLabel," "),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length>1),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function cq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().firstPage()}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",22),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),s.uIk("aria-label",e._intl.firstPageLabel)}}function uq(n,t){if(1&n){const e=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"button",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().lastPage()}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",24),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),s.uIk("aria-label",e._intl.lastPageLabel)}}let Fx=(()=>{class n{constructor(){this.changes=new kt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hq={provide:Fx,deps:[[new s.FiY,new s.tp0,Fx]],useFactory:function dq(n){return n||new Fx}},pq=new s.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),mq=gg(GF(class{}));let gq=(()=>{class n extends mq{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new s.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:o,pageSizeOptions:u,hidePageSize:h,showFirstLastButtons:_}=r;null!=o&&(this._pageSize=o),null!=u&&(this._pageSizeOptions=u),null!=h&&(this._hidePageSize=h),null!=_&&(this._showFirstLastButtons=_)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(lo(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=lo(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(lo(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>lo(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Wt(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Wt(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[s.qOj]}),n})(),Br=(()=>{class n extends gq{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fx),s.Y36(s.sBO),s.Y36(pq,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[s.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.YNc(2,lq,5,3,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s._uU(5),s.qZA(),s.YNc(6,cq,3,5,"button",5),s.TgZ(7,"button",6),s.NdJ("click",function(){return i.previousPage()}),s.O4$(),s.TgZ(8,"svg",7),s._UZ(9,"path",8),s.qZA(),s.qZA(),s.kcU(),s.TgZ(10,"button",9),s.NdJ("click",function(){return i.nextPage()}),s.O4$(),s.TgZ(11,"svg",7),s._UZ(12,"path",10),s.qZA(),s.qZA(),s.YNc(13,uq,3,5,"button",11),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngIf",!i.hidePageSize),s.xp6(3),s.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),s.xp6(1),s.Q6J("ngIf",i.showFirstLastButtons),s.xp6(1),s.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),s.uIk("aria-label",i._intl.previousPageLabel),s.xp6(3),s.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),s.uIk("aria-label",i._intl.nextPageLabel),s.xp6(3),s.Q6J("ngIf",i.showFirstLastButtons))},directives:[oc,LN,Yk,sc,Zt,In,tq],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),ZN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[hq],imports:[[oi,Sx,y1,rq,Nt]]}),n})();function co(n){return(0,Zi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}let uo=(()=>{class n{constructor(e){this.db=e}loadSermons(){return this.db.collection("sermons",e=>e.orderBy("series")).get().pipe((0,Je.U)(e=>this.convertSnaps(e)))}loadMessages(){return this.db.collection("messages").get().pipe((0,Je.U)(e=>this.convertSnaps(e)))}loadMessagesaudio(){return this.db.collection("messagesaudio",e=>e.orderBy("speaker")).get().pipe((0,Je.U)(e=>this.convertSnaps(e)))}loadSongs(){return this.db.collection("songs",e=>e.orderBy("serialno")).get().pipe((0,Je.U)(e=>this.convertSnaps(e)))}loadBooks(e){return this.db.collection("books",i=>i.where("cat","==",e).orderBy("order")).get().pipe((0,Je.U)(i=>this.convertSnaps(i)),sg())}loadBookpdfs(){return this.db.collection("bookpdfs").get().pipe((0,Je.U)(e=>this.convertSnaps(e)))}loadQandas(){return this.db.collection("qanda",e=>e.orderBy("serialno")).get().pipe((0,Je.U)(e=>this.convertSnaps(e)),sg())}loadDailyWord(){return this.db.collection("dailyword",e=>e.orderBy("serialno","desc")).get().pipe((0,Je.U)(e=>this.convertSnaps(e)),sg())}loadDWDetail(e){return this.db.doc(`dailyword/${e}`).valueChanges()}loadTracks(e){return this.db.collection("audio",i=>i.where("book","==",e).orderBy("name")).get().pipe((0,Je.U)(i=>this.convertSnaps(i)),sg())}loadVerses(){return this.db.collection("verses").get().pipe((0,Je.U)(e=>this.convertSnaps(e)),sg())}loadVideos(){return this.db.collection("vmedia").get().pipe((0,Je.U)(e=>this.convertSnaps(e)))}convertSnaps(e){return e.docs.map(i=>Object.assign({id:i.id},i.data()))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bP))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var wg=P(515);function qN(){return(0,Zi.e)((n,t)=>{let e=null;n._refCount++;const i=new Di.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class _q extends kn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Zi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Xr.w0;const e=this.getSubject();t.add(this.source.subscribe(new Di.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Xr.w0.EMPTY)}return t}refCount(){return qN()(this)}}function nh(n){return(0,Zi.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe(new Di.Q(e,void 0,void 0,u=>{o=(0,To.Xf)(n(u,nh(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function jv(n,t){return(0,ul.m)(t)?(0,is.z)(n,t,1):(0,is.z)(n,1)}function v1(n){return n<=0?()=>wg.E:(0,Zi.e)((t,e)=>{let i=[];t.subscribe(new Di.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}class ih{constructor(t,e){this.id=t,this.url=e}}class b1 extends ih{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $w extends ih{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class GN extends ih{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vq extends ih{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bq extends ih{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wq extends ih{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cq extends ih{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dq extends ih{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eq extends ih{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zN{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $N{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tq{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xq{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mq{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sq{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YN{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qt="primary";class Iq{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Zv(n){return new Iq(n)}const WN="ngNavigationCancelingError";function w1(n){const t=Error("NavigationCancelingError: "+n);return t[WN]=!0,t}function kq(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Eu(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!KN(n[r],t[r]))return!1;return!0}function KN(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function QN(n){return Array.prototype.concat.apply([],n)}function JN(n){return n.length>0?n[n.length-1]:null}function rs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Tu(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,dn.D)(Promise.resolve(n)):nt(n)}const Pq={exact:function tL(n,t,e){if(!Dg(n.segments,t.segments)||!Nx(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!tL(n.children[i],t.children[i],e))return!1;return!0},subset:nL},XN={exact:function Fq(n,t){return Eu(n,t)},subset:function Nq(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>KN(n[e],t[e]))},ignored:()=>!0};function eL(n,t,e){return Pq[e.paths](n.root,t.root,e.matrixParams)&&XN[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function nL(n,t,e){return iL(n,t,t.segments,e)}function iL(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Dg(r,e)||t.hasChildren()||!Nx(r,e,i))}if(n.segments.length===e.length){if(!Dg(n.segments,e)||!Nx(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!nL(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Dg(n.segments,r)&&Nx(n.segments,r,i)&&n.children[Qt])&&iL(n.children[Qt],t,o,i)}}function Nx(n,t,e){return t.every((i,r)=>XN[e](n[r].parameters,i.parameters))}class Cg{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zv(this.queryParams)),this._queryParamMap}toString(){return Bq.serialize(this)}}class sn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,rs(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lx(this)}}class Yw{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Zv(this.parameters)),this._parameterMap}toString(){return lL(this)}}function Dg(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class rL{}class sL{parse(t){const e=new Yq(t);return new Cg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ww(t.root,!0)}`,i=function jq(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Vx(e)}=${Vx(r)}`).join("&"):`${Vx(e)}=${Vx(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function Uq(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const Bq=new sL;function Lx(n){return n.segments.map(t=>lL(t)).join("/")}function Ww(n,t){if(!n.hasChildren())return Lx(n);if(t){const e=n.children[Qt]?Ww(n.children[Qt],!1):"",i=[];return rs(n.children,(r,o)=>{o!==Qt&&i.push(`${o}:${Ww(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Vq(n,t){let e=[];return rs(n.children,(i,r)=>{r===Qt&&(e=e.concat(t(i,r)))}),rs(n.children,(i,r)=>{r!==Qt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Qt?[Ww(n.children[Qt],!1)]:[`${r}:${Ww(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Qt]?`${Lx(n)}/${e[0]}`:`${Lx(n)}/(${e.join("//")})`}}function oL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vx(n){return oL(n).replace(/%3B/gi,";")}function C1(n){return oL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bx(n){return decodeURIComponent(n)}function aL(n){return Bx(n.replace(/\+/g,"%20"))}function lL(n){return`${C1(n.path)}${function Hq(n){return Object.keys(n).map(t=>`;${C1(t)}=${C1(n[t])}`).join("")}(n.parameters)}`}const Zq=/^[^\/()?;=#]+/;function Ux(n){const t=n.match(Zq);return t?t[0]:""}const qq=/^[^=?&#]+/,zq=/^[^&#]+/;class Yq{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Qt]=new sn(t,e)),i}parseSegment(){const t=Ux(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Yw(Bx(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ux(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Ux(this.remaining);r&&(i=r,this.capture(i))}t[Bx(e)]=Bx(i)}parseQueryParam(t){const e=function Gq(n){const t=n.match(qq);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function $q(n){const t=n.match(zq);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=aL(e),o=aL(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ux(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Qt);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[Qt]:new sn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class cL{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=D1(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=D1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=E1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return E1(t,this._root).map(e=>e.value)}}function D1(n,t){if(n===t.value)return t;for(const e of t.children){const i=D1(n,e);if(i)return i}return null}function E1(n,t){if(n===t.value)return[t];for(const e of t.children){const i=E1(n,e);if(i.length)return i.unshift(t),i}return[]}class rh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function qv(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class uL extends cL{constructor(t,e){super(t),this.snapshot=e,T1(this,t)}toString(){return this.snapshot.toString()}}function dL(n,t){const e=function Wq(n,t){const u=new Hx([],{},{},"",{},Qt,t,null,n.root,-1,{});return new fL("",new rh(u,[]))}(n,t),i=new Fs([new Yw("",{})]),r=new Fs({}),o=new Fs({}),u=new Fs({}),h=new Fs(""),_=new sh(i,r,u,h,o,Qt,t,e.root);return _.snapshot=e.root,new uL(new rh(_,[]),e)}class sh{constructor(t,e,i,r,o,u,h,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(t=>Zv(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(t=>Zv(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hL(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Kq(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Hx{constructor(t,e,i,r,o,u,h,_,w,D,S){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=D,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fL extends cL{constructor(t,e){super(e),this.url=t,T1(this,e)}toString(){return pL(this._root)}}function T1(n,t){t.value._routerState=n,t.children.forEach(e=>T1(n,e))}function pL(n){const t=n.children.length>0?` { ${n.children.map(pL).join(", ")} } `:"";return`${n.value}${t}`}function x1(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Eu(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Eu(t.params,e.params)||n.params.next(e.params),function Rq(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Eu(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Eu(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function M1(n,t){const e=Eu(n.params,t.params)&&function Lq(n,t){return Dg(n,t)&&n.every((e,i)=>Eu(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||M1(n.parent,t.parent))}function Kw(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Jq(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Kw(n,i,r);return Kw(n,i)})}(n,t,e);return new rh(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Kw(n,h)),u}}const i=function Xq(n){return new sh(new Fs(n.url),new Fs(n.params),new Fs(n.queryParams),new Fs(n.fragment),new Fs(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Kw(n,o));return new rh(i,r)}}function jx(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Qw(n){return"object"==typeof n&&null!=n&&n.outlets}function S1(n,t,e,i,r){let o={};return i&&rs(i,(u,h)=>{o[h]=Array.isArray(u)?u.map(_=>`${_}`):`${u}`}),new Cg(e.root===n?t:mL(e.root,n,t),o,r)}function mL(n,t,e){const i={};return rs(n.children,(r,o)=>{i[o]=r===t?e:mL(r,t,e)}),new sn(n.segments,i)}class gL{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&jx(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Qw);if(r&&r!==JN(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class I1{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function _L(n,t,e){if(n||(n=new sn([],{})),0===n.segments.length&&n.hasChildren())return Zx(n,t,e);const i=function sG(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(Qw(h))break;const _=`${h}`,w=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!vL(_,w,u))return o;i+=2}else{if(!vL(_,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new sn(n.segments.slice(0,i.pathIndex),{});return o.children[Qt]=new sn(n.segments.slice(i.pathIndex),n.children),Zx(o,0,r)}return i.match&&0===r.length?new sn(n.segments,{}):i.match&&!n.hasChildren()?A1(n,t,e):i.match?Zx(n,0,r):A1(n,t,e)}function Zx(n,t,e){if(0===e.length)return new sn(n.segments,{});{const i=function rG(n){return Qw(n[0])?n[0].outlets:{[Qt]:n}}(e),r={};return rs(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=_L(n.children[u],t,o))}),rs(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new sn(n.segments,r)}}function A1(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Qw(o)){const _=oG(o.outlets);return new sn(i,_)}if(0===r&&jx(e[0])){i.push(new Yw(n.segments[t].path,yL(e[0]))),r++;continue}const u=Qw(o)?o.outlets[Qt]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&jx(h)?(i.push(new Yw(u,yL(h))),r+=2):(i.push(new Yw(u,{})),r++)}return new sn(i,{})}function oG(n){const t={};return rs(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=A1(new sn([],{}),0,e))}),t}function yL(n){const t={};return rs(n,(e,i)=>t[i]=`${e}`),t}function vL(n,t,e){return n==e.path&&Eu(t,e.parameters)}class lG{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),x1(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=qv(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),rs(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=qv(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=qv(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=qv(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Sq(o.value.snapshot))}),t.children.length&&this.forwardEvent(new xq(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(x1(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),x1(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=function cG(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),_=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class k1{constructor(t,e){this.routes=t,this.module=e}}function ep(n){return"function"==typeof n}function Eg(n){return n instanceof Cg}const Jw=Symbol("INITIAL_VALUE");function Xw(){return Xn(n=>qw(n.map(t=>t.pipe((0,wr.q)(1),Wr(Jw)))).pipe(Qa((t,e)=>{let i=!1;return e.reduce((r,o,u)=>r!==Jw?r:(o===Jw&&(i=!0),i||!1!==o&&u!==e.length-1&&!Eg(o)?r:o),t)},Jw),ti(t=>t!==Jw),(0,Je.U)(t=>Eg(t)?t:!0===t),(0,wr.q)(1)))}class mG{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new eC,this.attachRef=null}}class eC{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new mG,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let R1=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=o||Qt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,_=new gG(e,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(eC),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class gG{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===sh?this.route:t===eC?this.childContexts:this.parent.get(t,e)}}let bL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[R1],encapsulation:2}),n})();function wL(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];_G(i,yG(t,i))}}function _G(n,t){n.children&&wL(n.children,t)}function yG(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function O1(n){const t=n.children&&n.children.map(O1),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Qt&&(e.component=bL),e}function fl(n){return n.outlet||Qt}function CL(n,t){const e=n.filter(i=>fl(i)===t);return e.push(...n.filter(i=>fl(i)!==t)),e}const DL={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qx(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},DL):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(t.matcher||kq)(e,n,t);if(!o)return Object.assign({},DL);const u={};rs(o.posParams,(_,w)=>{u[w]=_.path});const h=o.consumed.length>0?Object.assign(Object.assign({},u),o.consumed[o.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:h,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function Gx(n,t,e,i,r="corrected"){if(e.length>0&&function wG(n,t,e){return e.some(i=>zx(n,t,i)&&fl(i)!==Qt)}(n,e,i)){const u=new sn(t,function bG(n,t,e,i){const r={};r[Qt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&fl(o)!==Qt){const u=new sn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[fl(o)]=u}return r}(n,t,i,new sn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function CG(n,t,e){return e.some(i=>zx(n,t,i))}(n,e,i)){const u=new sn(n.segments,function vG(n,t,e,i,r,o){const u={};for(const h of i)if(zx(n,e,h)&&!r[fl(h)]){const _=new sn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[fl(h)]=_}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new sn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function zx(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function EL(n,t,e,i){return!!(fl(n)===i||i!==Qt&&zx(t,e,n))&&("**"===n.path||qx(t,n,e).matched)}function TL(n,t,e){return 0===t.length&&!n.children[e]}class tC{constructor(t){this.segmentGroup=t||null}}class xL{constructor(t){this.urlTree=t}}function $x(n){return new kn.y(t=>t.error(new tC(n)))}function ML(n){return new kn.y(t=>t.error(new xL(n)))}function DG(n){return new kn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class xG{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=Gx(this.urlTree.root,[],[],this.config).segmentGroup,e=new sn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Qt).pipe((0,Je.U)(o=>this.createUrlTree(P1(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nh(o=>{if(o instanceof xL)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof tC?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Qt).pipe((0,Je.U)(r=>this.createUrlTree(P1(r),t.queryParams,t.fragment))).pipe(nh(r=>{throw r instanceof tC?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new sn([],{[Qt]:t}):t;return new Cg(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Je.U)(o=>new sn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,dn.D)(r).pipe(jv(o=>{const u=i.children[o],h=CL(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,Je.U)(_=>({segment:_,outlet:o})))}),Qa((o,u)=>(o[u.outlet]=u.segment,o),{}),function yq(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ti((r,o)=>n(r,o,i)):Ja.y,v1(1),e?tP(t):nP(()=>new HT))}())}expandSegment(t,e,i,r,o,u){return(0,dn.D)(i).pipe(jv(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(nh(w=>{if(w instanceof tC)return nt(null);throw w}))),og(h=>!!h),nh((h,_)=>{if(h instanceof HT||"EmptyError"===h.name){if(TL(e,r,o))return nt(new sn([],{}));throw new tC(e)}throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return EL(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):$x(e):$x(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ML(o):this.lineralizeSegments(i,o).pipe((0,is.z)(u=>{const h=new sn(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:_,lastChild:w,positionalParamSegments:D}=qx(e,r,o);if(!h)return $x(e);const S=this.applyRedirectCommands(_,r.redirectTo,D);return r.redirectTo.startsWith("/")?ML(S):this.lineralizeSegments(r,S).pipe((0,is.z)(O=>this.expandSegment(t,e,i,O.concat(o.slice(w)),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?nt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,Je.U)(O=>(i._loadedConfig=O,new sn(r,{})))):nt(new sn(r,{}));const{matched:u,consumedSegments:h,lastChild:_}=qx(e,i,r);if(!u)return $x(e);const w=r.slice(_);return this.getChildConfig(t,i,r).pipe((0,is.z)(S=>{const O=S.module,L=S.routes,{segmentGroup:H,slicedSegments:Q}=Gx(e,h,w,L),ie=new sn(H.segments,H.children);if(0===Q.length&&ie.hasChildren())return this.expandChildren(O,L,ie).pipe((0,Je.U)(He=>new sn(h,He)));if(0===L.length&&0===Q.length)return nt(new sn(h,{}));const Ue=fl(i)===o;return this.expandSegment(O,ie,L,Q,Ue?Qt:o,!0).pipe((0,Je.U)(je=>new sn(h.concat(je.segments),je.children)))}))}getChildConfig(t,e,i){return e.children?nt(new k1(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?nt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,is.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,Je.U)(o=>(e._loadedConfig=o,o))):function EG(n){return new kn.y(t=>t.error(w1(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):nt(new k1([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return nt(!0);const o=r.map(u=>{const h=t.get(u);let _;if(function dG(n){return n&&ep(n.canLoad)}(h))_=h.canLoad(e,i);else{if(!ep(h))throw new Error("Invalid CanLoad guard");_=h(e,i)}return Tu(_)});return nt(o).pipe(Xw(),(0,es.b)(u=>{if(!Eg(u))return;const h=w1(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,Je.U)(u=>!0===u))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return nt(i);if(r.numberOfChildren>1||!r.children[Qt])return DG(t.redirectTo);r=r.children[Qt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Cg(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return rs(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return rs(e.children,(h,_)=>{u[_]=this.createSegmentGroup(t,h,i,r)}),new sn(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function P1(n){const t={};for(const i of Object.keys(n.children)){const o=P1(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function MG(n){if(1===n.numberOfChildren&&n.children[Qt]){const t=n.children[Qt];return new sn(n.segments.concat(t.segments),t.children)}return n}(new sn(n.segments,t))}class SL{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Yx{constructor(t,e){this.component=t,this.route=e}}function IG(n,t,e){const i=n._root;return nC(i,t?t._root:null,e,[i.value])}function Wx(n,t,e){const i=function kG(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function nC(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=qv(t);return n.children.forEach(u=>{(function RG(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const _=function OG(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Dg(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Dg(n.url,t.url)||!Eu(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!M1(n,t)||!Eu(n.queryParams,t.queryParams);default:return!M1(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new SL(i)):(o.data=u.data,o._resolvedData=u._resolvedData),nC(n,t,o.component?h?h.children:null:e,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Yx(h.outlet.component,u))}else u&&iC(t,h,r),r.canActivateChecks.push(new SL(i)),nC(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),rs(o,(u,h)=>iC(u,e.getContext(h),r)),r}function iC(n,t,e){const i=qv(n),r=n.value;rs(i,(o,u)=>{iC(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Yx(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class jG{}function IL(n){return new kn.y(t=>t.error(n))}class qG{constructor(t,e,i,r,o,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}recognize(){const t=Gx(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Qt);if(null===e)return null;const i=new Hx([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new rh(i,e),o=new fL(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=hL(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const u=e.children[o],h=CL(t,o),_=this.processSegmentGroup(h,u,o);if(null===_)return null;i.push(..._)}const r=AL(i);return function GG(n){n.sort((t,e)=>t.value.outlet===Qt?-1:e.value.outlet===Qt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const u=this.processSegmentAgainstRoute(o,e,i,r);if(null!==u)return u}return TL(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!EL(t,e,i,r))return null;let o,u=[],h=[];if("**"===t.path){const L=i.length>0?JN(i).parameters:{};o=new Hx(i,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,OL(t),fl(t),t.component,t,kL(e),RL(e)+i.length,PL(t))}else{const L=qx(e,t,i);if(!L.matched)return null;u=L.consumedSegments,h=i.slice(L.lastChild),o=new Hx(u,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,OL(t),fl(t),t.component,t,kL(e),RL(e)+u.length,PL(t))}const _=function zG(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:w,slicedSegments:D}=Gx(e,u,h,_.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);if(0===D.length&&w.hasChildren()){const L=this.processChildren(_,w);return null===L?null:[new rh(o,L)]}if(0===_.length&&0===D.length)return[new rh(o,[])];const S=fl(t)===r,O=this.processSegment(_,w,D,S?Qt:r);return null===O?null:[new rh(o,O)]}}function $G(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function AL(n){const t=[],e=new Set;for(const i of n){if(!$G(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=AL(i.children);t.push(new rh(i.value,r))}return t.filter(i=>!e.has(i))}function kL(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function RL(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function OL(n){return n.data||{}}function PL(n){return n.resolve||{}}function F1(n){return Xn(t=>{const e=n(t);return e?(0,dn.D)(e).pipe((0,Je.U)(()=>t)):nt(t)})}class tz extends class ez{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const N1=new s.OlP("ROUTES");class FL{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,Je.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=o.create(t);return new k1(QN(u.injector.get(N1,void 0,s.XFs.Self|s.XFs.Optional)).map(O1),u)}),nh(o=>{throw e._loader$=void 0,o}));return e._loader$=new _q(r,()=>new kt.x).pipe(qN()),e._loader$}loadModuleFactory(t){return Tu(t()).pipe((0,is.z)(e=>e instanceof s.YKP?nt(e):(0,dn.D)(this.compiler.compileModuleAsync(e))))}}class iz{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function rz(n){throw n}function sz(n,t,e){return t.parse("/")}function NL(n,t){return nt(null)}const oz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},az={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ss=(()=>{class n{constructor(e,i,r,o,u,h,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new kt.x,this.errorHandler=rz,this.malformedUriErrorHandler=sz,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:NL,afterPreactivation:NL},this.urlHandlingStrategy=new iz,this.routeReuseStrategy=new tz,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const S=u.get(s.R0b);this.isNgZoneEnabled=S instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Oq(){return new Cg(new sn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new FL(u,h,O=>this.triggerEvent(new zN(O)),O=>this.triggerEvent(new $N(O))),this.routerState=dL(this.currentUrlTree,this.rootComponentType),this.transitions=new Fs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(ti(r=>0!==r.id),(0,Je.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Xn(r=>{let o=!1,u=!1;return nt(r).pipe((0,es.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xn(h=>{const _=this.browserUrlTree.toString(),w=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Kx(h.source)&&(this.browserUrlTree=h.extractedUrl),nt(h).pipe(Xn(S=>{const O=this.transitions.getValue();return i.next(new b1(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),O!==this.transitions.getValue()?wg.E:Promise.resolve(S)}),function SG(n,t,e,i){return Xn(r=>function TG(n,t,e,i,r){return new xG(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Je.U)(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,es.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function YG(n,t,e,i,r){return(0,is.z)(o=>function ZG(n,t,e,i,r="emptyOnly",o="legacy"){try{const u=new qG(n,t,e,i,r,o).recognize();return null===u?IL(new jG):nt(u)}catch(u){return IL(u)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe((0,Je.U)(u=>Object.assign(Object.assign({},o),{targetSnapshot:u}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,es.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(L,S)}this.browserUrlTree=S.urlAfterRedirects}const O=new bq(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(O)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:L,source:H,restoredState:Q,extras:ie}=h,Ue=new b1(O,this.serializeUrl(L),H,Q);i.next(Ue);const Ke=dL(L,this.rootComponentType).snapshot;return nt(Object.assign(Object.assign({},h),{targetSnapshot:Ke,urlAfterRedirects:L,extras:Object.assign(Object.assign({},ie),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),wg.E}),F1(h=>{const{targetSnapshot:_,id:w,extractedUrl:D,rawUrl:S,extras:{skipLocationChange:O,replaceUrl:L}}=h;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:D,rawUrlTree:S,skipLocationChange:!!O,replaceUrl:!!L})}),(0,es.b)(h=>{const _=new wq(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,Je.U)(h=>Object.assign(Object.assign({},h),{guards:IG(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function PG(n,t){return(0,is.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?nt(Object.assign(Object.assign({},e),{guardsResult:!0})):function FG(n,t,e,i){return(0,dn.D)(n).pipe((0,is.z)(r=>function HG(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?nt(o.map(h=>{const _=Wx(h,t,r);let w;if(function pG(n){return n&&ep(n.canDeactivate)}(_))w=Tu(_.canDeactivate(n,t,e,i));else{if(!ep(_))throw new Error("Invalid CanDeactivate guard");w=Tu(_(n,t,e,i))}return w.pipe(og())})).pipe(Xw()):nt(!0)}(r.component,r.route,e,t,i)),og(r=>!0!==r,!0))}(u,i,r,n).pipe((0,is.z)(h=>h&&function uG(n){return"boolean"==typeof n}(h)?function NG(n,t,e,i){return(0,dn.D)(t).pipe(jv(r=>Yr(function VG(n,t){return null!==n&&t&&t(new Tq(n)),nt(!0)}(r.route.parent,i),function LG(n,t){return null!==n&&t&&t(new Mq(n)),nt(!0)}(r.route,i),function UG(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function AG(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Ox(()=>nt(u.guards.map(_=>{const w=Wx(_,u.node,e);let D;if(function fG(n){return n&&ep(n.canActivateChild)}(w))D=Tu(w.canActivateChild(i,n));else{if(!ep(w))throw new Error("Invalid CanActivateChild guard");D=Tu(w(i,n))}return D.pipe(og())})).pipe(Xw())));return nt(o).pipe(Xw())}(n,r.path,e),function BG(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return nt(!0);const r=i.map(o=>Ox(()=>{const u=Wx(o,t,e);let h;if(function hG(n){return n&&ep(n.canActivate)}(u))h=Tu(u.canActivate(t,n));else{if(!ep(u))throw new Error("Invalid CanActivate guard");h=Tu(u(t,n))}return h.pipe(og())}));return nt(r).pipe(Xw())}(n,r.route,e))),og(r=>!0!==r,!0))}(i,o,n,t):nt(h)),(0,Je.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,es.b)(h=>{if(Eg(h.guardsResult)){const w=w1(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw w.url=h.guardsResult,w}const _=new Cq(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),ti(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),F1(h=>{if(h.guards.canActivateChecks.length)return nt(h).pipe((0,es.b)(_=>{const w=new Dq(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Xn(_=>{let w=!1;return nt(_).pipe(function WG(n,t){return(0,is.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return nt(e);let o=0;return(0,dn.D)(r).pipe(jv(u=>function KG(n,t,e,i){return function QG(n,t,e,i){const r=Object.keys(n);if(0===r.length)return nt({});const o={};return(0,dn.D)(r).pipe((0,is.z)(u=>function JG(n,t,e,i){const r=Wx(n,t,i);return Tu(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,es.b)(h=>{o[u]=h}))),v1(1),(0,is.z)(()=>Object.keys(o).length===r.length?nt(o):wg.E))}(n._resolve,n,t,i).pipe((0,Je.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),hL(n,e).resolve),null)))}(u.route,i,n,t)),(0,es.b)(()=>o++),v1(1),(0,is.z)(u=>o===r.length?nt(e):wg.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,es.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,es.b)(_=>{const w=new Eq(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),F1(h=>{const{targetSnapshot:_,id:w,extractedUrl:D,rawUrl:S,extras:{skipLocationChange:O,replaceUrl:L}}=h;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:D,rawUrlTree:S,skipLocationChange:!!O,replaceUrl:!!L})}),(0,Je.U)(h=>{const _=function Qq(n,t,e){const i=Kw(n,t._root,e?e._root:void 0);return new uL(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:_})}),(0,es.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,Je.U)(i=>(new lG(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,es.b)({next(){o=!0},complete(){o=!0}}),co(()=>{var h;o||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),nh(h=>{if(u=!0,function Aq(n){return n&&n[WN]}(h)){const _=Eg(h.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const w=new GN(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(w),_?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Kx(r.source)};this.scheduleNavigation(D,"imperative",null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new vq(r.id,this.serializeUrl(r.extractedUrl),h);i.next(_);try{r.resolve(this.errorHandler(h))}catch(w){r.reject(w)}}return wg.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(o.state=_)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){wL(e),this.config=e.map(O1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:_}=i,w=r||this.routerState.root,D=_?this.currentUrlTree.fragment:u;let S=null;switch(h){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=o||null}return null!==S&&(S=this.removeEmptyProps(S)),function eG(n,t,e,i,r){if(0===e.length)return S1(t.root,t.root,t,i,r);const o=function tG(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gL(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return rs(o.outlets,(_,w)=>{h[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new gL(e,t,i)}(e);if(o.toRoot())return S1(t.root,new sn([],{}),t,i,r);const u=function nG(n,t,e){if(n.isAbsolute)return new I1(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new I1(o,o===t.root,0)}const i=jx(n.commands[0])?0:1;return function iG(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new I1(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),h=u.processChildren?Zx(u.segmentGroup,u.index,o.commands):_L(u.segmentGroup,u.index,o.commands);return S1(u.segmentGroup,h,t,i,r)}(w,this.currentUrlTree,e,S,null!=D?D:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Eg(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function lz(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},oz):!1===i?Object.assign({},az):i,Eg(e))return eL(this.currentUrlTree,e,r);const o=this.parseUrl(e);return eL(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new $w(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){var h,_,w;if(this.disposed)return Promise.resolve(!1);const D=this.transitions.value,S=Kx(i)&&D&&!Kx(D.source),O=D.rawUrl.toString()===e.toString(),L=D.id===(null===(h=this.currentNavigation)||void 0===h?void 0:h.id);if(S&&O&&L)return Promise.resolve(!0);let Q,ie,Ue;u?(Q=u.resolve,ie=u.reject,Ue=u.promise):Ue=new Promise((He,Dt)=>{Q=He,ie=Dt});const Ke=++this.navigationId;let je;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),je=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):je=0,this.setTransition({id:Ke,targetPageId:je,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:Q,reject:ie,promise:Ue,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ue.catch(He=>Promise.reject(He))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new GN(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Kx(n){return"imperative"!==n}let L1=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.commands=null,this.onChanges=new kt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:zv(this.skipLocationChange),replaceUrl:zv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zv(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ss),s.Y36(sh),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),Gv=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new kt.x,this.subscription=e.events.subscribe(o=>{o instanceof $w&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,u){if(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:zv(this.skipLocationChange),replaceUrl:zv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zv(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ss),s.Y36(sh),s.Y36(pe))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function zv(n){return""===n||!!n}let V1=(()=>{class n{constructor(e,i,r,o,u,h){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=u,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(_=>{_ instanceof $w&&this.update()})}ngAfterContentInit(){nt(this.links.changes,this.linksWithHrefs.changes,nt(null)).pipe((0,Ka.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,dn.D)(i).pipe((0,Ka.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function cz(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ss),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(L1,8),s.Y36(Gv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,L1,5),s.Suo(r,Gv,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),n})();class LL{}class VL{preload(t,e){return nt(null)}}let BL=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new FL(r,i,_=>e.triggerEvent(new zN(_)),_=>e.triggerEvent(new $N(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(ti(e=>e instanceof $w),jv(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const u=o._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return(0,dn.D)(r).pipe((0,Ka.J)(),(0,Je.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?nt(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,is.z)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ss),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(LL))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),B1=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof b1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof $w&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof YN&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new YN(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Tg=new s.OlP("ROUTER_CONFIGURATION"),UL=new s.OlP("ROUTER_FORROOT_GUARD"),dz=[et,{provide:rL,useClass:sL},{provide:ss,useFactory:function gz(n,t,e,i,r,o,u={},h,_){const w=new ss(null,n,t,e,i,r,QN(o));return h&&(w.urlHandlingStrategy=h),_&&(w.routeReuseStrategy=_),function _z(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,w),u.enableTracing&&w.events.subscribe(D=>{var S,O;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(O=console.groupEnd)||void 0===O||O.call(console)}),w},deps:[rL,eC,et,s.zs3,s.Sil,N1,Tg,[class nz{},new s.FiY],[class XG{},new s.FiY]]},eC,{provide:sh,useFactory:function yz(n){return n.routerState.root},deps:[ss]},BL,VL,class uz{preload(t,e){return e().pipe(nh(()=>nt(null)))}},{provide:Tg,useValue:{enableTracing:!1}}];function hz(){return new s.PXZ("Router",ss)}let HL=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[dz,jL(e),{provide:UL,useFactory:mz,deps:[[ss,new s.FiY,new s.tp0]]},{provide:Tg,useValue:i||{}},{provide:pe,useFactory:pz,deps:[ue,[new s.tBr(Re),new s.FiY],Tg]},{provide:B1,useFactory:fz,deps:[ss,Cl,Tg]},{provide:LL,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:VL},{provide:s.PXZ,multi:!0,useFactory:hz},[U1,{provide:s.ip1,multi:!0,useFactory:vz,deps:[U1]},{provide:ZL,useFactory:bz,deps:[U1]},{provide:s.tb,multi:!0,useExisting:ZL}]]}}static forChild(e){return{ngModule:n,providers:[jL(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(UL,8),s.LFG(ss,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function fz(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new B1(n,t,e)}function pz(n,t,e={}){return e.useHash?new Le(n,t):new qe(n,t)}function mz(n){return"guarded"}function jL(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:N1,multi:!0,useValue:n}]}let U1=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new kt.x}appInitializer(){return this.injector.get(q,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),o=this.injector.get(ss),u=this.injector.get(Tg);return"disabled"===u.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?nt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Tg),r=this.injector.get(BL),o=this.injector.get(B1),u=this.injector.get(ss),h=this.injector.get(s.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),o.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function vz(n){return n.appInitializer.bind(n)}function bz(n){return n.bootstrapListener.bind(n)}const ZL=new s.OlP("Router Initializer");let Ns=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:77,vars:0,consts:[[1,"headerpic","shadow"],[1,"container","topnav"],[1,"topnav","navbar","navbar-expand-md","navbar-dark","pt-0","pb-1"],["routerLink","/",1,"navbar-brand"],["src","../../../assets/econ.png","alt","Logo",1,"hd-logo","mt-2","rounded"],["type","button","data-bs-toggle","collapse","data-bs-target","#navmenu",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navmenu",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item","px-2"],["routerLink","/about","routerLinkActive","active-link",1,"nav-link","text-secondary"],["routerLink","/videos","routerLinkActive","active-link",1,"nav-link","text-secondary"],[1,"nav-item","dropdown","px-2"],["data-bs-toggle","dropdown","routerLinkActive","active-link","type","button",1,"nav-link","text-secondary","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-dark","bg-primary","ddmenu"],["routerLink","/wordftd",1,"dropdown-item","text-decoration-none"],["routerLink","/wordftdv",1,"dropdown-item","text-decoration-none"],["data-bs-toggle","dropdown","routerLinkActive","active-link","type","button",1,"dropdown-item","text-decoration-none"],[1,"dropdown-menu","bg-primary","dropdown-submenu","ddmenu"],["routerLink","/wtbaudio",1,"dropdown-item","text-decoration-none"],["routerLink","/qanda",1,"dropdown-item","text-decoration-none"],["routerLink","/sermonaudio",1,"dropdown-item","text-decoration-none"],["routerLink","/messageaudio",1,"dropdown-item","text-decoration-none"],[1,"dropdown-menu","dropdown-menu-dark","bg-primary","dropdown-submenu"],["routerLink","/wtbvideo",1,"dropdown-item","text-decoration-none"],["routerLink","/videos",1,"dropdown-item","text-decoration-none"],["routerLink","/resources",1,"dropdown-item","text-decoration-none"],["routerLink","/books",1,"dropdown-item","text-decoration-none"],["routerLink","/songs",1,"dropdown-item","text-decoration-none"],["routerLink","/contact","routerLinkActive","active-link",1,"nav-link","text-secondary"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"nav",2),s.TgZ(3,"div",1),s.TgZ(4,"a",3),s._UZ(5,"img",4),s.qZA(),s.TgZ(6,"button",5),s._UZ(7,"span",6),s.qZA(),s.TgZ(8,"div",7),s.TgZ(9,"ul",8),s.TgZ(10,"li",9),s.TgZ(11,"a",10),s._uU(12,"About"),s.qZA(),s.qZA(),s.TgZ(13,"li",9),s.TgZ(14,"a",11),s._uU(15,"Messages"),s.qZA(),s.qZA(),s.TgZ(16,"li",12),s.TgZ(17,"a",13),s._uU(18,"Daily Word"),s.qZA(),s.TgZ(19,"ul",14),s.TgZ(20,"li"),s.TgZ(21,"a",15),s._uU(22,"Audio / Text"),s.qZA(),s.qZA(),s.TgZ(23,"li"),s.TgZ(24,"a",16),s._uU(25,"Video"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"li",12),s.TgZ(27,"a",13),s._uU(28,"Resources"),s.qZA(),s.TgZ(29,"ul",14),s.TgZ(30,"li"),s.TgZ(31,"a",17),s._uU(32,"Audio \xbb"),s.qZA(),s.TgZ(33,"ul",18),s.TgZ(34,"li"),s.TgZ(35,"a",19),s._uU(36,"With the Bible"),s.qZA(),s.qZA(),s.TgZ(37,"li"),s.TgZ(38,"a",15),s._uU(39,"Daily Word"),s.qZA(),s.qZA(),s.TgZ(40,"li"),s.TgZ(41,"a",20),s._uU(42,"Q and A"),s.qZA(),s.qZA(),s.TgZ(43,"li"),s.TgZ(44,"a",21),s._uU(45,"Sermons"),s.qZA(),s.qZA(),s.TgZ(46,"li"),s.TgZ(47,"a",22),s._uU(48,"Other's Messages"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(49,"li"),s.TgZ(50,"a",17),s._uU(51,"Video \xbb"),s.qZA(),s.TgZ(52,"ul",23),s.TgZ(53,"li"),s.TgZ(54,"a",24),s._uU(55,"With the Bible"),s.qZA(),s.qZA(),s.TgZ(56,"li"),s.TgZ(57,"a",16),s._uU(58,"Daily Word"),s.qZA(),s.qZA(),s.TgZ(59,"li"),s.TgZ(60,"a",25),s._uU(61,"Sermons"),s.qZA(),s.qZA(),s.TgZ(62,"li"),s.TgZ(63,"a",26),s._uU(64,"Other's Messages"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(65,"li"),s.TgZ(66,"a",27),s._uU(67,"Books"),s.qZA(),s.qZA(),s.TgZ(68,"li"),s.TgZ(69,"a",28),s._uU(70,"Songs"),s.qZA(),s.qZA(),s.TgZ(71,"li"),s.TgZ(72,"a",20),s._uU(73,"Q and A"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(74,"li",9),s.TgZ(75,"a",29),s._uU(76,"Contact"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA())},directives:[Gv,V1],styles:[".headerpic[_ngcontent-%COMP%]{height:8vw;background-image:linear-gradient(to bottom,rgba(86,150,113,.9),rgba(86,150,113,.8)),url(homepic.75a94ad83156d54d.jpg);background-size:cover;background-position:center}.hd-logo[_ngcontent-%COMP%]{width:5rem;display:inline-block}#navmenu[_ngcontent-%COMP%]{font-size:.9rem;z-index:10}#navmenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.active-link[_ngcontent-%COMP%]{font-weight:700}.ddmenu[_ngcontent-%COMP%]{font-size:.9rem;text-decoration:none}.navbar-toggler[_ngcontent-%COMP%]{font-size:3vw;background-color:#569671}@media (max-width: 900px){.hd-logo[_ngcontent-%COMP%]{width:1.8rem}#navmenu[_ngcontent-%COMP%]{background-color:#569671}}"]}),n})(),Ls=(()=>{class n{constructor(e){this.fileService=e,this.heading="",this.title="",this.reference="",this.verses=[]}ngOnInit(){this.fileService.loadVerses().pipe((0,wr.q)(1)).subscribe(e=>{this.verses=e,this.getTitle()})}getTitle(){const e=Math.floor(Math.random()*this.verses.length);this.title=this.verses[e].text,this.reference=this.verses[e].reference}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-subhead"]],inputs:{heading:"heading"},decls:8,vars:3,consts:[[1,"subhead","text-center"],[1,"verse-animated"],[1,"ref-animated"],[1,"row","heading"],[1,"col-12"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"span",1),s._uU(2),s.qZA(),s.TgZ(3,"span",2),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"div",3),s.TgZ(6,"div",4),s._uU(7),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Oqu(i.title),s.xp6(2),s.Oqu(i.reference),s.xp6(3),s.Oqu(i.heading))},styles:[".subhead[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,rgba(242,242,242,.8),rgba(242,242,242,.8)),url(homepic.75a94ad83156d54d.jpg);background-size:cover;background-position:center;padding:6vw 5vw;align-items:center;height:25vw}.heading[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase;padding:2rem 2rem 0;font-size:1.6rem;font-weight:500;margin:auto}.ref-animated[_ngcontent-%COMP%]{font-size:1rem;animation:moveInBottom 2s ease-out}.verse-animated[_ngcontent-%COMP%]{display:block;font-size:1.8rem;font-weight:400;animation:moveInLeft 2s ease-out}@keyframes moveInLeft{0%{opacity:0;transform:translate(-20rem)}80%{transform:translate(1rem)}to{opacity:1;transform:translate(0)}}@keyframes moveInBottom{0%{opacity:0;transform:translateY(5rem)}to{opacity:1;transform:translateY(0)}}@media (max-width: 900px){.subhead[_ngcontent-%COMP%]{height:35vw}.ref-animated[_ngcontent-%COMP%]{font-size:.6rem}.verse-animated[_ngcontent-%COMP%]{font-size:.8rem}.heading[_ngcontent-%COMP%]{font-size:1rem}}"]}),n})();function Cz(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}function Dz(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}const Tz=Ov(class{constructor(n){this._elementRef=n}},"primary"),xz=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Mz(){return{diameter:100}}});class os extends Tz{constructor(t,e,i,r,o,u,h,_){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Xr.w0.EMPTY,this.mode="determinate";const w=os._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),w.has(i.head)||w.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&h&&u&&_&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&_.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=lo(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=lo(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,lo(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=SP(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const i=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${i}% ${i}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=os._diameters;let r=i.get(t);if(!r||!r.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}os._diameters=new WeakMap,os.\u0275fac=function(t){return new(t||os)(s.Y36(s.SBq),s.Y36(Cr),s.Y36(te,8),s.Y36(ga,8),s.Y36(xz),s.Y36(s.sBO),s.Y36(Hw),s.Y36(s.R0b))},os.\u0275cmp=s.Xpm({type:os,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(s.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,Cz,1,11,"circle",2),s.YNc(3,Dz,1,9,"circle",3),s.qZA()),2&t&&(s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===e.mode),s.uIk("viewBox",e._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},directives:[ji,dr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let qL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt,oi],Nt]}),n})();const GL=ag({passive:!0});let Iz=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return wg.E;const i=Yd(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new kt.x,u="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,GL),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,GL)}}),o}stopMonitoring(e){const i=Yd(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cr),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const $L=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),Az=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let kz=0;const Rz=qF(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let oh=(()=>{class n extends Rz{constructor(e,i,r,o,u,h,_,w,D,S){super(h,o,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=w,this._formField=S,this._uid="mat-input-"+kz++,this.focused=!1,this.stateChanges=new kt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(H=>MP().has(H)),this._iOSKeyupListener=H=>{const Q=H.target;!Q.value&&0===Q.selectionStart&&0===Q.selectionEnd&&(Q.setSelectionRange(1,1),Q.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,L=O.nodeName.toLowerCase();this._inputValueAccessor=_||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&D.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Wt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,o;return null!==(o=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(ir.required))&&void 0!==o&&o}set required(e){this._required=Wt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&MP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Wt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=r,r?o.setAttribute("placeholder",r):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Az.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Cr),s.Y36(mn,10),s.Y36(Ts,8),s.Y36(na,8),s.Y36(Gk),s.Y36($L,10),s.Y36(Iz),s.Y36(s.R0b),s.Y36(Rx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:kx,useExisting:n}]),s.qOj,s.TTD]}),n})(),YL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Gk],imports:[[zL,_1,Nt],zL,_1]}),n})();class Pz{}class tp{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof tp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new tp;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof tp?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Fz{encodeKey(t){return WL(t)}encodeValue(t){return WL(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Lz=/%(\d[a-f0-9])/gi,Vz={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function WL(n){return encodeURIComponent(n).replace(Lz,(t,e)=>{var i;return null!==(i=Vz[e])&&void 0!==i?i:t})}function KL(n){return`${n}`}class np{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Fz,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Nz(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],_=e.get(u)||[];_.push(h),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new np({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(KL(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(KL(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Bz{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function QL(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function JL(n){return"undefined"!=typeof Blob&&n instanceof Blob}function XL(n){return"undefined"!=typeof FormData&&n instanceof FormData}class rC{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Uz(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new tp),this.context||(this.context=new Bz),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new np,this.urlWithParams=e}serializeBody(){return null===this.body?null:QL(this.body)||JL(this.body)||XL(this.body)||function Hz(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof np?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XL(this.body)?null:JL(this.body)?this.body.type||null:QL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof np?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,_=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let w=t.headers||this.headers,D=t.params||this.params;const S=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((O,L)=>O.set(L,t.setHeaders[L]),w)),t.setParams&&(D=Object.keys(t.setParams).reduce((O,L)=>O.set(L,t.setParams[L]),D)),new rC(i,r,u,{params:D,headers:w,context:S,reportProgress:_,responseType:o,withCredentials:h})}}var as=(()=>((as=as||{})[as.Sent=0]="Sent",as[as.UploadProgress=1]="UploadProgress",as[as.ResponseHeader=2]="ResponseHeader",as[as.DownloadProgress=3]="DownloadProgress",as[as.Response=4]="Response",as[as.User=5]="User",as))();class j1 extends class jz{constructor(t,e=200,i="OK"){this.headers=t.headers||new tp,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=as.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new j1({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Z1(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let t2=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof rC)o=e;else{let _,w;_=r.headers instanceof tp?r.headers:new tp(r.headers),r.params&&(w=r.params instanceof np?r.params:new np({fromObject:r.params})),o=new rC(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=nt(o).pipe(jv(_=>this.handler.handle(_)));if(e instanceof rC||"events"===r.observe)return u;const h=u.pipe(ti(_=>_ instanceof j1));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,Je.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,Je.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,Je.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,Je.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new np).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Z1(r,i))}post(e,i,r={}){return this.request("POST",e,Z1(r,i))}put(e,i,r={}){return this.request("PUT",e,Z1(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Pz))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const qz=["*"];let Qx;function sC(n){var t;return(null===(t=function Gz(){if(void 0===Qx&&(Qx=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Qx=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Qx}())||void 0===t?void 0:t.createHTML(n))||n}function n2(n){return Error(`Unable to find icon with the name "${n}"`)}function r2(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function s2(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class xg{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Jx=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new xg(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const u=this._sanitizer.sanitize(s.q3G.HTML,r);if(!u)throw s2(r);const h=sC(u);return this._addSvgIconConfig(e,i,new xg("",h,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new xg(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw s2(i);const u=sC(o);return this._addSvgIconSetConfig(e,new xg("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw r2(e);const r=this._cachedIconsByUrl.get(i);return r?nt(Xx(r)):this._loadSvgIconFromConfig(new xg(e,null)).pipe((0,es.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,Je.U)(o=>Xx(o)))}getNamedSvgIcon(e,i=""){const r=o2(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):function Oz(n,t){const e=(0,ul.m)(n)?n:()=>n,i=r=>r.error(e());return new kn.y(t?r=>t.schedule(i,0,r):i)}(n2(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?nt(Xx(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Je.U)(i=>Xx(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?nt(r):Dc(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(nh(h=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(w)),nt(null)})))).pipe((0,Je.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw n2(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,es.b)(i=>e.svgText=i),(0,Je.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?nt(null):this._fetchIcon(e).pipe((0,es.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(sC("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(sC("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:u,value:h}=r[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,u=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function zz(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,r);if(!h)throw r2(r);const _=this._inProgressUrlFetches.get(h);if(_)return _;const w=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe((0,Je.U)(D=>sC(D)),co(()=>this._inProgressUrlFetches.delete(h)),(0,eP.B)());return this._inProgressUrlFetches.set(h,w),w}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(o2(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return Yz(o)?new xg(o.url,null,o.options):new xg(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(t2,8),s.LFG(Pa),s.LFG(te,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xx(n){return n.cloneNode(!0)}function o2(n,t){return n+":"+t}function Yz(n){return!(!n.url||!n.options)}const Wz=Ov(class{constructor(n){this._elementRef=n}}),Kz=new s.OlP("mat-icon-location",{providedIn:"root",factory:function Qz(){const n=(0,s.f3M)(te),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),a2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Jz=a2.map(n=>`[${n}]`).join(", "),Xz=/^url\(['"]?#(.*?)['"]?\)$/;let ah=(()=>{class n extends Wz{constructor(e,i,r,o,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Xr.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Wt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Jz),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)a2.forEach(u=>{const h=i[o],_=h.getAttribute(u),w=_?_.match(Xz):null;if(w){let D=r.get(h);D||(D=[],r.set(h,D)),D.push({name:u,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,wr.q)(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Jx),s.$8M("aria-hidden"),s.Y36(Kz),s.Y36(s.qLn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:qz,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),l2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt],Nt]}),n})();function e$(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function t$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function n$(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Serial No"),s.qZA())}function i$(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.serialno)}}function r$(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Title"),s.qZA())}function s$(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function o$(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1,"View"),s.qZA())}function a$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",23),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().viewSongs(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"arrow_forward"),s.qZA(),s.qZA(),s.qZA()}}function l$(n,t){1&n&&s._UZ(0,"tr",24)}const c$=function(n){return{gray:n}};function u$(n,t){1&n&&s._UZ(0,"tr",25),2&n&&s.Q6J("ngClass",s.VKq(1,c$,t.even))}const d$=function(){return[5,10,20]};let h$=(()=>{class n{constructor(e,i){this.fileService=e,this.router=i,this.heading="Songs - Text",this.columnsToDisplay=["serialno","title","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadSongs()}reloadSongs(){this.loading=!0,this.fileService.loadSongs().pipe(co(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new eh(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}viewSongs(e){this.router.navigate(["/songs",e.serialno])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uo),s.Y36(ss))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-songs"]],viewQuery:function(e,i){if(1&e&&(s.Gf(ns,5),s.Gf(Br,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:22,vars:10,consts:[[3,"heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","serialno"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,e$,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,t$,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,n$,2,0,"th",10),s.YNc(12,i$,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,r$,2,0,"th",10),s.YNc(15,s$,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,o$,2,0,"th",14),s.YNc(18,a$,4,0,"td",11),s.BQk(),s.YNc(19,l$,1,0,"tr",15),s.YNc(20,u$,1,3,"tr",16),s.qZA(),s._UZ(21,"mat-paginator",17),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(9,d$))("pageSize",10))},directives:[Ns,Ls,Zt,os,oc,oh,nr,kr,Ks,sc,th,ah,yu,ns,nc,tc,ic,vg,ec,rc,vu,wu,bu,Cu,mi,Br],styles:[".search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}@media (max-width: 900px){.table[_ngcontent-%COMP%]{width:92vw}}"]}),n})();function f$(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function p$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function m$(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Serial No"),s.qZA())}function g$(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.serialno)}}function _$(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Title"),s.qZA())}function y$(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function v$(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1,"View"),s.qZA())}function b$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",23),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().viewDailyWord(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"arrow_forward"),s.qZA(),s.qZA(),s.qZA()}}function w$(n,t){1&n&&s._UZ(0,"tr",24)}const C$=function(n){return{gray:n}};function D$(n,t){1&n&&s._UZ(0,"tr",25),2&n&&s.Q6J("ngClass",s.VKq(1,C$,t.even))}const E$=function(){return[5,10,20]};let T$=(()=>{class n{constructor(e,i){this.fileService=e,this.router=i,this.heading="Daily Word - Audio & Text",this.columnsToDisplay=["serialno","title","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadDailyWord()}reloadDailyWord(){this.loading=!0,this.fileService.loadDailyWord().pipe(co(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new eh(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}viewDailyWord(e){this.router.navigate(["/wordftd",e.serialno])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uo),s.Y36(ss))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-wordftd"]],viewQuery:function(e,i){if(1&e&&(s.Gf(ns,5),s.Gf(Br,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:22,vars:10,consts:[[3,"heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","serialno"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,f$,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,p$,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,m$,2,0,"th",10),s.YNc(12,g$,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,_$,2,0,"th",10),s.YNc(15,y$,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,v$,2,0,"th",14),s.YNc(18,b$,4,0,"td",11),s.BQk(),s.YNc(19,w$,1,0,"tr",15),s.YNc(20,D$,1,3,"tr",16),s.qZA(),s._UZ(21,"mat-paginator",17),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(9,E$))("pageSize",10))},directives:[Ns,Ls,Zt,os,oc,oh,nr,kr,Ks,sc,th,ah,yu,ns,nc,tc,ic,vg,ec,rc,vu,wu,bu,Cu,mi,Br],styles:[".search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}@media (max-width: 900px){.table[_ngcontent-%COMP%]{width:92vw}}"]}),n})();function x$(n,t){}class Mg{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const M$={dialogContainer:ts("dialogContainer",[On("void, exit",yt({opacity:0,transform:"scale(0.7)"})),On("enter",yt({transform:"none"})),Pn("* => enter",$P([Kn("150ms cubic-bezier(0, 0, 0.2, 1)",yt({transform:"none",opacity:1})),KT("@*",WT(),{optional:!0})])),Pn("* => void, * => exit",$P([Kn("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",yt({opacity:0})),KT("@*",WT(),{optional:!0})]))])};let S$=(()=>{class n extends h1{constructor(e,i,r,o,u,h,_,w){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=u,this._interactivityChecker=h,this._ngZone=_,this._focusMonitor=w,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(D)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ok())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=ok(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=ok();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(hH),s.Y36(s.sBO),s.Y36(te,8),s.Y36(Mg),s.Y36(LP),s.Y36(s.R0b),s.Y36(ug))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(_N,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),I$=(()=>{class n extends S${constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._id),s.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,x$,0,0,"ng-template",0)},directives:[_N],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[M$.dialogContainer]}}),n})(),A$=0;class c2{constructor(t,e,i="mat-dialog-"+A$++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new kt.x,this._afterClosed=new kt.x,this._beforeClosed=new kt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(ti(r=>"opened"===r.state),(0,wr.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(ti(r=>"closed"===r.state),(0,wr.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(ti(r=>27===r.keyCode&&!this.disableClose&&!Wd(r))).subscribe(r=>{r.preventDefault(),u2(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():u2(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ti(e=>"closing"===e.state),(0,wr.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function u2(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const d2=new s.OlP("MatDialogData"),k$=new s.OlP("mat-dialog-default-options"),h2=new s.OlP("mat-dialog-scroll-strategy"),O$={provide:h2,deps:[Du],useFactory:function R$(n){return()=>n.scrollStrategies.block()}};let P$=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=u,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new kt.x,this._afterOpenedAtThisLevel=new kt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Ox(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Wr(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function F$(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new Mg),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),u=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),o._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new p1({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Mg,useValue:i}]}),u=new Ix(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,r,o){const u=new this._dialogRefConstructor(r,i,o.id);if(e instanceof s.Rgc)i.attachTemplatePortal(new d1(e,null,{$implicit:o.data,dialogRef:u}));else{const h=this._createInjector(o,u,i),_=i.attachComponentPortal(new Ix(e,o.viewContainerRef,h,o.componentFactoryResolver));u.componentInstance=_.instance}return u.updateSize(o.width,o.height).updatePosition(o.position),u}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(Kd,null,s.XFs.Optional))&&u.push({provide:Kd,useValue:{value:e.direction,change:nt()}}),s.zs3.create({parent:o||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n}),n})(),oC=(()=>{class n extends P${constructor(e,i,r,o,u,h,_,w){super(e,i,o,h,_,u,c2,I$,d2,w)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Du),s.LFG(s.zs3),s.LFG(et,8),s.LFG(k$,8),s.LFG(h2),s.LFG(n,12),s.LFG(m1),s.LFG(ga,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),N$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),L$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})(),f2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[oC,O$],imports:[[Gw,Ax,Nt],Nt]}),n})(),V$=(()=>{class n{constructor(){}ngOnInit(){}goTopOfPage(){window.scroll({top:0,left:0,behavior:"smooth"})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:23,vars:0,consts:[[1,"container-fluid","vh-10","bg-primary"],[1,"row","align-items-center"],[1,"col-md-4","footht","text-center"],["routerLink","/"],["src","../../../assets/econ.png","alt","Ft-Logo",1,"ft-logo","rounded","shadow"],[1,"col-md-4","text-center"],[1,"row","inblock"],["href","https://facebook.com/","target","_blank",1,"text-secondary","social","text-decoration-none"],[1,"bi","bi-facebook"],["href","https://www.youtube.com/channel/UCrLto6D2j-23YrIb3wrp_kA","target","_blank",1,"text-secondary","social","text-decoration-none"],[1,"bi","bi-youtube"],["href","https://instagram.com/","target","_blank",1,"text-secondary","social","text-decoration-none"],[1,"bi","bi-instagram"],["href","https://open.spotify.com/show/0v51nnk1ZJRcbDyvCk7z00?si=rsvXP8rDRhi7C2A9DkfkXQ/","target","_blank",1,"text-secondary","social","text-decoration-none"],[1,"bi","bi-spotify"],["href","https://podcasts.apple.com/in/podcast/e-d-chelladurai/id1631126284","target","_blank",1,"text-secondary","social","text-decoration-none"],[1,"bi","bi-apple"],[1,"row","mt-md-2","mb-2"],[1,"copy"],["type","button",1,"btn","btn-secondary","topofpage",3,"click"],[1,"bi","bi-arrow-up-circle-fill"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"a",3),s._UZ(4,"img",4),s.qZA(),s.qZA(),s.TgZ(5,"div",5),s.TgZ(6,"div",6),s.TgZ(7,"a",7),s._UZ(8,"i",8),s.qZA(),s.TgZ(9,"a",9),s._UZ(10,"i",10),s.qZA(),s.TgZ(11,"a",11),s._UZ(12,"i",12),s.qZA(),s.TgZ(13,"a",13),s._UZ(14,"i",14),s.qZA(),s.TgZ(15,"a",15),s._UZ(16,"i",16),s.qZA(),s.qZA(),s.TgZ(17,"div",17),s.TgZ(18,"p",18),s._uU(19,"\xa9 edchelladurai.com 2022"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",5),s.TgZ(21,"button",19),s.NdJ("click",function(){return i.goTopOfPage()}),s._UZ(22,"i",20),s.qZA(),s.qZA(),s.qZA(),s.qZA())},directives:[Gv],styles:[".ft-logo[_ngcontent-%COMP%]{width:8vw;display:inline-block}.footht[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}.copy[_ngcontent-%COMP%]{font-size:.7rem;margin-bottom:0}.inblock[_ngcontent-%COMP%]{display:inline-block;font-size:1.6rem;margin-top:2rem}.topofpage[_ngcontent-%COMP%]{border-radius:50%;border:none}@media (max-width: 900px){.ft-logo[_ngcontent-%COMP%]{width:15vw}.footht[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:0}.topofpage[_ngcontent-%COMP%]{margin-bottom:1rem}}"]}),n})(),B$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&(s._UZ(0,"router-outlet"),s._UZ(1,"app-footer"))},directives:[R1,V$],styles:[""]}),n})(),U$=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Pa,16))},n.\u0275pipe=s.Yjl({name:"safe",type:n,pure:!0}),n})(),eM=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.yturl="https://www.youtube.com/embed/",this.vidUrl=""}ngOnInit(){this.vidUrl=this.yturl+this.data}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(c2),s.Y36(d2))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-video-dialog"]],decls:6,vars:3,consts:[["mat-dialog-content",""],[1,"ifram",3,"src"],["mat-dialog-actions",""],["mat-button","",1,"video-button",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"iframe",1),s.ALo(2,"safe"),s.qZA(),s.TgZ(3,"div",2),s.TgZ(4,"button",3),s.NdJ("click",function(){return i.onNoClick()}),s._uU(5,"Close"),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("src",s.lcZ(2,1,i.vidUrl),s.uOi))},directives:[N$,L$,sc],pipes:[U$],styles:[".video-button[_ngcontent-%COMP%]{background-color:#569671e6;color:#fff}.mat-dialog-content[_ngcontent-%COMP%]{width:60vw;height:30vw}.ifram[_ngcontent-%COMP%]{width:100%;height:100%}@media (max-width: 900px){.mat-dialog-content[_ngcontent-%COMP%]{width:80vw}}"]}),n})();function H$(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function j$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function Z$(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Thumbnail"),s.qZA())}function q$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"img",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.qZA(),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("src",e.thumbnail,s.LSH)}}function G$(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Title"),s.qZA())}function z$(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function $$(n,t){1&n&&(s.TgZ(0,"th",23),s._uU(1,"Play"),s.qZA())}function Y$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"volume_up"),s.qZA(),s.qZA(),s.qZA()}}function W$(n,t){1&n&&s._UZ(0,"tr",25)}const K$=function(n){return{gray:n}};function Q$(n,t){1&n&&s._UZ(0,"tr",26),2&n&&s.Q6J("ngClass",s.VKq(1,K$,t.even))}const J$=function(){return[5,10,20]};let X$=(()=>{class n{constructor(e,i){this.fileService=e,this.dialog=i,this.heading="Video Sermons",this.columnsToDisplay=["thumbnail","title","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadVideos()}reloadVideos(){this.loading=!0,this.fileService.loadVideos().pipe(co(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new eh(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}playVideo(e){const i=new Mg;i.autoFocus=!0,i.data=e.videoId,this.dialog.open(eM,i).afterClosed().subscribe(()=>{this.onSearchClear()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uo),s.Y36(oC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-videos"]],viewQuery:function(e,i){if(1&e&&(s.Gf(ns,5),s.Gf(Br,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:22,vars:10,consts:[[3,"heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","thumbnail"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["alt","video",3,"src","click"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,H$,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,j$,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,Z$,2,0,"th",10),s.YNc(12,q$,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,G$,2,0,"th",10),s.YNc(15,z$,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,$$,2,0,"th",14),s.YNc(18,Y$,4,0,"td",11),s.BQk(),s.YNc(19,W$,1,0,"tr",15),s.YNc(20,Q$,1,3,"tr",16),s.qZA(),s._UZ(21,"mat-paginator",17),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(9,J$))("pageSize",10))},directives:[Ns,Ls,Zt,os,oc,oh,nr,kr,Ks,sc,th,ah,yu,ns,nc,tc,ic,vg,ec,rc,vu,wu,bu,Cu,mi,Br],styles:["img[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{height:clamp(1.5rem,5vw,3rem)}.mat-column-title[_ngcontent-%COMP%], .mat-column-thumbnail[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{font-size:clamp(.5rem,1vw,2rem)}.search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}"]}),n})();const e5=["*",[["mat-card-footer"]]],t5=["*","mat-card-footer"];let p2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),m2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),n5=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),g2=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ga,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:t5,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(e5),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),_2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt],Nt]}),n})(),r5=(()=>{class n{constructor(){this.heading="contact information",this.verse="In the beginning was the Word, and the Word was with God, and the Word was God."}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-contact"]],decls:22,vars:2,consts:[[3,"title","heading"],[1,"container","cont"],[1,"cont-details"],[1,"card-details","text-center","shadow"],[1,"bi","bi-person-lines-fill"],[1,"bi","bi-telephone-fill"],[1,"bi","bi-envelope-fill"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.TgZ(4,"mat-card",3),s.TgZ(5,"mat-card-subtitle"),s._uU(6,"ADDRESS"),s.qZA(),s.TgZ(7,"mat-card-content"),s._UZ(8,"i",4),s._uU(9," ------------------------------------------ ------------------------------------------ "),s.qZA(),s.qZA(),s.TgZ(10,"mat-card",3),s.TgZ(11,"mat-card-subtitle"),s._uU(12,"MOBILE"),s.qZA(),s.TgZ(13,"mat-card-content"),s._UZ(14,"i",5),s._uU(15," +91 94488 49211 "),s.qZA(),s.qZA(),s.TgZ(16,"mat-card",3),s.TgZ(17,"mat-card-subtitle"),s._uU(18,"EMAIL"),s.qZA(),s.TgZ(19,"mat-card-content"),s._UZ(20,"i",6),s._uU(21," edchelladurai@gmail.com "),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("title",i.verse)("heading",i.heading))},directives:[Ns,Ls,g2,m2,p2],styles:[".cont[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:95vw}.cont-details[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;margin:auto;margin-top:2rem}.card-details[_ngcontent-%COMP%]{width:100%;margin-bottom:2rem}.map[_ngcontent-%COMP%]{margin:auto;margin-bottom:2rem}.map-card[_ngcontent-%COMP%]{background-color:#ddd}"]}),n})();function s5(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function o5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function a5(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Speaker"),s.qZA())}function l5(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.speaker)}}function c5(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Title"),s.qZA())}function u5(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function d5(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1,"Play"),s.qZA())}function h5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",23),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"ondemand_video"),s.qZA(),s.qZA(),s.qZA()}}function f5(n,t){1&n&&s._UZ(0,"tr",24)}const p5=function(n){return{gray:n}};function m5(n,t){1&n&&s._UZ(0,"tr",25),2&n&&s.Q6J("ngClass",s.VKq(1,p5,t.even))}const g5=function(){return[5,10,20]};let _5=(()=>{class n{constructor(e,i){this.fileService=e,this.dialog=i,this.heading="Video Messages from other servants of God",this.columnsToDisplay=["speaker","title","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadMessages()}reloadMessages(){this.loading=!0,this.fileService.loadMessages().pipe(co(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new eh(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}playVideo(e){const i=e.videoUrl,r=i.substring(i.indexOf("=")+1),o=new Mg;o.autoFocus=!0,o.data=r,this.dialog.open(eM,o).afterClosed().subscribe(()=>{this.onSearchClear()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uo),s.Y36(oC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-resources"]],viewQuery:function(e,i){if(1&e&&(s.Gf(ns,5),s.Gf(Br,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:22,vars:10,consts:[[3,"heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","speaker"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,s5,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,o5,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,a5,2,0,"th",10),s.YNc(12,l5,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,c5,2,0,"th",10),s.YNc(15,u5,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,d5,2,0,"th",14),s.YNc(18,h5,4,0,"td",11),s.BQk(),s.YNc(19,f5,1,0,"tr",15),s.YNc(20,m5,1,3,"tr",16),s.qZA(),s._UZ(21,"mat-paginator",17),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(9,g5))("pageSize",10))},directives:[Ns,Ls,Zt,os,oc,oh,nr,kr,Ks,sc,th,ah,yu,ns,nc,tc,ic,vg,ec,rc,vu,wu,bu,Cu,mi,Br],styles:["img[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{height:clamp(1.5rem,5vw,3rem)}.mat-column-title[_ngcontent-%COMP%], .mat-column-thumbnail[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{font-size:clamp(.5rem,1vw,2rem)}.search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}"]}),n})(),y5=(()=>{class n{constructor(){this.heading="about e d chelladurai"}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-about"]],decls:26,vars:1,consts:[[3,"heading"],[1,"container"],[1,"row","p-5"],[1,"col-lg-4","pe-3","pb-2","text-center"],["href","#"],["src","https://via.placeholder.com/400x500?text='photo of EDC'","alt","placeholder","width","70%"],[1,"col-lg-8","about-text"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.TgZ(4,"div",3),s.TgZ(5,"a",4),s._UZ(6,"img",5),s.qZA(),s.qZA(),s.TgZ(7,"div",6),s.TgZ(8,"p"),s._uU(9," E D Chelladurai was born on October 19th, 1951 in Bengaluru . After school, he went on to complete his graduation in Science and has always been a seeker after truth. In the year 1973, he received a copy of the New Testament and on reading its pages, he came to believe in the Lord Jesus Christ as his personal Saviour. He soon joined the Operation Mobilisation Evangelical team and served for 12 years without any remuneration. He led teams and travelled to the villages of Karnataka and Uttar Pradesh to do pioneering evangelism. He later spent some time on the ship Logos as a volunteer. While sailing to over 10 different countries, he received on-the-job training, and was privileged to have George Verwer and Patrick Johnstone visiting them on board. He also had Jordan Khan as his cabin mate. "),s._UZ(10,"br"),s._UZ(11,"br"),s._uU(12," He was greatly inspired by the life and contact of Bakth Singh. He had the privilege of helping DGS Dinakaran, R Stanley, Chris Panos, Ralph Mohaney, Zacharias Tanee Fomum, Dr Sam Kamaleson, Darlene Zschech, Dr Robert Cunville, Dr Sam Chelladurai and many others as Kannada language interpreter in public crusades and TV channels."),s._UZ(13,"br"),s._UZ(14,"br"),s._uU(15," His Scientist friend Dr. Ashirvadam made a lasting impact on his understanding of the Holy Scriptures, which was a great influence in strengthening his knowledge and faith in the Word of God. Another enriching experience he had was the time he spent in Biblica \u2013 The International Bible Society. He spent about 30 years in Bible translation work under the leadership of Dr PLN Murthy and Dr Aldrin Bogi. This sharpened his skills in rightly handling the Word of God. "),s._UZ(16,"br"),s._UZ(17,"br"),s._uU(18," Having graduated in Biblical Languages in Gospel Mission and under Dr RaviKumar Nitturu, he is currently engaged in leading a dedicated team in publishing the Our Bible versions in English, Kannada, Tamil and Telugu. He has spoken on TV channels such as Big J TV and New Hope TV, teaching a series of around 1500 studies from Genesis to Revelation. His greatest passion is to be a blessing to the world by giving them the Word of God. He gratefully acknowledges Zac Poonen as his mentor and spiritual father. "),s._UZ(19,"br"),s._UZ(20,"br"),s._uU(21," His family consists of his wife, two daughters and their families and includes one grandson, Jaden. His brother Kumarswamy is the Bishop of the Good Shepherd churches. "),s._UZ(22,"br"),s._UZ(23,"br"),s._uU(24," He also pastors an independent church in Bengaluru. "),s._UZ(25,"br"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading))},directives:[Ns,Ls],styles:["p[_ngcontent-%COMP%]{font-size:.8rem}.about-text[_ngcontent-%COMP%]{padding:.5vw 1vw}"]}),n})(),v5=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],decls:127,vars:0,consts:[[1,"homepic","shadow"],[1,"container","topnav"],[1,"topnav","navbar","navbar-expand-md","navbar-dark","pt-0","pb-1"],["routerLink","/",1,"navbar-brand"],["src","../../../assets/econ.png","alt","Logo",1,"hd-logo","mt-2","rounded"],["type","button","data-bs-toggle","collapse","data-bs-target","#navmenu",1,"navbar-toggler"],[1,"navbar-toggler-icon","toggler"],["id","navmenu",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item","px-2"],["routerLink","/about","routerLinkActive","active-link",1,"nav-link","text-secondary"],["routerLink","/videos","routerLinkActive","active-link",1,"nav-link","text-secondary"],[1,"nav-item","dropdown","px-2"],["data-bs-toggle","dropdown","routerLinkActive","active-link","type","button",1,"nav-link","text-secondary","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-dark","bg-primary","ddmenu"],["routerLink","/wordftd",1,"dropdown-item","text-decoration-none"],["routerLink","/wordftdv",1,"dropdown-item","text-decoration-none"],["data-bs-toggle","dropdown","routerLinkActive","active-link","type","button",1,"dropdown-item","text-decoration-none"],[1,"dropdown-menu","bg-primary","dropdown-submenu","ddmenu"],["routerLink","/wtbaudio",1,"dropdown-item","text-decoration-none"],["routerLink","/qanda",1,"dropdown-item","text-decoration-none"],["routerLink","/sermonaudio",1,"dropdown-item","text-decoration-none"],["routerLink","/messageaudio",1,"dropdown-item","text-decoration-none"],[1,"dropdown-menu","dropdown-menu-dark","bg-primary","dropdown-submenu"],["routerLink","/wtbvideo",1,"dropdown-item","text-decoration-none"],["routerLink","/videos",1,"dropdown-item","text-decoration-none"],["routerLink","/resources",1,"dropdown-item","text-decoration-none"],["routerLink","/books",1,"dropdown-item","text-decoration-none"],["routerLink","/songs",1,"dropdown-item","text-decoration-none"],["routerLink","/contact","routerLinkActive","active-link",1,"nav-link","text-secondary"],[1,"edcimg","mt-1"],["src","../../../assets/edclogo.png","alt","Logo",1,"mainlogo"],[1,"container","mb-5"],[1,"row","title"],[1,"col-12"],[1,"row","row-cols-1","row-cols-md-2","g-4"],[1,"col"],[1,"card","shadow","custcard","h-100"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["routerLink","wtbvideo",1,"btn","btn-primary","text-light"],["routerLink","wordftd",1,"btn","btn-primary","text-light"],["routerLink","books",1,"btn","btn-primary","text-light"],["routerLink","videos",1,"btn","btn-primary","text-light"],[1,"vh-10","px-3","px-md-5","py-4","home-cont","text-center"],[1,"text-dark","text-uppercase","p-3","mb-0"],[1,"text-dark","pb-2","px-md-4"],["routerLink","contact",1,"btn","btn-primary","text-light","px-xxl-4","shadow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"nav",2),s.TgZ(3,"div",1),s.TgZ(4,"a",3),s._UZ(5,"img",4),s.qZA(),s.TgZ(6,"button",5),s._UZ(7,"span",6),s.qZA(),s.TgZ(8,"div",7),s.TgZ(9,"ul",8),s.TgZ(10,"li",9),s.TgZ(11,"a",10),s._uU(12,"About"),s.qZA(),s.qZA(),s.TgZ(13,"li",9),s.TgZ(14,"a",11),s._uU(15,"Messages"),s.qZA(),s.qZA(),s.TgZ(16,"li",12),s.TgZ(17,"a",13),s._uU(18,"Daily Word"),s.qZA(),s.TgZ(19,"ul",14),s.TgZ(20,"li"),s.TgZ(21,"a",15),s._uU(22,"Audio / Text"),s.qZA(),s.qZA(),s.TgZ(23,"li"),s.TgZ(24,"a",16),s._uU(25,"Video"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"li",12),s.TgZ(27,"a",13),s._uU(28,"Resources"),s.qZA(),s.TgZ(29,"ul",14),s.TgZ(30,"li"),s.TgZ(31,"a",17),s._uU(32,"Audio \xbb"),s.qZA(),s.TgZ(33,"ul",18),s.TgZ(34,"li"),s.TgZ(35,"a",19),s._uU(36,"With the Bible"),s.qZA(),s.qZA(),s.TgZ(37,"li"),s.TgZ(38,"a",15),s._uU(39,"Daily Word"),s.qZA(),s.qZA(),s.TgZ(40,"li"),s.TgZ(41,"a",20),s._uU(42,"Q and A"),s.qZA(),s.qZA(),s.TgZ(43,"li"),s.TgZ(44,"a",21),s._uU(45,"Sermons"),s.qZA(),s.qZA(),s.TgZ(46,"li"),s.TgZ(47,"a",22),s._uU(48,"Other's Messages"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(49,"li"),s.TgZ(50,"a",17),s._uU(51,"Video \xbb"),s.qZA(),s.TgZ(52,"ul",23),s.TgZ(53,"li"),s.TgZ(54,"a",24),s._uU(55,"With the Bible"),s.qZA(),s.qZA(),s.TgZ(56,"li"),s.TgZ(57,"a",16),s._uU(58,"Daily Word"),s.qZA(),s.qZA(),s.TgZ(59,"li"),s.TgZ(60,"a",25),s._uU(61,"Sermons"),s.qZA(),s.qZA(),s.TgZ(62,"li"),s.TgZ(63,"a",26),s._uU(64,"Other's Messages"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(65,"li"),s.TgZ(66,"a",27),s._uU(67,"Books"),s.qZA(),s.qZA(),s.TgZ(68,"li"),s.TgZ(69,"a",28),s._uU(70,"Songs"),s.qZA(),s.qZA(),s.TgZ(71,"li"),s.TgZ(72,"a",20),s._uU(73,"Q and A"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(74,"li",9),s.TgZ(75,"a",29),s._uU(76,"Contact"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(77,"div",30),s._UZ(78,"img",31),s.qZA(),s.qZA(),s.TgZ(79,"main",32),s.TgZ(80,"div",33),s.TgZ(81,"div",34),s._uU(82,"Highlights"),s.qZA(),s.qZA(),s.TgZ(83,"div",35),s.TgZ(84,"div",36),s.TgZ(85,"div",37),s.TgZ(86,"div",38),s.TgZ(87,"h5",39),s._uU(88,"Genesis to Revelation"),s.qZA(),s.TgZ(89,"p",40),s._uU(90," This is a series of studies that covers Chapter by Chapter study of the Bible, covering the subject matter in about 30 minutes highlighting the focus in the chapter and its practical application. There are\xa0 altogether 1189 chapters. Some chapters like chapter 119 is lengthy, and hence the study is sometimes divided into more than one study in a chapter for clarity. "),s.qZA(),s.TgZ(91,"a",41),s._uU(92,"Learn more..."),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(93,"div",36),s.TgZ(94,"div",37),s.TgZ(95,"div",38),s.TgZ(96,"h5",39),s._uU(97,"Word for the day"),s.qZA(),s.TgZ(98,"p",40),s._uU(99," This is a series of meditations from the Bible, one for each day of the year. Each day's meditation is presented as seven points to make it easier for the reader to remember and thereby apply to his/her life during the course of a day. "),s.qZA(),s.TgZ(100,"a",42),s._uU(101,"Learn more..."),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(102,"div",36),s.TgZ(103,"div",37),s.TgZ(104,"div",38),s.TgZ(105,"h5",39),s._uU(106,"Resources - Books"),s.qZA(),s.TgZ(107,"p",40),s._uU(108," A group of 40 Authors collectively authored these 100 Word Centered Books in a simple format to bless readers around the globe for the Glory of God! It is available for free download. Primarily in English but few other languages like Kannada, Tamil, and Hindi. New Books will be added as and when it is ready. "),s.qZA(),s.TgZ(109,"a",43),s._uU(110,"Learn more..."),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(111,"div",36),s.TgZ(112,"div",37),s.TgZ(113,"div",38),s.TgZ(114,"h5",39),s._uU(115,"Sermon Videos"),s.qZA(),s.TgZ(116,"p",40),s._uU(117," Collection of Sermons based on the Word of God and suitable for various seasons. These were shared on television programs, in churches and in the Humility Bible School. These were presented directly in obedience to the Lord Jesus who said, \u201cMake Disciples of All nations, and Teaching them to Obey Everything I have Commanded you.\u201d Mathew 28:19,20. "),s.qZA(),s.TgZ(118,"a",44),s._uU(119,"Learn more..."),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(120,"div",45),s.TgZ(121,"h4",46),s._uU(122,"Get in touch with us"),s.qZA(),s.TgZ(123,"p",47),s._uU(124," If you would like to have more information or would simply like to communicate with us, please click on the button below to see contact details. Alternately, you could connect with us on social media using the links below. "),s.qZA(),s.TgZ(125,"a",48),s._uU(126,"Contact us"),s.qZA(),s.qZA())},directives:[Gv,V1],styles:[".homepic[_ngcontent-%COMP%]{height:60vh;background-image:linear-gradient(to bottom,rgba(86,150,113,.9),rgba(86,150,113,.8)),url(homepic.75a94ad83156d54d.jpg);background-size:cover;background-position:center}.title[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase;padding:3rem;font-size:1.5rem;font-weight:500;margin:auto}.custcard[_ngcontent-%COMP%]{background-color:#eeeeeeb3;padding:1rem}.custcard[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.custcard[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .custcard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.8rem}.home-cont[_ngcontent-%COMP%]{background-color:#fdedaf;align-items:center}.home-cont[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;font-style:italic;font-weight:500}.home-cont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.8rem;margin:auto}.hd-logo[_ngcontent-%COMP%]{width:6vw;display:inline-block}#navmenu[_ngcontent-%COMP%]{font-size:.9rem}#navmenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.active-link[_ngcontent-%COMP%]{font-weight:700}.edcimg[_ngcontent-%COMP%]{display:flex;justify-content:center}.mainlogo[_ngcontent-%COMP%]{width:60vw}.ddmenu[_ngcontent-%COMP%]{font-size:.9rem}.navbar-toggler[_ngcontent-%COMP%]{font-size:3vw;background-color:#569671}@media (max-width: 900px){.homepic[_ngcontent-%COMP%]{height:35vh}.mainlogo[_ngcontent-%COMP%]{width:80vw}.title[_ngcontent-%COMP%]{padding:1.5rem}.hd-logo[_ngcontent-%COMP%]{width:10vw}.home-cont[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.toggler[_ngcontent-%COMP%]{width:25px}#navmenu[_ngcontent-%COMP%]{background-color:#569671;z-index:99}}"]}),n})();function b5(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function w5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function C5(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Thumbnail"),s.qZA())}function D5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"img",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.qZA(),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("src",e.thumbnail,s.LSH)}}function E5(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Title"),s.qZA())}function T5(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function x5(n,t){1&n&&(s.TgZ(0,"th",23),s._uU(1,"Play"),s.qZA())}function M5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"ondemand_video"),s.qZA(),s.qZA(),s.qZA()}}function S5(n,t){1&n&&s._UZ(0,"tr",25)}const I5=function(n){return{gray:n}};function A5(n,t){1&n&&s._UZ(0,"tr",26),2&n&&s.Q6J("ngClass",s.VKq(1,I5,t.even))}const k5=function(){return[5,10,20]};let R5=(()=>{class n{constructor(e,i){this.fileService=e,this.dialog=i,this.heading="Daily Word - Video",this.verse="In the beginning was the Word, and the Word was with God, and the Word was God.",this.columnsToDisplay=["thumbnail","title","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadVideos()}reloadVideos(){this.loading=!0,this.fileService.loadVideos().pipe(co(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new eh(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}playVideo(e){const i=new Mg;i.autoFocus=!0,i.data=e.videoId,this.dialog.open(eM,i).afterClosed().subscribe(()=>{this.onSearchClear()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uo),s.Y36(oC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-wordftdv"]],viewQuery:function(e,i){if(1&e&&(s.Gf(ns,5),s.Gf(Br,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:22,vars:11,consts:[[3,"title","heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","thumbnail"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["alt","video",3,"src","click"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,b5,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,w5,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,C5,2,0,"th",10),s.YNc(12,D5,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,E5,2,0,"th",10),s.YNc(15,T5,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,x5,2,0,"th",14),s.YNc(18,M5,4,0,"td",11),s.BQk(),s.YNc(19,S5,1,0,"tr",15),s.YNc(20,A5,1,3,"tr",16),s.qZA(),s._UZ(21,"mat-paginator",17),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("title",i.verse)("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(10,k5))("pageSize",10))},directives:[Ns,Ls,Zt,os,oc,oh,nr,kr,Ks,sc,th,ah,yu,ns,nc,tc,ic,vg,ec,rc,vu,wu,bu,Cu,mi,Br],styles:["img[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{height:clamp(1.5rem,5vw,3rem)}.mat-column-title[_ngcontent-%COMP%], .mat-column-thumbnail[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{font-size:clamp(.5rem,1vw,2rem)}.search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}"]}),n})();const y2=["*"];class P5{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new F5(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class F5{constructor(t,e){this.row=t,this.col=e}}const v2=new s.OlP("MAT_GRID_LIST");let b2=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(lo(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(lo(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(v2,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&s.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:y2,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),n})();const N5=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class q1{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=w2(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":Sg(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,r,o),this.setRowStyles(t,e,r,o)}setColStyles(t,e,i,r){let o=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),t._setStyle("width",Sg(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class L5 extends q1{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=w2(this.fixedRowHeight),N5.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Sg(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Sg(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class V5 extends q1{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Sg(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Sg(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class B5 extends q1{setRowStyles(t,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",Sg(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Sg(n){return`calc(${n})`}function w2(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let H5=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(lo(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${null==e?"":e}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new B5:e&&e.indexOf(":")>-1?new V5(e):new L5(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new P5);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((o,u)=>{const h=e.positions[u];this._tileStyler.setStyle(o,h.row,h.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Kd,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,b2,5),2&e){let o;s.iGM(o=s.CRH())&&(i._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[s._Bn([{provide:v2,useExisting:n}])],ngContentSelectors:y2,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div"),s.Hsn(1),s.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),n})(),C2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[px,Nt],px,Nt]}),n})();function j5(n,t){if(1&n&&(s.TgZ(0,"mat-grid-tile"),s.TgZ(1,"a",4),s._UZ(2,"img",5),s.qZA(),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("href",e.filepath,s.LSH),s.xp6(1),s.Q6J("src",e.thumbpath,s.LSH)}}let Z5=(()=>{class n{constructor(e){this.fileService=e,this.heading="Books",this.books=[],this.loading=!1}ngOnInit(){this.loading=!0,this.fileService.loadBookpdfs().pipe(co(()=>this.loading=!1)).subscribe(e=>{this.books=e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-books"]],decls:5,vars:2,consts:[[3,"heading"],[1,"booklist"],["cols","5","rowHeight","1:2","gutterSize","10px"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],["alt","Book",2,"width","100%","height","100%","object-fit","cover",3,"src"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"mat-grid-list",2),s.YNc(4,j5,3,2,"mat-grid-tile",3),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(3),s.Q6J("ngForOf",i.books))},directives:[Ns,Ls,H5,In,b2],styles:[".booklist[_ngcontent-%COMP%]{margin:0 3rem 2rem;min-height:60vh}@media (max-width: 900px){.booklist[_ngcontent-%COMP%]{margin:1rem}}"]}),n})();function q5(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function G5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function z5(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Number"),s.qZA())}function $5(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.serialno)}}function Y5(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Question"),s.qZA())}function W5(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.question)}}function K5(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1,"View"),s.qZA())}function Q5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",23),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().viewQanda(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"arrow_forward"),s.qZA(),s.qZA(),s.qZA()}}function J5(n,t){1&n&&s._UZ(0,"tr",24)}const X5=function(n){return{gray:n}};function e4(n,t){1&n&&s._UZ(0,"tr",25),2&n&&s.Q6J("ngClass",s.VKq(1,X5,t.even))}const t4=function(){return[5,10,20]};let n4=(()=>{class n{constructor(e,i){this.fileService=e,this.router=i,this.heading="Questions and Answers",this.columnsToDisplay=["number","question","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadQandas()}reloadQandas(){this.loading=!0,this.fileService.loadQandas().pipe(co(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new eh(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}viewQanda(e){this.router.navigate(["/qanda",e.serialno])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uo),s.Y36(ss))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-qanda"]],viewQuery:function(e,i){if(1&e&&(s.Gf(ns,5),s.Gf(Br,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:22,vars:10,consts:[[3,"heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","number"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","question"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,q5,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,G5,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,z5,2,0,"th",10),s.YNc(12,$5,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,Y5,2,0,"th",10),s.YNc(15,W5,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,K5,2,0,"th",14),s.YNc(18,Q5,4,0,"td",11),s.BQk(),s.YNc(19,J5,1,0,"tr",15),s.YNc(20,e4,1,3,"tr",16),s.qZA(),s._UZ(21,"mat-paginator",17),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(9,t4))("pageSize",10))},directives:[Ns,Ls,Zt,os,oc,oh,nr,kr,Ks,sc,th,ah,yu,ns,nc,tc,ic,vg,ec,rc,vu,wu,bu,Cu,mi,Br],styles:[".search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}"]}),n})();function r4(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function s4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function o4(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Thumbnail"),s.qZA())}function a4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"img",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.qZA(),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("src",e.thumbnail,s.LSH)}}function l4(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Title"),s.qZA())}function c4(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function u4(n,t){1&n&&(s.TgZ(0,"th",23),s._uU(1,"Play"),s.qZA())}function d4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"ondemand_video"),s.qZA(),s.qZA(),s.qZA()}}function h4(n,t){1&n&&s._UZ(0,"tr",25)}const f4=function(n){return{gray:n}};function p4(n,t){1&n&&s._UZ(0,"tr",26),2&n&&s.Q6J("ngClass",s.VKq(1,f4,t.even))}const m4=function(){return[5,10,20]};let g4=(()=>{class n{constructor(e,i){this.fileService=e,this.dialog=i,this.heading="With the Bible - Videos",this.verse="In the beginning was the Word, and the Word was with God, and the Word was God.",this.columnsToDisplay=["thumbnail","title","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadVideos()}reloadVideos(){this.loading=!0,this.fileService.loadVideos().pipe(co(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new eh(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}playVideo(e){const i=new Mg;i.autoFocus=!0,i.data=e.videoId,this.dialog.open(eM,i).afterClosed().subscribe(()=>{this.onSearchClear()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uo),s.Y36(oC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-wtbvideo"]],viewQuery:function(e,i){if(1&e&&(s.Gf(ns,5),s.Gf(Br,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:22,vars:11,consts:[[3,"title","heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","thumbnail"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["alt","video",3,"src","click"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,r4,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,s4,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,o4,2,0,"th",10),s.YNc(12,a4,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,l4,2,0,"th",10),s.YNc(15,c4,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,u4,2,0,"th",14),s.YNc(18,d4,4,0,"td",11),s.BQk(),s.YNc(19,h4,1,0,"tr",15),s.YNc(20,p4,1,3,"tr",16),s.qZA(),s._UZ(21,"mat-paginator",17),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("title",i.verse)("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(10,m4))("pageSize",10))},directives:[Ns,Ls,Zt,os,oc,oh,nr,kr,Ks,sc,th,ah,yu,ns,nc,tc,ic,vg,ec,rc,vu,wu,bu,Cu,mi,Br],styles:["img[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{height:clamp(1.5rem,5vw,3rem)}.mat-column-title[_ngcontent-%COMP%], .mat-column-thumbnail[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{font-size:clamp(.5rem,1vw,2rem)}.search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}"]}),n})();function _4(n,t){if(1&n&&(s.TgZ(0,"mat-option",13),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.cat),s.xp6(1),s.hij(" ",e.name," ")}}function y4(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Testament is mandatory!"),s.qZA())}function v4(n,t){if(1&n&&(s.TgZ(0,"mat-option",13),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.book),s.xp6(1),s.hij(" ",e.book," ")}}function b4(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Book is mandatory!"),s.qZA())}function w4(n,t){if(1&n&&(s.TgZ(0,"mat-option",13),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.name),s.xp6(1),s.hij(" ",e.name," ")}}function C4(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Chapter is mandatory!"),s.qZA())}function D4(n,t){if(1&n&&(s.TgZ(0,"div",14),s._UZ(1,"audio",15),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("src",e.playingTrack.path,s.LSH)}}let E4=(()=>{class n{constructor(e){this.fileService=e,this.heading="With the Bible - Audio (Kannada)",this.verse="In the beginning was the Word, and the Word was with God, and the Word was God.",this.tracks=[],this.bibook="Genesis",this.cat="old",this.testaments=[{cat:"old",name:"Old Testament"},{cat:"new",name:"New Testament"}],this.currentTrack=!1,this.activeTrack=!1,this.testaSubscription=new Xr.w0,this.bookSubscription=new Xr.w0,this.form=new qh({testament:new Wu("old",{updateOn:"blur",validators:ir.required}),book:new Wu("",{updateOn:"blur",validators:ir.required}),track:new Wu("",{updateOn:"blur",validators:ir.required})})}ngOnInit(){this.books$=this.fileService.loadBooks(this.cat),this.getTracks(),this.onChangeTestament(),this.onChangeBook()}getTracks(){this.fileService.loadTracks(this.bibook).pipe((0,wr.q)(1)).subscribe(e=>{this.tracks=e})}onChangeTestament(){this.testaSubscription=this.form.get("testament").valueChanges.subscribe(e=>{this.cat=e,this.books$=this.fileService.loadBooks(this.cat),this.form.controls.track.setValue(null)})}onChangeBook(){this.bookSubscription=this.form.get("book").valueChanges.subscribe(e=>{this.bibook=e,this.getTracks(),this.currentTrack=!1})}onSelectTrack(){this.currentTrack=!0}playTrack(){this.activeTrack=!0;const e=this.form.controls.track.value;this.playingTrack=this.tracks.find(({name:i})=>i===e)}ngOnDestroy(){this.testaSubscription&&this.testaSubscription.unsubscribe(),this.bookSubscription&&this.bookSubscription.unsubscribe()}get testa(){return this.form.controls.testament}get book(){return this.form.controls.book}get track(){return this.form.controls.track}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-wtbaudio"]],decls:31,vars:13,consts:[[3,"title","heading"],[1,"container","text-center","card-width"],[1,"mb-3"],[3,"formGroup"],["appearance","fill",1,"formgroup","mt-3"],["formControlName","testament"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","fill",1,"formgroup"],["formControlName","book"],["formControlName","track",3,"selectionChange"],["type","button",1,"btn","btn-primary","px-5",3,"disabled","click"],["class","container d-flex justify-content-center px-5 mb-5",4,"ngIf"],[3,"value"],[1,"container","d-flex","justify-content-center","px-5","mb-5"],["controls","","autoplay","",3,"src"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"mat-card"),s.TgZ(4,"mat-card-subtitle",2),s._uU(5,"Select Testament, Book & Chapter "),s.qZA(),s.TgZ(6,"mat-card-content"),s.TgZ(7,"form",3),s.TgZ(8,"mat-form-field",4),s.TgZ(9,"mat-label"),s._uU(10,"Testament"),s.qZA(),s.TgZ(11,"mat-select",5),s.YNc(12,_4,2,2,"mat-option",6),s.qZA(),s.YNc(13,y4,2,0,"mat-error",7),s.qZA(),s.TgZ(14,"mat-form-field",8),s.TgZ(15,"mat-label"),s._uU(16,"Book"),s.qZA(),s.TgZ(17,"mat-select",9),s.YNc(18,v4,2,2,"mat-option",6),s.ALo(19,"async"),s.qZA(),s.YNc(20,b4,2,0,"mat-error",7),s.qZA(),s.TgZ(21,"mat-form-field",8),s.TgZ(22,"mat-label"),s._uU(23,"Chapter"),s.qZA(),s.TgZ(24,"mat-select",10),s.NdJ("selectionChange",function(){return i.onSelectTrack()}),s.YNc(25,w4,2,2,"mat-option",6),s.qZA(),s.YNc(26,C4,2,0,"mat-error",7),s.qZA(),s.qZA(),s.qZA(),s.TgZ(27,"mat-card-actions"),s.TgZ(28,"button",11),s.NdJ("click",function(){return i.playTrack()}),s._uU(29," PLAY "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(30,D4,2,1,"div",12)),2&e&&(s.xp6(1),s.Q6J("title",i.verse)("heading",i.heading),s.xp6(6),s.Q6J("formGroup",i.form),s.xp6(5),s.Q6J("ngForOf",i.testaments),s.xp6(1),s.Q6J("ngIf",i.testa.invalid),s.xp6(5),s.Q6J("ngForOf",s.lcZ(19,11,i.books$)),s.xp6(2),s.Q6J("ngIf",i.book.invalid),s.xp6(5),s.Q6J("ngForOf",i.tracks),s.xp6(1),s.Q6J("ngIf",i.track.invalid),s.xp6(2),s.Q6J("disabled",!i.form.valid||!i.currentTrack),s.xp6(2),s.Q6J("ngIf",i.activeTrack))},directives:[Ns,Ls,g2,m2,p2,Ep,Hu,na,oc,g1,LN,kr,xs,In,Yk,Zt,gZ,n5],pipes:[cc],styles:[".formgroup[_ngcontent-%COMP%]{display:block;margin-left:1rem;margin-right:1rem}.card-width[_ngcontent-%COMP%]{width:60vw;margin-top:2rem;margin-bottom:2rem}@media (max-width: 900px){.card-width[_ngcontent-%COMP%]{width:92vw}.formgroup[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem}}"]}),n})(),G1=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Wt(e)}get inset(){return this._inset}set inset(e){this._inset=Wt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),z1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt],Nt]}),n})();function T4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().goPrevious()}),s._uU(1," Previous "),s._UZ(2,"i",8),s.qZA()}}function x4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().goNext()}),s._uU(1," Next "),s._UZ(2,"i",9),s.qZA()}}let M4=(()=>{class n{constructor(e,i){this.actRoute=e,this.fileService=i,this.heading="Daily Word - Audio & Text",this.sno="",this.dailyWords=[],this.wordftd={text:"",title:"",serialno:0},this.loading=!1,this.next=0,this.prev=0,this.nextAvailable=!0,this.prevAvailable=!0}ngOnInit(){this.sno=this.actRoute.snapshot.paramMap.get("serialno"),this.reloadDailyWord()}reloadDailyWord(){this.loading=!0,this.fileService.loadDailyWord().pipe(co(()=>this.loading=!1)).subscribe(e=>{this.dailyWords=e,this.wordftd=this.dailyWords.find(i=>i.serialno===parseInt(this.sno)),this.heading=`${this.wordftd.serialno} - ${this.wordftd.title}`,parseInt(this.sno)==this.dailyWords.length&&(this.nextAvailable=!1),1==parseInt(this.sno)&&(this.prevAvailable=!1)})}goPrevious(){let e=parseInt(this.sno)-1;1==e&&(this.prevAvailable=!1),e<this.dailyWords.length&&(this.nextAvailable=!0),this.sno=e.toString(),this.wordftd=this.dailyWords.find(i=>i.serialno===parseInt(this.sno)),this.heading=`${this.wordftd.serialno} - ${this.wordftd.title}`}goNext(){let e=parseInt(this.sno)+1;e==this.dailyWords.length&&(this.nextAvailable=!1),e>1&&(this.prevAvailable=!0),this.sno=e.toString(),this.wordftd=this.dailyWords.find(i=>i.serialno===parseInt(this.sno)),this.heading=`${this.wordftd.serialno} - ${this.wordftd.title}`}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(sh),s.Y36(uo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-wordftd-detail"]],decls:17,vars:4,consts:[[3,"heading"],[1,"container"],[1,"qa"],[3,"innerHTML"],[1,"d-flex","flex-row","justify-content-around"],[1,"col-md-6","text-center","d-inline"],["class","btn btn-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-arrow-left"],[1,"bi","bi-arrow-right"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s._UZ(2,"br"),s._UZ(3,"br"),s.TgZ(4,"div",1),s.TgZ(5,"div",2),s._UZ(6,"div",3),s.qZA(),s._UZ(7,"br"),s._UZ(8,"mat-divider"),s._UZ(9,"br"),s.TgZ(10,"div",4),s.TgZ(11,"div",5),s.YNc(12,T4,3,0,"button",6),s.qZA(),s.TgZ(13,"div",5),s.YNc(14,x4,3,0,"button",6),s.qZA(),s.qZA(),s._UZ(15,"br"),s._UZ(16,"br"),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(5),s.Q6J("innerHTML",i.wordftd.text,s.oJD),s.xp6(6),s.Q6J("ngIf",i.prevAvailable),s.xp6(2),s.Q6J("ngIf",i.nextAvailable))},directives:[Ns,Ls,G1,Zt],styles:["@media (max-width: 900px){.qa[_ngcontent-%COMP%]{padding-right:5vw;padding-left:5vw}}"]}),n})();function S4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().goPrevious()}),s._uU(1," Previous "),s._UZ(2,"i",8),s.qZA()}}function I4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().goNext()}),s._uU(1," Next "),s._UZ(2,"i",9),s.qZA()}}let A4=(()=>{class n{constructor(e,i){this.actRoute=e,this.fileService=i,this.heading="Questions & Answers",this.sno="",this.qandas=[],this.qanda={answer:"",question:"",serialno:0},this.loading=!1,this.next=0,this.prev=0,this.nextAvailable=!0,this.prevAvailable=!0}ngOnInit(){this.sno=this.actRoute.snapshot.paramMap.get("serialno"),this.reloadQandas()}reloadQandas(){this.loading=!0,this.fileService.loadQandas().pipe(co(()=>this.loading=!1)).subscribe(e=>{this.qandas=e,this.qanda=this.qandas.find(i=>i.serialno===parseInt(this.sno)),this.heading=`${this.qanda.serialno} - ${this.qanda.question}`,parseInt(this.sno)==this.qandas.length&&(this.nextAvailable=!1),1==parseInt(this.sno)&&(this.prevAvailable=!1)})}goPrevious(){let e=parseInt(this.sno)-1;1==e&&(this.prevAvailable=!1),e<this.qandas.length&&(this.nextAvailable=!0),this.sno=e.toString(),this.qanda=this.qandas.find(i=>i.serialno===parseInt(this.sno)),this.heading=`${this.qanda.serialno} - ${this.qanda.question}`}goNext(){let e=parseInt(this.sno)+1;e==this.qandas.length&&(this.nextAvailable=!1),e>1&&(this.prevAvailable=!0),this.sno=e.toString(),this.qanda=this.qandas.find(i=>i.serialno===parseInt(this.sno)),this.heading=`${this.qanda.serialno} - ${this.qanda.question}`}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(sh),s.Y36(uo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-qanda-detail"]],decls:18,vars:4,consts:[[3,"heading"],[1,"container"],[1,"qa"],[3,"innerHTML"],[1,"d-flex","flex-row","justify-content-around"],[1,"col-md-6","text-center","d-inline"],["class","btn btn-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-arrow-left"],[1,"bi","bi-arrow-right"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s._UZ(2,"br"),s._UZ(3,"br"),s.TgZ(4,"div",1),s.TgZ(5,"div",2),s._UZ(6,"div",3),s.qZA(),s._UZ(7,"br"),s._UZ(8,"br"),s._UZ(9,"mat-divider"),s._UZ(10,"br"),s.TgZ(11,"div",4),s.TgZ(12,"div",5),s.YNc(13,S4,3,0,"button",6),s.qZA(),s.TgZ(14,"div",5),s.YNc(15,I4,3,0,"button",6),s.qZA(),s.qZA(),s._UZ(16,"br"),s._UZ(17,"br"),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(5),s.Q6J("innerHTML",i.qanda.answer,s.oJD),s.xp6(7),s.Q6J("ngIf",i.prevAvailable),s.xp6(2),s.Q6J("ngIf",i.nextAvailable))},directives:[Ns,Ls,G1,Zt],styles:["@media (max-width: 900px){.qa[_ngcontent-%COMP%]{padding-right:5vw;padding-left:5vw}}"]}),n})();function k4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().goPrevious()}),s._uU(1," Previous "),s._UZ(2,"i",8),s.qZA()}}function R4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().goNext()}),s._uU(1," Next "),s._UZ(2,"i",9),s.qZA()}}let O4=(()=>{class n{constructor(e,i){this.actRoute=e,this.fileService=i,this.heading="Songs - Text",this.sno="",this.songs=[],this.song={text:"",title:"",serialno:0},this.loading=!1,this.next=0,this.prev=0,this.nextAvailable=!0,this.prevAvailable=!0}ngOnInit(){this.sno=this.actRoute.snapshot.paramMap.get("serialno"),this.reloadSongs()}reloadSongs(){this.loading=!0,this.fileService.loadSongs().pipe(co(()=>this.loading=!1)).subscribe(e=>{this.songs=e,this.song=this.songs.find(i=>i.serialno===parseInt(this.sno)),this.heading=`${this.song.serialno} - ${this.song.title}`,parseInt(this.sno)==this.songs.length&&(this.nextAvailable=!1),1==parseInt(this.sno)&&(this.prevAvailable=!1)})}goPrevious(){let e=parseInt(this.sno)-1;1==e&&(this.prevAvailable=!1),e<this.songs.length&&(this.nextAvailable=!0),this.sno=e.toString(),this.song=this.songs.find(i=>i.serialno===parseInt(this.sno)),this.heading=`${this.song.serialno} - ${this.song.title}`}goNext(){let e=parseInt(this.sno)+1;e==this.songs.length&&(this.nextAvailable=!1),e>1&&(this.prevAvailable=!0),this.sno=e.toString(),this.song=this.songs.find(i=>i.serialno===parseInt(this.sno)),this.heading=`${this.song.serialno} - ${this.song.title}`}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(sh),s.Y36(uo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-songs-detail"]],decls:18,vars:4,consts:[[3,"heading"],[1,"container"],[1,"qa","text-center"],[3,"innerHTML"],[1,"d-flex","flex-row","justify-content-around"],[1,"col-md-6","text-center","d-inline"],["class","btn btn-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-arrow-left"],[1,"bi","bi-arrow-right"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s._UZ(2,"br"),s._UZ(3,"br"),s.TgZ(4,"div",1),s.TgZ(5,"div",2),s._UZ(6,"div",3),s.qZA(),s._UZ(7,"br"),s._UZ(8,"br"),s._UZ(9,"mat-divider"),s._UZ(10,"br"),s.TgZ(11,"div",4),s.TgZ(12,"div",5),s.YNc(13,k4,3,0,"button",6),s.qZA(),s.TgZ(14,"div",5),s.YNc(15,R4,3,0,"button",6),s.qZA(),s.qZA(),s._UZ(16,"br"),s._UZ(17,"br"),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(5),s.Q6J("innerHTML",i.song.text,s.oJD),s.xp6(7),s.Q6J("ngIf",i.prevAvailable),s.xp6(2),s.Q6J("ngIf",i.nextAvailable))},directives:[Ns,Ls,G1,Zt],styles:["@media (max-width: 900px){.qa[_ngcontent-%COMP%]{padding-right:5vw;padding-left:5vw}}"]}),n})();function P4(n,t){1&n&&s._UZ(0,"mat-spinner",22),2&n&&s.Q6J("diameter",30)}function F4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function N4(n,t){1&n&&(s.TgZ(0,"th",24),s._uU(1,"Series"),s.qZA())}function L4(n,t){if(1&n&&(s.TgZ(0,"td",25),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.series)}}function V4(n,t){1&n&&(s.TgZ(0,"th",24),s._uU(1,"Title"),s.qZA())}function B4(n,t){if(1&n&&(s.TgZ(0,"td",25),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function U4(n,t){1&n&&(s.TgZ(0,"th",24),s._uU(1,"Play"),s.qZA())}function H4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",25),s.TgZ(1,"button",26),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playSermon(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"volume_up"),s.qZA(),s.qZA(),s.qZA()}}function j4(n,t){if(1&n&&(s.TgZ(0,"td",25),s.TgZ(1,"div",27),s.TgZ(2,"div",28),s._uU(3),s.qZA(),s.qZA(),s.qZA()),2&n){const e=t.$implicit,i=s.oxw();s.uIk("colspan",i.columnsToDisplay.length),s.xp6(1),s.Q6J("@detailExpand",e==i.expandedElement?"expanded":"collapsed"),s.xp6(2),s.hij(" ",e.description," ")}}function Z4(n,t){1&n&&s._UZ(0,"tr",29)}function q4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr",30),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return u.expandedElement=u.expandedElement===o?null:o}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.ekj("example-expanded-row",i.expandedElement===e)}}function G4(n,t){1&n&&s._UZ(0,"tr",31)}function z4(n,t){if(1&n&&(s.TgZ(0,"div",32),s._UZ(1,"audio",33),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("src",e.playingSermon.path,s.LSH)}}const $4=function(){return["expandedDetail"]},Y4=function(){return[5,10,20]};let W4=(()=>{class n{constructor(e,i){this.fileService=e,this.router=i,this.heading="Audio Sermons",this.columnsToDisplay=["series","title","actions"],this.loading=!1,this.searchKey="",this.currentSermon=!1,this.activeSermon=!1}ngOnInit(){this.reloadSermons()}reloadSermons(){this.loading=!0,this.fileService.loadSermons().pipe(co(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new eh(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}onSelectSermon(){this.currentSermon=!0}playSermon(e){this.activeSermon=!0,this.playingSermon=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uo),s.Y36(ss))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sermonaudio"]],viewQuery:function(e,i){if(1&e&&(s.Gf(ns,5),s.Gf(Br,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:29,vars:13,consts:[[3,"heading"],[1,"text-center"],[1,"fst-italic"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","series"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],["class","container d-flex justify-content-center px-5 mb-5",4,"ngIf"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],[1,"example-element-detail"],[1,"example-element-description"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"],[1,"container","d-flex","justify-content-center","px-5","mb-5"],["controls","","autoplay","",3,"src"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"p",2),s._uU(4," A brief description of each listed sermon, if available, can be seen by clicking on the row. "),s.qZA(),s.qZA(),s.TgZ(5,"div",3),s.TgZ(6,"div",4),s.YNc(7,P4,1,1,"mat-spinner",5),s.TgZ(8,"div",6),s.TgZ(9,"mat-form-field",7),s.TgZ(10,"input",8),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(11,F4,3,0,"button",9),s.qZA(),s.qZA(),s.TgZ(12,"table",10),s.ynx(13,11),s.YNc(14,N4,2,0,"th",12),s.YNc(15,L4,2,1,"td",13),s.BQk(),s.ynx(16,14),s.YNc(17,V4,2,0,"th",12),s.YNc(18,B4,2,1,"td",13),s.BQk(),s.ynx(19,15),s.YNc(20,U4,2,0,"th",12),s.YNc(21,H4,4,0,"td",13),s.BQk(),s.ynx(22,16),s.YNc(23,j4,4,3,"td",13),s.BQk(),s.YNc(24,Z4,1,0,"tr",17),s.YNc(25,q4,1,2,"tr",18),s.YNc(26,G4,1,0,"tr",19),s.qZA(),s._UZ(27,"mat-paginator",20),s.qZA(),s.YNc(28,z4,2,1,"div",21),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(6),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(12),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",s.DdM(11,$4)),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(12,Y4))("pageSize",5),s.xp6(1),s.Q6J("ngIf",i.activeSermon))},directives:[Ns,Ls,Zt,os,oc,oh,nr,kr,Ks,sc,th,ah,yu,nc,tc,ic,ec,rc,vu,wu,bu,Cu,Br],styles:[".search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}@media (max-width: 900px){.table[_ngcontent-%COMP%]{width:92vw}}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:whitesmoke}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-description[_ngcontent-%COMP%]{padding:16px}"],data:{animation:[ts("detailExpand",[On("collapsed",yt({height:"0px",minHeight:"0"})),On("expanded",yt({height:"*"})),Pn("expanded <=> collapsed",Kn("0.2s"))])]}}),n})();function K4(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function Q4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function J4(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Speaker"),s.qZA())}function X4(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.speaker)}}function e8(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Title"),s.qZA())}function t8(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function n8(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Play"),s.qZA())}function r8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playSermon(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"volume_up"),s.qZA(),s.qZA(),s.qZA()}}function s8(n,t){1&n&&s._UZ(0,"tr",23)}const o8=function(n){return{gray:n}};function a8(n,t){1&n&&s._UZ(0,"tr",24),2&n&&s.Q6J("ngClass",s.VKq(1,o8,t.even))}function l8(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"audio",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("src",e.playingSermon.path,s.LSH)}}const c8=function(){return[5,10,20]},u8=[{path:"",component:v5},{path:"about",component:y5},{path:"videos",component:X$},{path:"wordftd",component:T$},{path:"wordftd/:serialno",component:M4},{path:"wordftdv",component:R5},{path:"songs",component:h$},{path:"songs/:serialno",component:O4},{path:"wtbaudio",component:E4},{path:"sermonaudio",component:W4},{path:"qanda",component:n4},{path:"qanda/:serialno",component:A4},{path:"wtbvideo",component:g4},{path:"books",component:Z5},{path:"resources",component:_5},{path:"messageaudio",component:(()=>{class n{constructor(e){this.fileService=e,this.heading="Audio Messages from other servants of God",this.columnsToDisplay=["speaker","title","actions"],this.loading=!1,this.searchKey="",this.currentSermon=!1,this.activeSermon=!1}ngOnInit(){this.reloadSermons()}reloadSermons(){this.loading=!0,this.fileService.loadMessagesaudio().pipe(co(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new eh(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}playSermon(e){this.activeSermon=!0,this.playingSermon=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-messageaudio"]],viewQuery:function(e,i){if(1&e&&(s.Gf(ns,5),s.Gf(Br,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:23,vars:11,consts:[[3,"heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","speaker"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],["class","container d-flex justify-content-center px-5 mb-5",4,"ngIf"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"],[1,"container","d-flex","justify-content-center","px-5","mb-5"],["controls","","autoplay","",3,"src"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,K4,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,Q4,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,J4,2,0,"th",10),s.YNc(12,X4,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,e8,2,0,"th",10),s.YNc(15,t8,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,n8,2,0,"th",10),s.YNc(18,r8,4,0,"td",11),s.BQk(),s.YNc(19,s8,1,0,"tr",14),s.YNc(20,a8,1,3,"tr",15),s.qZA(),s._UZ(21,"mat-paginator",16),s.qZA(),s.YNc(22,l8,2,1,"div",17),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(10,c8))("pageSize",5),s.xp6(1),s.Q6J("ngIf",i.activeSermon))},directives:[Ns,Ls,Zt,os,oc,oh,nr,kr,Ks,sc,th,ah,yu,nc,tc,ic,ec,rc,vu,wu,bu,Cu,mi,Br],styles:[".search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}@media (max-width: 900px){.table[_ngcontent-%COMP%]{width:92vw}}"]}),n})()},{path:"contact",component:r5},{path:"**",redirectTo:"",pathMatch:"full"}];let d8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[HL.forRoot(u8,{useHash:!0})],HL]}),n})(),D2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt],Nt]}),n})();const m8={provide:new s.OlP("mat-menu-scroll-strategy"),deps:[Du],useFactory:function p8(n){return()=>n.scrollStrategies.reposition()}};let T2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[m8],imports:[[oi,Nt,yg,Gw],Nv,Nt]}),n})(),x2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oi,Nt,Ax,yg,Fw,dk],Nt]}),n})(),M2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),S2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[M2,yg,Nt,Fw],M2,Nt]}),n})(),A2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[px,yg,Nt,$k,oi],px,Nt,$k,z1]}),n})(),k2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oi,Nt],Nt]}),n})(),nY=(()=>{class n{constructor(){this.changes=new kt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sY={provide:new s.OlP("mat-datepicker-scroll-strategy"),deps:[Du],useFactory:function rY(n){return()=>n.scrollStrategies.reposition()}};let F2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[nY,sY],imports:[[oi,Sx,Gw,dk,Ax,Nt],Nv]}),n})(),V2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),B2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[yg,Nt,Fw,V2],Nt,V2]}),n})();const wY=[Sx,_2,B2,F2,f2,z1,C2,l2,YL,A2,T2,zF,ZN,k2,qL,y1,S2,tN,gN,x2,D2];let CY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oi,wY],Sx,_2,B2,F2,f2,z1,C2,l2,YL,A2,T2,zF,ZN,k2,qL,y1,S2,tN,gN,x2,D2]}),n})(),DY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[B$]}),n.\u0275inj=s.cJS({providers:[],imports:[[gc,d8,hn.hO.initializeApp(wP_firebase),Nr,AU,$j,CY,Nl,pr]]}),n})();(0,s.G48)(),ka().bootstrapModule(DY).catch(n=>console.error(n))},5867:(Xe,ye,P)=>{P.d(ye,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=P(9681);(0,s.registerVersion)("firebase","9.9.0","app")},127:(Xe,ye,P)=>{P.d(ye,{Z:()=>s.Z});var s=P(3942);s.Z.registerVersion("firebase","9.9.0","app-compat")},1121:(Xe,ye,P)=>{P.r(ye);var s=P(5861),X=P(3942),F=P(2090),le=P(9681);function ue(y,p){var m={};for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&p.indexOf(b)<0&&(m[b]=y[b]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var x=0;for(b=Object.getOwnPropertySymbols(y);x<b.length;x++)p.indexOf(b[x])<0&&Object.prototype.propertyIsEnumerable.call(y,b[x])&&(m[b[x]]=y[b[x]])}return m}var oe=P(1877),bt=P(4859);const yn=function ln(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Dr=function Ii(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Er=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fo=new oe.Yd("@firebase/auth");function Ji(y,...p){fo.logLevel<=oe.in.ERROR&&fo.error(`Auth (${le.SDK_VERSION}): ${y}`,...p)}function en(y,...p){throw Hi(y,...p)}function qn(y,...p){return Hi(y,...p)}function Vs(y,p,m){const b=Object.assign(Object.assign({},Dr()),{[p]:m});return new F.LL("auth","Firebase",b).create(p,{appName:y.name})}function Tr(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&en(y,"argument-error"),Vs(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hi(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return Er.create(y,...p)}function Pe(y,p,...m){if(!y)throw Hi(p,...m)}function ut(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Ji(p),new Error(p)}function Gn(y,p){y||ut(p)}const zn=new Map;function cn(y){Gn(y instanceof Function,"Expected a class definition");let p=zn.get(y);return p?(Gn(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,zn.set(y,p),p)}function Qn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Ln(){return"http:"===xr()||"https:"===xr()}function xr(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ct{constructor(p,m){this.shortDelay=p,this.longDelay=m,Gn(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function ac(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ln()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wt(y,p){Gn(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class po{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zt=new ct(3e4,6e4);function vn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Jt(y,p,m,b){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,s.Z)(function*(y,p,m,b,x={}){return mt(y,x,(0,s.Z)(function*(){let A={},B={};b&&("GET"===p?B=b:A={body:JSON.stringify(b)});const ee=(0,F.xO)(Object.assign({key:y.config.apiKey},B)).slice(1),xe=yield y._getAdditionalHeaders();return xe["Content-Type"]="application/json",y.languageCode&&(xe["X-Firebase-Locale"]=y.languageCode),po.fetch()(U(y,y.config.apiHost,m,ee),Object.assign({method:p,headers:xe,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function mt(y,p,m){return us.apply(this,arguments)}function us(){return(us=(0,s.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},cs),p);try{const x=new Z(y),A=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const B=yield A.json();if("needConfirmation"in B)throw Y(y,"account-exists-with-different-credential",B);if(A.ok&&!("errorMessage"in B))return B;{const ee=A.ok?B.errorMessage:B.error.message,[xe,Me]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xe)throw Y(y,"credential-already-in-use",B);if("EMAIL_EXISTS"===xe)throw Y(y,"email-already-in-use",B);if("USER_DISABLED"===xe)throw Y(y,"user-disabled",B);const tt=b[xe]||xe.toLowerCase().replace(/[_\s]+/g,"-");if(Me)throw Vs(y,tt,Me);en(y,tt)}}catch(x){if(x instanceof F.ZR)throw x;en(y,"network-request-failed")}})).apply(this,arguments)}function j(y,p,m,b){return $.apply(this,arguments)}function $(){return($=(0,s.Z)(function*(y,p,m,b,x={}){const A=yield Jt(y,p,m,b,x);return"mfaPendingCredential"in A&&en(y,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function U(y,p,m,b){const x=`${p}${m}?${b}`;return y.config.emulator?wt(y.config,x):`${y.config.apiScheme}://${x}`}class Z{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(qn(this.auth,"network-request-failed")),zt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Y(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const x=qn(y,p,b);return x.customData._tokenResponse=m,x}function ze(){return(ze=(0,s.Z)(function*(y,p){return Jt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ct(y,p){return nn.apply(this,arguments)}function nn(){return(nn=(0,s.Z)(function*(y,p){return Jt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function fn(y,p){return cr.apply(this,arguments)}function cr(){return(cr=(0,s.Z)(function*(y,p){return Jt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ut(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function va(){return(va=(0,s.Z)(function*(y,p=!1){const m=(0,F.m9)(y),b=yield m.getIdToken(p),x=Jn(b);Pe(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const A="object"==typeof x.firebase?x.firebase:void 0,B=null==A?void 0:A.sign_in_provider;return{claims:x,token:b,authTime:Ut(ba(x.auth_time)),issuedAtTime:Ut(ba(x.iat)),expirationTime:Ut(ba(x.exp)),signInProvider:B||null,signInSecondFactor:(null==A?void 0:A.sign_in_second_factor)||null}})).apply(this,arguments)}function ba(y){return 1e3*Number(y)}function Jn(y){var p;const[m,b,x]=y.split(".");if(void 0===m||void 0===b||void 0===x)return Ji("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,F.tV)(b);return A?JSON.parse(A):(Ji("Failed to decode base64 JWT payload"),null)}catch(A){return Ji("Caught error parsing JWT payload as JSON",null===(p=A)||void 0===p?void 0:p.toString()),null}}function Ai(y,p){return si.apply(this,arguments)}function si(){return(si=(0,s.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof F.ZR&&mo(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function mo({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class ch{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,s.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class go{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ut(this.lastLoginAt),this.creationTime=Ut(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Us(y){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,s.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),x=yield Ai(y,fn(m,{idToken:b}));Pe(null==x?void 0:x.users.length,m,"internal-error");const A=x.users[0];y._notifyReloadListener(A);const B=(null===(p=A.providerUserInfo)||void 0===p?void 0:p.length)?Ye(A.providerUserInfo):[],ee=ur(y.providerData,B),tt=!!y.isAnonymous&&!(y.email&&A.passwordHash||(null==ee?void 0:ee.length)),lt={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:ee,metadata:new go(A.createdAt,A.lastLoginAt),isAnonymous:tt};Object.assign(y,lt)})).apply(this,arguments)}function Vo(){return(Vo=(0,s.Z)(function*(y){const p=(0,F.m9)(y);yield Us(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ur(y,p){return[...y.filter(b=>!p.some(x=>x.providerId===b.providerId)),...p]}function Ye(y){return y.map(p=>{var{providerId:m}=p,b=ue(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function un(){return(un=(0,s.Z)(function*(y,p){const m=yield mt(y,{},(0,s.Z)(function*(){const b=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:A}=y.config,B=U(y,x,"/v1/token",`key=${A}`),ee=yield y._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",po.fetch()(B,{method:"POST",headers:ee,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class wi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Pe(p.idToken,"internal-error"),Pe(void 0!==p.idToken,"internal-error"),Pe(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function hs(y){const p=Jn(y);return Pe(p,"internal-error"),Pe(void 0!==p.exp,"internal-error"),Pe(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,s.Z)(function*(){return Pe(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,s.Z)(function*(){const{accessToken:x,refreshToken:A,expiresIn:B}=yield function Lt(y,p){return un.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(x,A,Number(B))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:x,expirationTime:A}=m,B=new wi;return b&&(Pe("string"==typeof b,"internal-error",{appName:p}),B.refreshToken=b),x&&(Pe("string"==typeof x,"internal-error",{appName:p}),B.accessToken=x),A&&(Pe("number"==typeof A,"internal-error",{appName:p}),B.expirationTime=A),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new wi,this.toJSON())}_performRefresh(){return ut("not implemented")}}function Ri(y,p){Pe("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Dn{constructor(p){var{uid:m,auth:b,stsTokenManager:x}=p,A=ue(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ch(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new go(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,s.Z)(function*(){const b=yield Ai(m,m.stsTokenManager.getToken(m.auth,p));return Pe(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function Bs(y){return va.apply(this,arguments)}(this,p)}reload(){return function ki(y){return Vo.apply(this,arguments)}(this)}_assign(p){this!==p&&(Pe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Dn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,s.Z)(function*(){let x=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),x=!0),m&&(yield Us(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,s.Z)(function*(){const m=yield p.getIdToken();return yield Ai(p,function Ae(y,p){return ze.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,x,A,B,ee,xe,Me,tt;const lt=null!==(b=m.displayName)&&void 0!==b?b:void 0,qt=null!==(x=m.email)&&void 0!==x?x:void 0,Ti=null!==(A=m.phoneNumber)&&void 0!==A?A:void 0,Wn=null!==(B=m.photoURL)&&void 0!==B?B:void 0,oa=null!==(ee=m.tenantId)&&void 0!==ee?ee:void 0,tf=null!==(xe=m._redirectEventId)&&void 0!==xe?xe:void 0,aa=null!==(Me=m.createdAt)&&void 0!==Me?Me:void 0,ud=null!==(tt=m.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:nf,emailVerified:dd,isAnonymous:Up,providerData:Ul,stsTokenManager:Hl}=m;Pe(nf&&Hl,p,"internal-error");const d_=wi.fromJSON(this.name,Hl);Pe("string"==typeof nf,p,"internal-error"),Ri(lt,p.name),Ri(qt,p.name),Pe("boolean"==typeof dd,p,"internal-error"),Pe("boolean"==typeof Up,p,"internal-error"),Ri(Ti,p.name),Ri(Wn,p.name),Ri(oa,p.name),Ri(tf,p.name),Ri(aa,p.name),Ri(ud,p.name);const rf=new Dn({uid:nf,auth:p,email:qt,emailVerified:dd,displayName:lt,isAnonymous:Up,photoURL:Wn,phoneNumber:Ti,tenantId:oa,stsTokenManager:d_,createdAt:aa,lastLoginAt:ud});return Ul&&Array.isArray(Ul)&&(rf.providerData=Ul.map(mb=>Object.assign({},mb))),tf&&(rf._redirectEventId=tf),rf}static _fromIdTokenResponse(p,m,b=!1){return(0,s.Z)(function*(){const x=new wi;x.updateFromServerResponse(m);const A=new Dn({uid:m.localId,auth:p,stsTokenManager:x,isAnonymous:b});return yield Us(A),A})()}}const rn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(m,b){var x=this;return(0,s.Z)(function*(){x.storage[m]=b})()}_get(m){var b=this;return(0,s.Z)(function*(){const x=b.storage[m];return void 0===x?null:x})()}_remove(m){var b=this;return(0,s.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function Sr(y,p,m){return`firebase:${y}:${p}:${m}`}class Tn{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:x,name:A}=this.auth;this.fullUserKey=Sr(this.userKey,x.apiKey,A),this.fullPersistenceKey=Sr("persistence",x.apiKey,A),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Dn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,s.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,s.Z)(function*(){if(!m.length)return new Tn(cn(rn),p,b);const x=(yield Promise.all(m.map(function(){var Me=(0,s.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return Me.apply(this,arguments)}}()))).filter(Me=>Me);let A=x[0]||cn(rn);const B=Sr(b,p.config.apiKey,p.name);let ee=null;for(const Me of m)try{const tt=yield Me._get(B);if(tt){const lt=Dn._fromJSON(p,tt);Me!==A&&(ee=lt),A=Me;break}}catch(tt){}const xe=x.filter(Me=>Me._shouldAllowMigration);return A._shouldAllowMigration&&xe.length?(A=xe[0],ee&&(yield A._set(B,ee.toJSON())),yield Promise.all(m.map(function(){var Me=(0,s.Z)(function*(tt){if(tt!==A)try{yield tt._remove(B)}catch(lt){}});return function(tt){return Me.apply(this,arguments)}}())),new Tn(A,p,b)):new Tn(A,p,b)})()}}function Pt(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Bo(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(pl(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(wa(p))return"Blackberry";if(Ca(p))return"Webos";if(mi(p))return"Safari";if((p.includes("chrome/")||ml(p))&&!p.includes("edge/"))return"Chrome";if(In(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function pl(y=(0,F.z$)()){return/firefox\//i.test(y)}function mi(y=(0,F.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ml(y=(0,F.z$)()){return/crios\//i.test(y)}function Bo(y=(0,F.z$)()){return/iemobile/i.test(y)}function In(y=(0,F.z$)()){return/android/i.test(y)}function wa(y=(0,F.z$)()){return/blackberry/i.test(y)}function Ca(y=(0,F.z$)()){return/webos/i.test(y)}function Zt(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ji(y=(0,F.z$)()){return Zt(y)||In(y)||Ca(y)||wa(y)||/windows phone/i.test(y)||Bo(y)}function lc(y,p=[]){let m;switch(y){case"Browser":m=Pt((0,F.z$)());break;case"Worker":m=`${Pt((0,F.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${le.SDK_VERSION}/${b}`}class dh{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=A=>new Promise((B,ee)=>{try{B(p(A))}catch(xe){ee(xe)}});b.onAbort=m,this.queue.push(b);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,s.Z)(function*(){var b;if(m.auth.currentUser===p)return;const x=[];try{for(const A of m.queue)yield A(p),A.onAbort&&x.push(A.onAbort)}catch(A){x.reverse();for(const B of x)try{B()}catch(ee){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=A)||void 0===b?void 0:b.message})}})()}}class yo{constructor(p,m,b){this.app=p,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hh(this),this.idTokenSubscription=new hh(this),this.beforeStateQueue=new dh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Er,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=cn(m)),this._initializationPromise=this.queue((0,s.Z)(function*(){var x,A;if(!b._deleted&&(b.persistenceManager=yield Tn.create(b,p),!b._deleted)){if(null===(x=b._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(B){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(A=b.currentUser)||void 0===A?void 0:A.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,s.Z)(function*(){var b;const x=yield m.assertedPersistence.getCurrentUser();let A=x,B=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ee=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,xe=null==A?void 0:A._redirectEventId,Me=yield m.tryRedirectSignIn(p);(!ee||ee===xe)&&(null==Me?void 0:Me.user)&&(A=Me.user,B=!0)}if(!A)return m.directlySetCurrentUser(null);if(!A._redirectEventId){if(B)try{yield m.beforeStateQueue.runMiddleware(A)}catch(ee){A=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ee))}return A?m.reloadAndSetCurrentUserOrClear(A):m.directlySetCurrentUser(null)}return Pe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===A._redirectEventId?m.directlySetCurrentUser(A):m.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(p){var m=this;return(0,s.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(x){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,s.Z)(function*(){var b;try{yield Us(p)}catch(x){if("auth/network-request-failed"!==(null===(b=x)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function tn(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,s.Z)(function*(){const b=p?(0,F.m9)(p):null;return b&&Pe(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,s.Z)(function*(){if(!b._deleted)return p&&Pe(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,s.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,s.Z)(function*(){yield m.assertedPersistence.setPersistence(cn(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,s.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(m);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,s.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&cn(p)||m._popupRedirectResolver;Pe(b,m,"argument-error"),m.redirectPersistenceManager=yield Tn.create(m,[cn(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,s.Z)(function*(){var b,x;return m._isInitialized&&(yield m.queue((0,s.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,s.Z)(function*(){if(p===m.currentUser)return m.queue((0,s.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,x){if(this._deleted)return()=>{};const A="function"==typeof m?m:m.next.bind(m),B=this._isInitialized?Promise.resolve():this._initializationPromise;return Pe(B,this,"internal-error"),B.then(()=>A(this.currentUser)),"function"==typeof m?p.addObserver(m,b,x):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,s.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=lc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(b["X-Firebase-Client"]=x),b})()}}function pn(y){return(0,F.m9)(y)}class hh{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(m=>this.observer=m)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sp(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function op(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class _l{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ut("not implemented")}_getIdTokenResponse(p){return ut("not implemented")}_linkToIdToken(p,m){return ut("not implemented")}_getReauthenticationResolver(p){return ut("not implemented")}}function ap(y,p){return cc.apply(this,arguments)}function cc(){return(cc=(0,s.Z)(function*(y,p){return Jt(y,"POST","/v1/accounts:resetPassword",vn(y,p))})).apply(this,arguments)}function lp(y,p){return yl.apply(this,arguments)}function yl(){return(yl=(0,s.Z)(function*(y,p){return Jt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Da(y,p){return fh.apply(this,arguments)}function fh(){return(fh=(0,s.Z)(function*(y,p){return Jt(y,"POST","/v1/accounts:update",vn(y,p))})).apply(this,arguments)}function ph(){return(ph=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPassword",vn(y,p))})).apply(this,arguments)}function Mu(y,p){return mh.apply(this,arguments)}function mh(){return(mh=(0,s.Z)(function*(y,p){return Jt(y,"POST","/v1/accounts:sendOobCode",vn(y,p))})).apply(this,arguments)}function Fg(y,p){return Su.apply(this,arguments)}function Su(){return(Su=(0,s.Z)(function*(y,p){return Mu(y,p)})).apply(this,arguments)}function vl(y,p){return gh.apply(this,arguments)}function gh(){return(gh=(0,s.Z)(function*(y,p){return Mu(y,p)})).apply(this,arguments)}function Iu(y,p){return _h.apply(this,arguments)}function _h(){return(_h=(0,s.Z)(function*(y,p){return Mu(y,p)})).apply(this,arguments)}function Uo(y,p){return uc.apply(this,arguments)}function uc(){return(uc=(0,s.Z)(function*(y,p){return Mu(y,p)})).apply(this,arguments)}function Ho(){return(Ho=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithEmailLink",vn(y,p))})).apply(this,arguments)}function yh(){return(yh=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithEmailLink",vn(y,p))})).apply(this,arguments)}class oi extends _l{constructor(p,m,b,x=null){super("password",b),this._email=p,this._password=m,this._tenantId=x}static _fromEmailAndPassword(p,m){return new oi(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new oi(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,s.Z)(function*(){switch(m.signInMethod){case"password":return function Pg(y,p){return ph.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function bl(y,p){return Ho.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:en(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,s.Z)(function*(){switch(b.signInMethod){case"password":return lp(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function cp(y,p){return yh.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:en(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function fs(y,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithIdp",vn(y,p))})).apply(this,arguments)}class ps extends _l{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new ps(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):en("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x}=m,A=ue(m,["providerId","signInMethod"]);if(!b||!x)return null;const B=new ps(b,x);return B.idToken=A.idToken||void 0,B.accessToken=A.accessToken||void 0,B.secret=A.secret,B.nonce=A.nonce,B.pendingToken=A.pendingToken||null,B}_getIdTokenResponse(p){return fs(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,fs(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,fs(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,F.xO)(m)}return p}}function Xi(y,p){return wl.apply(this,arguments)}function wl(){return(wl=(0,s.Z)(function*(y,p){return Jt(y,"POST","/v1/accounts:sendVerificationCode",vn(y,p))})).apply(this,arguments)}function dc(){return(dc=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPhoneNumber",vn(y,p))})).apply(this,arguments)}function Cl(){return(Cl=(0,s.Z)(function*(y,p){const m=yield j(y,"POST","/v1/accounts:signInWithPhoneNumber",vn(y,p));if(m.temporaryProof)throw Y(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ng={USER_NOT_FOUND:"user-not-found"};function ms(){return(ms=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPhoneNumber",vn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ng)})).apply(this,arguments)}class bo extends _l{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new bo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new bo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function vh(y,p){return dc.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function bh(y,p){return Cl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function An(y,p){return ms.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:x}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:A}=p;return b||m||x||A?new bo({verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:A}):null}}class wo{constructor(p){var m,b,x,A,B,ee;const xe=(0,F.zd)((0,F.pd)(p)),Me=null!==(m=xe.apiKey)&&void 0!==m?m:null,tt=null!==(b=xe.oobCode)&&void 0!==b?b:null,lt=function Vn(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=xe.mode)&&void 0!==x?x:null);Pe(Me&&tt&&lt,"argument-error"),this.apiKey=Me,this.operation=lt,this.code=tt,this.continueUrl=null!==(A=xe.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(B=xe.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(ee=xe.tenantId)&&void 0!==ee?ee:null}static parseLink(p){const m=function wh(y){const p=(0,F.zd)((0,F.pd)(y)).link,m=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,b=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(b?(0,F.zd)((0,F.pd)(b)).link:null)||b||m||p||y}(p);try{return new wo(m)}catch(b){return null}}}let Oi=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return oi._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const x=wo.parseLink(b);return Pe(x,"argument-error"),oi._fromEmailAndCode(m,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ir{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class gs extends Ir{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class er extends gs{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Pe("providerId"in m&&"signInMethod"in m,"argument-error"),ps._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Pe(p.idToken||p.accessToken,"argument-error"),ps._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return er.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return er.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:A,nonce:B,providerId:ee}=p;if(!b&&!x&&!m&&!A||!ee)return null;try{return new er(ee)._credential({idToken:m,accessToken:b,nonce:B,pendingToken:A})}catch(xe){return null}}}let tr=(()=>{class y extends gs{constructor(){super("facebook.com")}static credential(m){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ai=(()=>{class y extends gs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:x}=m;if(!b&&!x)return null;try{return y.credential(b,x)}catch(A){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ea=(()=>{class y extends gs{constructor(){super("github.com")}static credential(m){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Pi extends _l{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return fs(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,fs(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,fs(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x,pendingToken:A}=m;return b&&x&&A&&b===x?new Pi(b,A):null}static _create(p,m){return new Pi(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Co extends Ir{constructor(p){Pe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Co.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Co.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Pi.fromJSON(p);return Pe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return Pi._create(b,m)}catch(x){return null}}}let vt=(()=>{class y extends gs{constructor(){super("twitter.com")}static credential(m,b){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=m;if(!b||!x)return null;try{return y.credential(b,x)}catch(A){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Zo(y,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signUp",vn(y,p))})).apply(this,arguments)}class Fi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,x=!1){return(0,s.Z)(function*(){const A=yield Dn._fromIdTokenResponse(p,b,x),B=Dl(b);return new Fi({user:A,providerId:B,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const x=Dl(b);return new Fi({user:p,providerId:x,_tokenResponse:b,operationType:m})})()}}function Dl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function hc(){return(hc=(0,s.Z)(function*(y){var p;const m=pn(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Fi({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Zo(m,{returnSecureToken:!0}),x=yield Fi._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class xa extends F.ZR{constructor(p,m,b,x){var A;super(m.code,m.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,xa.prototype),this.customData={appName:p.name,tenantId:null!==(A=p.tenantId)&&void 0!==A?A:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,x){return new xa(p,m,b,x)}}function Te(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?xa._fromErrorAndOperation(y,A,p,b):A})}function Ht(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function wn(){return(wn=(0,s.Z)(function*(y,p){const m=(0,F.m9)(y);yield Ni(!0,m,p);const{providerUserInfo:b}=yield Ct(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),x=Ht(b||[]);return m.providerData=m.providerData.filter(A=>x.has(A.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ma(y,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,s.Z)(function*(y,p,m=!1){const b=yield Ai(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Fi._forOperation(y,"link",b)})).apply(this,arguments)}function Ni(y,p,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,s.Z)(function*(y,p,m){yield Us(p);const x=!1===y?"provider-already-linked":"no-such-provider";Pe(Ht(p.providerData).has(m)===y,p.auth,x)})).apply(this,arguments)}function fc(y,p){return pc.apply(this,arguments)}function pc(){return(pc=(0,s.Z)(function*(y,p,m=!1){var b;const{auth:x}=y,A="reauthenticate";try{const B=yield Ai(y,Te(x,A,p,y),m);Pe(B.idToken,x,"internal-error");const ee=Jn(B.idToken);Pe(ee,x,"internal-error");const{sub:xe}=ee;return Pe(y.uid===xe,x,"user-mismatch"),Fi._forOperation(y,A,B)}catch(B){throw"auth/user-not-found"===(null===(b=B)||void 0===b?void 0:b.code)&&en(x,"user-mismatch"),B}})).apply(this,arguments)}function Dh(y,p){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,s.Z)(function*(y,p,m=!1){const b="signIn",x=yield Te(y,b,p),A=yield Fi._fromIdTokenResponse(y,b,x);return m||(yield y._updateCurrentUser(A.user)),A})).apply(this,arguments)}function qo(y,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,s.Z)(function*(y,p){return Dh(pn(y),p)})).apply(this,arguments)}function Zr(y,p){return mc.apply(this,arguments)}function mc(){return(mc=(0,s.Z)(function*(y,p){const m=(0,F.m9)(y);return yield Ni(!1,m,p.providerId),Ma(m,p)})).apply(this,arguments)}function _s(y,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,s.Z)(function*(y,p){return fc((0,F.m9)(y),p)})).apply(this,arguments)}function Eh(y,p){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithCustomToken",vn(y,p))})).apply(this,arguments)}function El(){return(El=(0,s.Z)(function*(y,p){const m=pn(y),b=yield Eh(m,{token:p,returnSecureToken:!0}),x=yield Fi._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Aa{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Go._fromServerResponse(p,m):en(p,"internal-error")}}class Go extends Aa{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Go(m)}}function ka(y,p,m){var b;Pe((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),Pe(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Pe(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Pe(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function gc(){return(gc=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y),x={requestType:"PASSWORD_RESET",email:p};m&&ka(b,x,m),yield vl(b,x)})).apply(this,arguments)}function Ra(){return(Ra=(0,s.Z)(function*(y,p,m){yield ap((0,F.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function xl(){return(xl=(0,s.Z)(function*(y,p){yield Da((0,F.m9)(y),{oobCode:p})})).apply(this,arguments)}function _c(y,p){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,s.Z)(function*(y,p){const m=(0,F.m9)(y),b=yield ap(m,{oobCode:p}),x=b.requestType;switch(Pe(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Pe(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Pe(b.mfaInfo,m,"internal-error");default:Pe(b.email,m,"internal-error")}let A=null;return b.mfaInfo&&(A=Aa._fromServerResponse(pn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:A},operation:x}})).apply(this,arguments)}function Th(){return(Th=(0,s.Z)(function*(y,p){const{data:m}=yield _c((0,F.m9)(y),p);return m.email})).apply(this,arguments)}function li(){return(li=(0,s.Z)(function*(y,p,m){const b=pn(y),x=yield Zo(b,{returnSecureToken:!0,email:p,password:m}),A=yield Fi._fromIdTokenResponse(b,"signIn",x);return yield b._updateCurrentUser(A.user),A})).apply(this,arguments)}function Oa(){return(Oa=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y),x={requestType:"EMAIL_SIGNIN",email:p};Pe(m.handleCodeInApp,b,"argument-error"),m&&ka(b,x,m),yield Iu(b,x)})).apply(this,arguments)}function hp(){return(hp=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y),x=Oi.credentialWithLink(p,m||Qn());return Pe(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),qo(b,x)})).apply(this,arguments)}function Mh(y,p){return fp.apply(this,arguments)}function fp(){return(fp=(0,s.Z)(function*(y,p){return Jt(y,"POST","/v1/accounts:createAuthUri",vn(y,p))})).apply(this,arguments)}function Eo(){return(Eo=(0,s.Z)(function*(y,p){const b={identifier:p,continueUri:Ln()?Qn():"http://localhost"},{signinMethods:x}=yield Mh((0,F.m9)(y),b);return x||[]})).apply(this,arguments)}function bc(){return(bc=(0,s.Z)(function*(y,p){const m=(0,F.m9)(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ka(m.auth,x,p);const{email:A}=yield Fg(m.auth,x);A!==y.email&&(yield y.reload())})).apply(this,arguments)}function Sh(){return(Sh=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&ka(b.auth,A,m);const{email:B}=yield Uo(b.auth,A);B!==y.email&&(yield y.reload())})).apply(this,arguments)}function qs(y,p){return Un.apply(this,arguments)}function Un(){return(Un=(0,s.Z)(function*(y,p){return Jt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ih(){return(Ih=(0,s.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,F.m9)(y),A={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},B=yield Ai(b,qs(b.auth,A));b.displayName=B.displayName||null,b.photoURL=B.photoUrl||null;const ee=b.providerData.find(({providerId:xe})=>"password"===xe);ee&&(ee.displayName=b.displayName,ee.photoURL=b.photoURL),yield b._updateTokensIfNecessary(B)})).apply(this,arguments)}function Fu(y,p,m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,s.Z)(function*(y,p,m){const{auth:b}=y,A={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(A.email=p),m&&(A.password=m);const B=yield Ai(y,lp(b,A));yield y._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class Fa{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class Cc extends Fa{constructor(p,m,b,x){super(p,m,b),this.username=x}}class dn extends Fa{constructor(p,m){super(p,"facebook.com",m)}}class kn extends Cc{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Li extends Fa{constructor(p,m){super(p,"google.com",m)}}class Rh extends Cc{constructor(p,m,b){super(p,"twitter.com",m,b)}}function Oh(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function kh(y){var p,m;if(!y)return null;const{providerId:b}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},A=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const B=null===(m=null===(p=Jn(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(B)return new Fa(A,"anonymous"!==B&&"custom"!==B?B:null)}if(!b)return null;switch(b){case"facebook.com":return new dn(A,x);case"github.com":return new kn(A,x);case"google.com":return new Li(A,x);case"twitter.com":return new Rh(A,x,y.screenName||null);case"custom":case"anonymous":return new Fa(A,null);default:return new Fa(A,b,x)}}(m)}class Gs{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Gs("enroll",p)}static _fromMfaPendingCredential(p){return new Gs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Gs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Gs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class xo{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=pn(p),x=m.customData._serverResponse,A=(x.mfaInfo||[]).map(ee=>Aa._fromServerResponse(b,ee));Pe(x.mfaPendingCredential,b,"internal-error");const B=Gs._fromMfaPendingCredential(x.mfaPendingCredential);return new xo(B,A,function(){var ee=(0,s.Z)(function*(xe){const Me=yield xe._process(b,B);delete x.mfaInfo,delete x.mfaPendingCredential;const tt=Object.assign(Object.assign({},x),{idToken:Me.idToken,refreshToken:Me.refreshToken});switch(m.operationType){case"signIn":const lt=yield Fi._fromIdTokenResponse(b,m.operationType,tt);return yield b._updateCurrentUser(lt.user),lt;case"reauthenticate":return Pe(m.user,b,"internal-error"),Fi._forOperation(m.user,m.operationType,tt);default:en(b,"internal-error")}});return function(xe){return ee.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,s.Z)(function*(){return m.signInResolver(p)})()}}function Na(y,p){return Jt(y,"POST","/v2/accounts/mfaEnrollment:start",vn(y,p))}class Nu{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Aa._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Nu(p)}getSession(){var p=this;return(0,s.Z)(function*(){return Gs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var b=this;return(0,s.Z)(function*(){const x=p,A=yield b.getSession(),B=yield Ai(b.user,x._process(b.user.auth,A,m));return yield b.user._updateTokensIfNecessary(B),b.user.reload()})()}unenroll(p){var m=this;return(0,s.Z)(function*(){var b;const x="string"==typeof p?p:p.uid,A=yield m.user.getIdToken(),B=yield Ai(m.user,function ci(y,p){return Jt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",vn(y,p))}(m.user.auth,{idToken:A,mfaEnrollmentId:x}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ee})=>ee!==x),yield m.user._updateTokensIfNecessary(B);try{yield m.user.reload()}catch(ee){if("auth/user-token-expired"!==(null===(b=ee)||void 0===b?void 0:b.code))throw ee}})()}}const zo=new WeakMap,$o="__sak";class Lu{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem($o,"1"),this.storage.removeItem($o),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ar=(()=>{class y extends Lu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nr(){const y=(0,F.z$)();return mi(y)||Zt(y)}()&&function dr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=ji(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),A=this.localCache[b];x!==A&&m(b,A,x)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((ee,xe,Me)=>{this.notifyListeners(ee,Me)});const x=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(x);if(m.newValue!==ee)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!b)return}const A=()=>{const ee=this.storage.getItem(x);!b&&this.localCache[x]===ee||this.notifyListeners(x,ee)},B=this.storage.getItem(x);!function gl(){return(0,F.w1)()&&10===document.documentMode}()||B===m.newValue||m.newValue===m.oldValue?A():setTimeout(A,10)}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const A of Array.from(x))A(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var x=()=>super._set,A=this;return(0,s.Z)(function*(){yield x().call(A,m,b),A.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,x=this;return(0,s.Z)(function*(){const A=yield b().call(x,m);return x.localCache[m]=JSON.stringify(A),A})()}_remove(m){var b=()=>super._remove,x=this;return(0,s.Z)(function*(){yield b().call(x,m),delete x.localCache[m]})()}}return y.type="LOCAL",y})(),ir=(()=>{class y extends Lu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Vu=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(A=>A.isListeningto(m));if(b)return b;const x=new y(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,s.Z)(function*(){const x=m,{eventId:A,eventType:B,data:ee}=x.data,xe=b.handlersMap[B];if(!(null==xe?void 0:xe.size))return;x.ports[0].postMessage({status:"ack",eventId:A,eventType:B});const Me=Array.from(xe).map(function(){var lt=(0,s.Z)(function*(qt){return qt(x.origin,ee)});return function(qt){return lt.apply(this,arguments)}}()),tt=yield function zs(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(Me);x.ports[0].postMessage({status:"done",eventId:A,eventType:B,response:tt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function bs(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class Ec{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var x=this;return(0,s.Z)(function*(){const A="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let B,ee;return new Promise((xe,Me)=>{const tt=bs("",20);A.port1.start();const lt=setTimeout(()=>{Me(new Error("unsupported_event"))},b);ee={messageChannel:A,onMessage(qt){const Ti=qt;if(Ti.data.eventId===tt)switch(Ti.data.status){case"ack":clearTimeout(lt),B=setTimeout(()=>{Me(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),xe(Ti.data.response);break;default:clearTimeout(lt),clearTimeout(B),Me(new Error("invalid_response"))}}},x.handlers.add(ee),A.port1.addEventListener("message",ee.onMessage),x.target.postMessage({eventType:p,eventId:tt,data:m},[A.port2])}).finally(()=>{ee&&x.removeMessageHandler(ee)})})()}}function $t(){return window}function ws(){return void 0!==$t().WorkerGlobalScope&&"function"==typeof $t().importScripts}function Cs(){return(Cs=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const kl="firebaseLocalStorageDb",Tc="firebaseLocalStorage",Vh="fbase_key";class xc{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Rl(y,p){return y.transaction([Tc],p?"readwrite":"readonly").objectStore(Tc)}function Va(){const y=indexedDB.open(kl,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Tc,{keyPath:Vh})}catch(x){m(x)}}),y.addEventListener("success",(0,s.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Tc)?p(b):(b.close(),yield function gp(){const y=indexedDB.deleteDatabase(kl);return new xc(y).toPromise()}(),p(yield Va()))}))})}function _p(y,p,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,s.Z)(function*(y,p,m){const b=Rl(y,!0).put({[Vh]:p,value:m});return new xc(b).toPromise()})).apply(this,arguments)}function jn(){return(jn=(0,s.Z)(function*(y,p){const m=Rl(y,!1).get(p),b=yield new xc(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Ba(y,p){const m=Rl(y,!0).delete(p);return new xc(m).toPromise()}const mn=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,s.Z)(function*(){return m.db||(m.db=yield Va()),m.db})()}_withRetries(m){var b=this;return(0,s.Z)(function*(){let x=0;for(;;)try{const A=yield b._openDb();return yield m(A)}catch(A){if(x++>3)throw A;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,s.Z)(function*(){return ws()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,s.Z)(function*(){m.receiver=Vu._getInstance(function $s(){return ws()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,s.Z)(function*(x,A){return{keyProcessed:(yield m._poll()).includes(A.key)}});return function(x,A){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,s.Z)(function*(x,A){return["keyChanged"]});return function(x,A){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,s.Z)(function*(){var b,x;if(m.activeServiceWorker=yield function La(){return Cs.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ec(m.activeServiceWorker);const A=yield m.sender._send("ping",{},800);!A||(null===(b=A[0])||void 0===b?void 0:b.fulfilled)&&(null===(x=A[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,s.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Io(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Va();return yield _p(m,$o,"1"),yield Ba(m,$o),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,s.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var x=this;return(0,s.Z)(function*(){return x._withPendingWrite((0,s.Z)(function*(){return yield x._withRetries(A=>_p(A,m,b)),x.localCache[m]=b,x.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,s.Z)(function*(){const x=yield b._withRetries(A=>function Vg(y,p){return jn.apply(this,arguments)}(A,m));return b.localCache[m]=x,x})()}_remove(m){var b=this;return(0,s.Z)(function*(){return b._withPendingWrite((0,s.Z)(function*(){return yield b._withRetries(x=>Ba(x,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,s.Z)(function*(){const b=yield m._withRetries(B=>{const ee=Rl(B,!1).getAll();return new xc(ee).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const x=[],A=new Set;for(const{fbase_key:B,value:ee}of b)A.add(B),JSON.stringify(m.localCache[B])!==JSON.stringify(ee)&&(m.notifyListeners(B,ee),x.push(B));for(const B of Object.keys(m.localCache))m.localCache[B]&&!A.has(B)&&(m.notifyListeners(B,null),x.push(B));return x})()}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const A of Array.from(x))A(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Mn(y,p){return Jt(y,"POST","/v2/accounts/mfaSignIn:start",vn(y,p))}function Ha(){return(Ha=(0,s.Z)(function*(y){return(yield Jt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hu(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=x=>{const A=qn("internal-error");A.customData=x,m(A)},b.type="text/javascript",b.charset="UTF-8",function kr(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function ju(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ao=1e12;class hr{constructor(p){this.auth=p,this.counter=Ao,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new Uh(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||Ao;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Ao))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,s.Z)(function*(){var b;return null===(b=m._widgets.get(p||Ao))||void 0===b||b.execute(),""})()}}class Uh{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;Pe(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ko(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qu=ju("rcb"),Gu=new ct(3e4,6e4);class jh{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=$t().grecaptcha)||void 0===p?void 0:p.render)}load(p,m=""){return Pe(function zu(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve($t().grecaptcha):new Promise((b,x)=>{const A=$t().setTimeout(()=>{x(qn(p,"network-request-failed"))},Gu.get());$t()[qu]=()=>{$t().clearTimeout(A),delete $t()[qu];const ee=$t().grecaptcha;if(!ee)return void x(qn(p,"internal-error"));const xe=ee.render;ee.render=(Me,tt)=>{const lt=xe(Me,tt);return this.counter++,lt},this.hostLanguage=m,b(ee)},Hu(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:qu,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(A),x(qn(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!!(null===(m=$t().grecaptcha)||void 0===m?void 0:m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Mc{load(p){return(0,s.Z)(function*(){return new hr(p)})()}clearedOneInstance(){}}const yp="recaptcha",vp={theme:"light",type:"image"};class Zh{constructor(p,m=Object.assign({},vp),b){this.parameters=m,this.type=yp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(b),this.isInvisible="invisible"===this.parameters.size,Pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;Pe(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mc:new jh,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(A=>{const B=ee=>{!ee||(p.tokenChangeListeners.delete(B),A(ee))};p.tokenChangeListeners.add(B),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Pe(!this.parameters.sitekey,this.auth,"argument-error"),Pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=$t()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){Pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){Pe(Ln()&&!ws(),p.auth,"internal-error"),yield function Qo(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Uu(y){return Ha.apply(this,arguments)}(p.auth);Pe(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ja{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=bo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Ys(){return(Ys=(0,s.Z)(function*(y,p,m){const b=pn(y),x=yield Gr(b,p,(0,F.m9)(m));return new ja(x,A=>qo(b,A))})).apply(this,arguments)}function Ol(){return(Ol=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y);yield Ni(!1,b,"phone");const x=yield Gr(b.auth,p,(0,F.m9)(m));return new ja(x,A=>Zr(b,A))})).apply(this,arguments)}function $u(){return($u=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y),x=yield Gr(b.auth,p,(0,F.m9)(m));return new ja(x,A=>_s(b,A))})).apply(this,arguments)}function Gr(y,p,m){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,s.Z)(function*(y,p,m){var b;const x=yield m.verify();try{let A;if(Pe("string"==typeof x,y,"argument-error"),Pe(m.type===yp,y,"argument-error"),A="string"==typeof p?{phoneNumber:p}:p,"session"in A){const B=A.session;if("phoneNumber"in A)return Pe("enroll"===B.type,y,"internal-error"),(yield Na(y,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{Pe("signin"===B.type,y,"internal-error");const ee=(null===(b=A.multiFactorHint)||void 0===b?void 0:b.uid)||A.multiFactorUid;return Pe(ee,y,"missing-multi-factor-info"),(yield Mn(y,{mfaPendingCredential:B.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield Xi(y,{phoneNumber:A.phoneNumber,recaptchaToken:x});return B}}finally{m._reset()}})).apply(this,arguments)}function Za(){return(Za=(0,s.Z)(function*(y,p){yield Ma((0,F.m9)(y),p)})).apply(this,arguments)}let Pl=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=pn(m)}verifyPhoneNumber(m,b){return Gr(this.auth,m,(0,F.m9)(b))}static credential(m,b){return bo._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:x}=m;return b&&x?bo._fromTokenResponse(b,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Rn(y,p){return p?cn(p):(Pe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Yu extends _l{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return fs(p,this._buildIdpRequest())}_linkToIdToken(p,m){return fs(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return fs(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function T(y){return Dh(y.auth,new Yu(y),y.bypassAuthState)}function M(y){const{auth:p,user:m}=y;return Pe(m,p,"internal-error"),fc(m,new Yu(y),y.bypassAuthState)}function R(y){return V.apply(this,arguments)}function V(){return(V=(0,s.Z)(function*(y){const{auth:p,user:m}=y;return Pe(m,p,"internal-error"),Ma(m,new Yu(y),y.bypassAuthState)})).apply(this,arguments)}class K{constructor(p,m,b,x,A=!1){this.auth=p,this.resolver=b,this.user=x,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,s.Z)(function*(b,x){p.pendingPromise={resolve:b,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(A){p.reject(A)}});return function(b,x){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,s.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:A,tenantId:B,error:ee,type:xe}=p;if(ee)return void m.reject(ee);const Me={auth:m.auth,requestUri:b,sessionId:x,tenantId:B||void 0,postBody:A||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(xe)(Me))}catch(tt){m.reject(tt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return T;case"linkViaPopup":case"linkViaRedirect":return R;case"reauthViaPopup":case"reauthViaRedirect":return M;default:en(this.auth,"internal-error")}}resolve(p){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ae=new ct(2e3,1e4);function Be(){return(Be=(0,s.Z)(function*(y,p,m){const b=pn(y);Tr(y,p,Ir);const x=Rn(b,m);return new Zn(b,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function ft(){return(ft=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y);Tr(b.auth,p,Ir);const x=Rn(b.auth,m);return new Zn(b.auth,"reauthViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y);Tr(b.auth,p,Ir);const x=Rn(b.auth,m);return new Zn(b.auth,"linkViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}let Zn=(()=>{class y extends K{constructor(m,b,x,A,B){super(m,b,A,B),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,s.Z)(function*(){const b=yield m.execute();return Pe(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,s.Z)(function*(){Gn(1===m.filter.length,"Popup operations only handle one event");const b=bs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(qn(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,x;this.pollId=(null===(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,ae.get())};m()}}return y.currentPopupAction=null,y})();const zr=new Map;class qa extends K{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,s.Z)(function*(){let b=zr.get(m.auth._key());if(!b){try{const A=(yield function ko(y,p){return Ws.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(A)}catch(x){b=()=>Promise.reject(x)}zr.set(m.auth._key(),b)}return m.bypassAuthState||zr.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const x=yield b.auth._redirectUserForId(p.eventId);if(x)return b.user=x,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Ws(){return(Ws=(0,s.Z)(function*(y,p){const m=bp(p),b=kc(y);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(m));return yield b._remove(m),x})).apply(this,arguments)}function $r(y,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,s.Z)(function*(y,p){return kc(y)._set(bp(p),"true")})).apply(this,arguments)}function Es(y,p){zr.set(y._key(),p)}function kc(y){return cn(y._redirectPersistence)}function bp(y){return Sr("pendingRedirect",y.config.apiKey,y.name)}function wp(){return(wp=(0,s.Z)(function*(y,p,m){const b=pn(y);Tr(y,p,Ir);const x=Rn(b,m);return yield $r(x,b),x._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Ts(){return(Ts=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y);Tr(b.auth,p,Ir);const x=Rn(b.auth,m);yield $r(x,b.auth);const A=yield Dp(b);return x._openRedirect(b.auth,p,"reauthViaRedirect",A)})).apply(this,arguments)}function Yv(){return(Yv=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y);Tr(b.auth,p,Ir);const x=Rn(b.auth,m);yield Ni(!1,b,p.providerId),yield $r(x,b.auth);const A=yield Dp(b);return x._openRedirect(b.auth,p,"linkViaRedirect",A)})).apply(this,arguments)}function zh(){return(zh=(0,s.Z)(function*(y,p){return yield pn(y)._initializationPromise,Ku(y,p,!1)})).apply(this,arguments)}function Ku(y,p){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,s.Z)(function*(y,p,m=!1){const b=pn(y),x=Rn(b,p),B=yield new qa(b,x,m).execute();return B&&!m&&(delete B.user._redirectEventId,yield b._persistUserIfCurrent(B.user),yield b._setRedirectUser(null,p)),B})).apply(this,arguments)}function Dp(y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,s.Z)(function*(y){const p=bs(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Ep{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Wv(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tp(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!Tp(p)){const x=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(qn(this.auth,x))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jg(p))}saveEventToCache(p){this.cachedEventUids.add(jg(p)),this.lastProcessedEventTime=Date.now()}}function jg(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Tp({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function ea(y){return ta.apply(this,arguments)}function ta(){return(ta=(0,s.Z)(function*(y,p={}){return Jt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Zg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qg=/^https?/;function $h(){return($h=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield ea(y);for(const m of p)try{if(xp(m))return}catch(b){}en(y,"unauthorized-domain")})).apply(this,arguments)}function xp(y){const p=Qn(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const B=new URL(y);return""===B.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&B.hostname===b}if(!qg.test(m))return!1;if(Zg.test(y))return b===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const Qv=new ct(3e4,6e4);function Yh(){const y=$t().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let na=null;function Xv(y){return na=na||function Jv(y){return new Promise((p,m)=>{var b,x,A;function B(){Yh(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Yh(),m(qn(y,"network-request-failed"))},timeout:Qv.get()})}if(null===(x=null===(b=$t().gapi)||void 0===b?void 0:b.iframes)||void 0===x?void 0:x.Iframe)p(gapi.iframes.getContext());else{if(!(null===(A=$t().gapi)||void 0===A?void 0:A.load)){const ee=ju("iframefcb");return $t()[ee]=()=>{gapi.load?B():m(qn(y,"network-request-failed"))},Hu(`https://apis.google.com/js/api.js?onload=${ee}`).catch(xe=>m(xe))}B()}}).catch(p=>{throw na=null,p})}(y),na}const Mp=new ct(5e3,15e3),Rc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xs(y){const p=y.config;Pe(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?wt(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:le.SDK_VERSION},x=Gg.get(y.config.apiHost);x&&(b.eid=x);const A=y._getFrameworks();return A.length&&(b.fw=A.join(",")),`${m}?${(0,F.xO)(b).slice(1)}`}function Xu(){return Xu=(0,s.Z)(function*(y){const p=yield Xv(y),m=$t().gapi;return Pe(m,y,"internal-error"),p.open({where:document.body,url:xs(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rc,dontclear:!0},b=>new Promise(function(){var x=(0,s.Z)(function*(A,B){yield b.restyle({setHideOnLeave:!1});const ee=qn(y,"network-request-failed"),xe=$t().setTimeout(()=>{B(ee)},Mp.get());function Me(){$t().clearTimeout(xe),A(b)}b.ping(Me).then(Me,()=>{B(ee)})});return function(A,B){return x.apply(this,arguments)}}()))}),Xu.apply(this,arguments)}const zg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Kh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function td(y,p,m,b,x,A){Pe(y.config.authDomain,y,"auth-domain-config-required"),Pe(y.config.apiKey,y,"invalid-api-key");const B={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:le.SDK_VERSION,eventId:x};if(p instanceof Ir){p.setDefaultLanguage(y.languageCode),B.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(B.customParameters=JSON.stringify(p.getCustomParameters()));for(const[xe,Me]of Object.entries(A||{}))B[xe]=Me}if(p instanceof gs){const xe=p.getScopes().filter(Me=>""!==Me);xe.length>0&&(B.scopes=xe.join(","))}y.tenantId&&(B.tid=y.tenantId);const ee=B;for(const xe of Object.keys(ee))void 0===ee[xe]&&delete ee[xe];return`${function nd({config:y}){return y.emulator?wt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,F.xO)(ee).slice(1)}`}const Ip="webStorageSupport";class Oc extends class Ap{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return ut("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Oc(p)}_finalizeEnroll(p,m,b){return function vs(y,p){return Jt(y,"POST","/v2/accounts/mfaEnrollment:finalize",vn(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Bu(y,p){return Jt(y,"POST","/v2/accounts/mfaSignIn:finalize",vn(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kg=(()=>{class y{constructor(){}static assertion(m){return Oc._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Pc="@firebase/auth";class ui{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,s.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var x;p((null===(x=b)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ia(){return window}function Qh(){return(Qh=(0,s.Z)(function*(y,p,m){var b;const{BuildInfo:x}=ia();Gn(p.sessionId,"AuthEvent did not contain a session ID");const A=yield Xg(p.sessionId),B={};return Zt()?B.ibi=x.packageName:In()?B.apn=x.packageName:en(y,"operation-not-supported-in-this-environment"),x.displayName&&(B.appDisplayName=x.displayName),B.sessionId=A,td(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,B)})).apply(this,arguments)}function Jg(){return(Jg=(0,s.Z)(function*(y){const{BuildInfo:p}=ia(),m={};Zt()?m.iosBundleId=p.packageName:In()?m.androidPackageName=p.packageName:en(y,"operation-not-supported-in-this-environment"),yield ea(y,m)})).apply(this,arguments)}function Nl(){return(Nl=(0,s.Z)(function*(y,p,m){const{cordova:b}=ia();let x=()=>{};try{yield new Promise((A,B)=>{let ee=null;function xe(){var lt;A();const qt=null===(lt=b.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof qt&&qt(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Me(){ee||(ee=window.setTimeout(()=>{B(qn(y,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===(null==document?void 0:document.visibilityState)&&Me()}p.addPassiveListener(xe),document.addEventListener("resume",Me,!1),In()&&document.addEventListener("visibilitychange",tt,!1),x=()=>{p.removePassiveListener(xe),document.removeEventListener("resume",Me,!1),document.removeEventListener("visibilitychange",tt,!1),ee&&window.clearTimeout(ee)}})}finally{x()}})).apply(this,arguments)}function Xg(y){return Op.apply(this,arguments)}function Op(){return(Op=(0,s.Z)(function*(y){const p=sb(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function sb(y){if(Gn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}!function nb(y){(0,le._registerComponent)(new bt.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),{apiKey:A,authDomain:B}=b.options;return((ee,xe)=>{Pe(A&&!A.includes(":"),"invalid-api-key",{appName:ee.name}),Pe(!(null==B?void 0:B.includes(":")),"argument-error",{appName:ee.name});const Me={apiKey:A,authDomain:B,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lc(y)},tt=new yo(ee,xe,Me);return function Lo(y,p){const m=(null==p?void 0:p.persistence)||[],b=(Array.isArray(m)?m:[m]).map(cn);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(tt,m),tt})(b,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new bt.wA("auth-internal",p=>{const m=pn(p.getProvider("auth").getImmediate());return new ui(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Pc,"0.20.5",function kp(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(Pc,"0.20.5","esm2017")}("Browser");class nt extends Ep{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function rd(y){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,s.Z)(function*(y){const p=yield me()._get(Rr(y));return p&&(yield me()._remove(Rr(y))),p})).apply(this,arguments)}function Pp(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function me(){return cn(Ar)}function Rr(y){return Sr("authEvent",y.config.apiKey,y.name)}function Ll(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,F.zd)(m.join("?"))}function Yn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:qn("no-auth-event")}}function sd(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function t_(y=(0,F.z$)()){return!("file:"!==sd()&&"ionic:"!==sd()&&"capacitor:"!==sd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function r_(){try{const y=self.localStorage,p=bs();if(y)return y.setItem(p,"1"),y.removeItem(p),!function db(y=(0,F.z$)()){return function i_(){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ub(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch(y){return od()&&(0,F.hl)()}return!1}function od(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Lp(){return(function cb(){return"http:"===sd()||"https:"===sd()}()||(0,F.ru)()||t_())&&!function n_(){return(0,F.b$)()||(0,F.UG)()}()&&r_()&&!od()}function s_(){return t_()&&"undefined"!=typeof document}function ra(){return(ra=(0,s.Z)(function*(){return!!s_()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const rr={LOCAL:"local",NONE:"none",SESSION:"session"},Ga=Pe,Vi="persistence";function Ms(y){return ad.apply(this,arguments)}function ad(){return(ad=(0,s.Z)(function*(y){yield y._initializationPromise;const p=o_(),m=Sr(Vi,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function o_(){var y;try{return(null===(y=function Qs(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const a_=Pe;class mr{constructor(){this.browserResolver=cn(class Yg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ir,this._completeRedirectFn=Ku,this._overrideRedirectResult=Es}_openPopup(p,m,b,x){var A=this;return(0,s.Z)(function*(){var B;Gn(null===(B=A.eventManagers[p._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const ee=td(p,m,b,Qn(),x);return function $g(y,p,m,b=500,x=600){const A=Math.max((window.screen.availHeight-x)/2,0).toString(),B=Math.max((window.screen.availWidth-b)/2,0).toString();let ee="";const xe=Object.assign(Object.assign({},zg),{width:b.toString(),height:x.toString(),top:A,left:B}),Me=(0,F.z$)().toLowerCase();m&&(ee=ml(Me)?"_blank":m),pl(Me)&&(p=p||"http://localhost",xe.scrollbars="yes");const tt=Object.entries(xe).reduce((qt,[Ti,Wn])=>`${qt}${Ti}=${Wn},`,"");if(function uh(y=(0,F.z$)()){var p;return Zt(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Me)&&"_self"!==ee)return function ed(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",ee),new Kh(null);const lt=window.open(p||"",ee,tt);Pe(lt,y,"popup-blocked");try{lt.focus()}catch(qt){}return new Kh(lt)}(p,ee,bs())})()}_openRedirect(p,m,b,x){var A=this;return(0,s.Z)(function*(){return yield A._originValidation(p),function So(y){$t().location.href=y}(td(p,m,b,Qn(),x)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:x,promise:A}=this.eventManagers[m];return x?Promise.resolve(x):(Gn(A,"If manager is not set, promise should be"),A)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,s.Z)(function*(){const b=yield function Ju(y){return Xu.apply(this,arguments)}(p),x=new Ep(p);return b.register("authEvent",A=>(Pe(null==A?void 0:A.authEvent,p,"invalid-auth-event"),{status:x.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:x},m.iframes[p._key()]=b,x})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Ip,{type:Ip},x=>{var A;const B=null===(A=null==x?void 0:x[0])||void 0===A?void 0:A[Ip];void 0!==B&&m(!!B),en(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Kv(y){return $h.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return ji()||mi()||Zt()}}),this.cordovaResolver=cn(class ob{constructor(){this._redirectPersistence=ir,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ku,this._overrideRedirectResult=Es}_initialize(p){var m=this;return(0,s.Z)(function*(){const b=p._key();let x=m.eventManagers.get(b);return x||(x=new nt(p),m.eventManagers.set(b,x),m.attachCallbackListeners(p,x)),x})()}_openPopup(p){en(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,x){var A=this;return(0,s.Z)(function*(){!function pr(y){var p,m,b,x,A,B,ee,xe,Me,tt;const lt=ia();Pe("function"==typeof(null===(p=null==lt?void 0:lt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Pe(void 0!==(null===(m=null==lt?void 0:lt.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Pe("function"==typeof(null===(A=null===(x=null===(b=null==lt?void 0:lt.cordova)||void 0===b?void 0:b.plugins)||void 0===x?void 0:x.browsertab)||void 0===A?void 0:A.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Pe("function"==typeof(null===(xe=null===(ee=null===(B=null==lt?void 0:lt.cordova)||void 0===B?void 0:B.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===xe?void 0:xe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Pe("function"==typeof(null===(tt=null===(Me=null==lt?void 0:lt.cordova)||void 0===Me?void 0:Me.InAppBrowser)||void 0===tt?void 0:tt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const B=yield A._initialize(p);yield B.initialized(),B.resetRedirect(),function Xo(){zr.clear()}(),yield A._originValidation(p);const ee=function Fc(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Pp(),postBody:null,tenantId:y.tenantId,error:qn(y,"no-auth-event")}}(p,b,x);yield function Zi(y,p){return me()._set(Rr(y),p)}(p,ee);const xe=yield function ib(y,p,m){return Qh.apply(this,arguments)}(p,ee,m),Me=yield function rM(y){const{cordova:p}=ia();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let x=null;b?p.plugins.browsertab.openUrl(y):x=p.InAppBrowser.open(y,function bn(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(x)})})}(xe);return function rb(y,p,m){return Nl.apply(this,arguments)}(p,B,Me)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function fC(y){return Jg.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:x,BuildInfo:A}=ia(),B=setTimeout((0,s.Z)(function*(){yield rd(p),m.onEvent(Yn())}),500),ee=function(){var tt=(0,s.Z)(function*(lt){clearTimeout(B);const qt=yield rd(p);let Ti=null;qt&&(null==lt?void 0:lt.url)&&(Ti=function $n(y,p){var m,b;const x=function Nc(y){const p=Ll(y),m=p.link?decodeURIComponent(p.link):void 0,b=Ll(m).link,x=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Ll(x).link||x||b||m||y}(p);if(x.includes("/__/auth/callback")){const A=Ll(x),B=A.firebaseError?function Tt(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(A.firebaseError)):null,ee=null===(b=null===(m=null==B?void 0:B.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],xe=ee?qn(ee):null;return xe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:xe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}(qt,lt.url)),m.onEvent(Ti||Yn())});return function(qt){return tt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ee);const xe=x,Me=`${A.packageName.toLowerCase()}://`;ia().handleOpenURL=function(){var tt=(0,s.Z)(function*(lt){if(lt.toLowerCase().startsWith(Me)&&ee({url:lt}),"function"==typeof xe)try{xe(lt)}catch(qt){console.error(qt)}});return function(lt){return tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ir,this._completeRedirectFn=Ku,this._overrideRedirectResult=Es}_initialize(p){var m=this;return(0,s.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,x){var A=this;return(0,s.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openPopup(p,m,b,x)})()}_openRedirect(p,m,b,x){var A=this;return(0,s.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openRedirect(p,m,b,x)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return s_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return a_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Lc(){return ra.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Jh(y){return y.unwrap()}function ld(y){return ef(y)}function ef(y){const{_tokenResponse:p}=y instanceof F.ZR?y.customData:y;if(!p)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Pl.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=ai;break;case"facebook.com":b=tr;break;case"github.com":b=Ea;break;case"twitter.com":b=vt;break;default:const{oauthIdToken:x,oauthAccessToken:A,oauthTokenSecret:B,pendingToken:ee,nonce:xe}=p;return A||B||x||ee?ee?m.startsWith("saml.")?Pi._create(m,ee):ps._fromParams({providerId:m,signInMethod:m,pendingToken:ee,idToken:x,accessToken:A}):new er(m).credential({idToken:x,accessToken:A,rawNonce:xe}):null}return y instanceof F.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function _i(y,p){return p.catch(m=>{throw m instanceof F.ZR&&function Js(y,p){var m,b;const x=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=p)||void 0===b?void 0:b.code))p.resolver=new l_(y,function Dc(y,p){var m;const b=(0,F.m9)(y),x=p;return Pe(p.customData.operationType,b,"argument-error"),Pe(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),xo._fromError(b,x)}(y,p));else if(x){const A=ef(p),B=p;A&&(B.credential=A,B.tenantId=x.tenantId||void 0,B.email=x.email||void 0,B.phoneNumber=x.phoneNumber||void 0)}}(y,m),m}).then(m=>{const x=m.user;return{operationType:m.operationType,credential:ld(m),additionalUserInfo:Oh(m),user:sa.getOrCreate(x)}})}function za(y,p){return $a.apply(this,arguments)}function $a(){return($a=(0,s.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>_i(y,m.confirm(b))}})).apply(this,arguments)}class l_{constructor(p,m){this.resolver=m,this.auth=function Xh(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return _i(Jh(this.auth),this.resolver.resolveSignIn(p))}}class sa{constructor(p){this._delegate=p,this.multiFactor=function Nh(y){const p=(0,F.m9)(y);return zo.has(p)||zo.set(p,Nu._fromUser(p)),zo.get(p)}(p)}static getOrCreate(p){return sa.USER_MAP.has(p)||sa.USER_MAP.set(p,new sa(p)),sa.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,s.Z)(function*(){return _i(m.auth,Zr(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,s.Z)(function*(){return za(b.auth,function Sc(y,p,m){return Ol.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,s.Z)(function*(){return _i(m.auth,function At(y,p,m){return pt.apply(this,arguments)}(m._delegate,p,mr))})()}linkWithRedirect(p){var m=this;return(0,s.Z)(function*(){return yield Ms(pn(m.auth)),function Hg(y,p,m){return function lC(y,p,m){return Yv.apply(this,arguments)}(y,p,m)}(m._delegate,p,mr)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,s.Z)(function*(){return _i(m.auth,_s(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return za(this.auth,function Ds(y,p,m){return $u.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return _i(this.auth,function ht(y,p,m){return ft.apply(this,arguments)}(this._delegate,p,mr))}reauthenticateWithRedirect(p){var m=this;return(0,s.Z)(function*(){return yield Ms(pn(m.auth)),function Gh(y,p,m){return function Fl(y,p,m){return Ts.apply(this,arguments)}(y,p,m)}(m._delegate,p,mr)})()}sendEmailVerification(p){return function vc(y,p){return bc.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,s.Z)(function*(){return yield function Ch(y,p){return wn.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function wc(y,p){return Fu((0,F.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Ah(y,p){return Fu((0,F.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Ac(y,p){return Za.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function mp(y,p){return Ih.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function pp(y,p,m){return Sh.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}sa.USER_MAP=new WeakMap;const Bl=Pe;let c_=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=m.options;Bl(x,"invalid-api-key",{appName:m.name}),Bl(x,"invalid-api-key",{appName:m.name});const A="undefined"!=typeof window?mr:void 0;this._delegate=b.initialize({options:{persistence:hb(x,m.name),popupRedirectResolver:A}}),this._delegate._updateErrorMap(yn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?sa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Rg(y,p,m){const b=pn(y);Pe(b._canInitEmulator,b,"emulator-config-failed"),Pe(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const x=!!(null==m?void 0:m.disableWarnings),A=sp(p),{host:B,port:ee}=function Hr(y){const p=sp(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const A=x[1];return{host:A,port:op(b.substr(A.length+1))}}{const[A,B]=b.split(":");return{host:A,port:op(B)}}}(p);b.config.emulator={url:`${A}//${B}${null===ee?"":`:${ee}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:B,port:ee,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Og(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function dp(y,p){return xl.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return _c(this._delegate,m)}confirmPasswordReset(m,b){return function Ru(y,p,m){return Ra.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var x=this;return(0,s.Z)(function*(){return _i(x._delegate,function Lg(y,p,m){return li.apply(this,arguments)}(x._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Pu(y,p){return Eo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Ou(y,p){const m=wo.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,s.Z)(function*(){Bl(Lp(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Cp(y,p){return zh.apply(this,arguments)}(m._delegate,mr);return b?_i(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Np(y,p){pn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,x){const{next:A,error:B,complete:ee}=u_(m,b,x);return this._delegate.onAuthStateChanged(A,B,ee)}onIdTokenChanged(m,b,x){const{next:A,error:B,complete:ee}=u_(m,b,x);return this._delegate.onIdTokenChanged(A,B,ee)}sendSignInLinkToEmail(m,b){return function Bn(y,p,m){return Oa.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Tl(y,p,m){return gc.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,s.Z)(function*(){let x;switch(function pC(y,p){Ga(Object.values(rr).includes(p),y,"invalid-persistence-type"),(0,F.b$)()?Ga(p!==rr.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?Ga(p===rr.NONE,y,"unsupported-persistence-type"):od()?Ga(p===rr.NONE||p===rr.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):Ga(p===rr.NONE||r_(),y,"unsupported-persistence-type")}(b._delegate,m),m){case rr.SESSION:x=ir;break;case rr.LOCAL:x=(yield cn(mn)._isAvailable())?mn:Ar;break;case rr.NONE:x=rn;break;default:return en("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return _i(this._delegate,function ku(y){return hc.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return _i(this._delegate,qo(this._delegate,m))}signInWithCustomToken(m){return _i(this._delegate,function up(y,p){return El.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return _i(this._delegate,function Ci(y,p,m){return qo((0,F.m9)(y),Oi.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return _i(this._delegate,function xh(y,p,m){return hp.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return za(this._delegate,function fr(y,p,m){return Ys.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,s.Z)(function*(){return Bl(Lp(),b._delegate,"operation-not-supported-in-this-environment"),_i(b._delegate,function Ce(y,p,m){return Be.apply(this,arguments)}(b._delegate,m,mr))})()}signInWithRedirect(m){var b=this;return(0,s.Z)(function*(){return Bl(Lp(),b._delegate,"operation-not-supported-in-this-environment"),yield Ms(b._delegate),function Wu(y,p,m){return function qh(y,p,m){return wp.apply(this,arguments)}(y,p,m)}(b._delegate,m,mr)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function yc(y,p){return Th.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=rr,y})();function u_(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const x=b;return{next:B=>x(B&&sa.getOrCreate(B)),error:p,complete:m}}function hb(y,p){const m=function Vp(y,p){const m=o_();if(!m)return[];const b=Sr(Vi,y,p);switch(m.getItem(b)){case rr.NONE:return[rn];case rr.LOCAL:return[mn,ir];case rr.SESSION:return[ir];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(mn)&&m.push(mn),"undefined"!=typeof window)for(const b of[Ar,ir])m.includes(b)||m.push(b);return m.includes(rn)||m.push(rn),m}class Bp{constructor(){this.providerId="phone",this._delegate=new Pl(Jh(X.Z.auth()))}static credential(p,m){return Pl.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Bp.PHONE_SIGN_IN_METHOD=Pl.PHONE_SIGN_IN_METHOD,Bp.PROVIDER_ID=Pl.PROVIDER_ID;const fb=Pe;class pb{constructor(p,m,b=X.Z.app()){var x;fb(null===(x=b.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Zh(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function cd(y){y.INTERNAL.registerComponent(new bt.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new c_(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Oi,FacebookAuthProvider:tr,GithubAuthProvider:Ea,GoogleAuthProvider:ai,OAuthProvider:er,SAMLAuthProvider:Co,PhoneAuthProvider:Bp,PhoneMultiFactorGenerator:Kg,RecaptchaVerifier:pb,TwitterAuthProvider:vt,Auth:c_,AuthCredential:_l,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(X.Z)},8306:(Xe,ye,P)=>{P.d(ye,{y:()=>q});var s=P(930),X=P(727),F=P(8822),le=P(4671);var te=P(2416),ue=P(576),fe=P(2806);let q=(()=>{class Ee{constructor(Ze){Ze&&(this._subscribe=Ze)}lift(Ze){const pe=new Ee;return pe.source=this,pe.operator=Ze,pe}subscribe(Ze,pe,ge){const Re=function Ge(Ee){return Ee&&Ee instanceof s.Lv||function re(Ee){return Ee&&(0,ue.m)(Ee.next)&&(0,ue.m)(Ee.error)&&(0,ue.m)(Ee.complete)}(Ee)&&(0,X.Nn)(Ee)}(Ze)?Ze:new s.Hp(Ze,pe,ge);return(0,fe.x)(()=>{const{operator:qe,source:Le}=this;Re.add(qe?qe.call(Re,Le):Le?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(Ze){try{return this._subscribe(Ze)}catch(pe){Ze.error(pe)}}forEach(Ze,pe){return new(pe=W(pe))((ge,Re)=>{let qe;qe=this.subscribe(Le=>{try{Ze(Le)}catch(et){Re(et),null==qe||qe.unsubscribe()}},Re,ge)})}_subscribe(Ze){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Ze)}[F.L](){return this}pipe(...Ze){return function ve(Ee){return 0===Ee.length?le.y:1===Ee.length?Ee[0]:function(Ze){return Ee.reduce((pe,ge)=>ge(pe),Ze)}}(Ze)(this)}toPromise(Ze){return new(Ze=W(Ze))((pe,ge)=>{let Re;this.subscribe(qe=>Re=qe,qe=>ge(qe),()=>pe(Re))})}}return Ee.create=Oe=>new Ee(Oe),Ee})();function W(Ee){var Oe;return null!==(Oe=null!=Ee?Ee:te.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(Xe,ye,P)=>{P.d(ye,{x:()=>te});var s=P(8306),X=P(727);const le=(0,P(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=P(8737),ve=P(2806);let te=(()=>{class fe extends s.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const re=new ue(this,this);return re.operator=W,re}_throwIfClosed(){if(this.closed)throw new le}next(W){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const re=this.observers.slice();for(const Ge of re)Ge.next(W)}})}error(W){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:re}=this;for(;re.length;)re.shift().error(W)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:re,isStopped:Ge,observers:Ee}=this;return re||Ge?X.Lc:(Ee.push(W),new X.w0(()=>(0,ce.P)(Ee,W)))}_checkFinalizedStatuses(W){const{hasError:re,thrownError:Ge,isStopped:Ee}=this;re?W.error(Ge):Ee&&W.complete()}asObservable(){const W=new s.y;return W.source=this,W}}return fe.create=(q,W)=>new ue(q,W),fe})();class ue extends te{constructor(q,W){super(),this.destination=q,this.source=W}next(q){var W,re;null===(re=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===re||re.call(W,q)}error(q){var W,re;null===(re=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===re||re.call(W,q)}complete(){var q,W;null===(W=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===W||W.call(q)}_subscribe(q){var W,re;return null!==(re=null===(W=this.source)||void 0===W?void 0:W.subscribe(q))&&void 0!==re?re:X.Lc}}},930:(Xe,ye,P)=>{P.d(ye,{Hp:()=>Ge,Lv:()=>re});var s=P(576),X=P(727),F=P(2416),le=P(7849),ce=P(5032);const ve=fe("C",void 0,void 0);function fe(ge,Re,qe){return{kind:ge,value:Re,error:qe}}var q=P(3410),W=P(2806);class re extends X.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,X.Nn)(Re)&&Re.add(this)):this.destination=pe}static create(Re,qe,Le){return new Ge(Re,qe,Le)}next(Re){this.isStopped?Ze(function ue(ge){return fe("N",ge,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?Ze(function te(ge){return fe("E",void 0,ge)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?Ze(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ge extends re{constructor(Re,qe,Le){let et;if(super(),(0,s.m)(Re))et=Re;else if(Re){let Se;({next:et,error:qe,complete:Le}=Re),this&&F.v.useDeprecatedNextContext?(Se=Object.create(Re),Se.unsubscribe=()=>this.unsubscribe()):Se=Re,et=null==et?void 0:et.bind(Se),qe=null==qe?void 0:qe.bind(Se),Le=null==Le?void 0:Le.bind(Se)}this.destination={next:et?Ee(et):ce.Z,error:Ee(null!=qe?qe:Oe),complete:Le?Ee(Le):ce.Z}}}function Ee(ge,Re){return(...qe)=>{try{ge(...qe)}catch(Le){F.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Le):(0,le.h)(Le)}}}function Oe(ge){throw ge}function Ze(ge,Re){const{onStoppedNotification:qe}=F.v;qe&&q.z.setTimeout(()=>qe(ge,Re))}const pe={closed:!0,next:ce.Z,error:Oe,complete:ce.Z}},727:(Xe,ye,P)=>{P.d(ye,{Lc:()=>ve,w0:()=>ce,Nn:()=>te});var s=P(576);const F=(0,P(3888).d)(fe=>function(W){fe(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((re,Ge)=>`${Ge+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var le=P(8737);class ce{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ee of W)Ee.remove(this);else W.remove(this);const{initialTeardown:re}=this;if((0,s.m)(re))try{re()}catch(Ee){q=Ee instanceof F?Ee.errors:[Ee]}const{_teardowns:Ge}=this;if(Ge){this._teardowns=null;for(const Ee of Ge)try{ue(Ee)}catch(Oe){q=null!=q?q:[],Oe instanceof F?q=[...q,...Oe.errors]:q.push(Oe)}}if(q)throw new F(q)}}add(q){var W;if(q&&q!==this)if(this.closed)ue(q);else{if(q instanceof ce){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._teardowns=null!==(W=this._teardowns)&&void 0!==W?W:[]).push(q)}}_hasParent(q){const{_parentage:W}=this;return W===q||Array.isArray(W)&&W.includes(q)}_addParent(q){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(q),W):W?[W,q]:q}_removeParent(q){const{_parentage:W}=this;W===q?this._parentage=null:Array.isArray(W)&&(0,le.P)(W,q)}remove(q){const{_teardowns:W}=this;W&&(0,le.P)(W,q),q instanceof ce&&q._removeParent(this)}}ce.EMPTY=(()=>{const fe=new ce;return fe.closed=!0,fe})();const ve=ce.EMPTY;function te(fe){return fe instanceof ce||fe&&"closed"in fe&&(0,s.m)(fe.remove)&&(0,s.m)(fe.add)&&(0,s.m)(fe.unsubscribe)}function ue(fe){(0,s.m)(fe)?fe():fe.unsubscribe()}},2416:(Xe,ye,P)=>{P.d(ye,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xe,ye,P)=>{P.d(ye,{E:()=>X});const X=new(P(8306).y)(ce=>ce.complete())},8996:(Xe,ye,P)=>{P.d(ye,{D:()=>et});var s=P(8421),X=P(5363),F=P(9468),ve=P(8306),ue=P(2202),fe=P(576),q=P(9672);function re(Se,it){if(!Se)throw new Error("Iterable cannot be null");return new ve.y(We=>{(0,q.f)(We,it,()=>{const we=Se[Symbol.asyncIterator]();(0,q.f)(We,it,()=>{we.next().then(z=>{z.done?We.complete():We.next(z.value)})},0,!0)})})}var Ge=P(3670),Ee=P(8239),Oe=P(1144),Ze=P(6495),pe=P(2206),ge=P(4532),Re=P(3260);function et(Se,it){return it?function Le(Se,it){if(null!=Se){if((0,Ge.c)(Se))return function le(Se,it){return(0,s.Xf)(Se).pipe((0,F.R)(it),(0,X.Q)(it))}(Se,it);if((0,Oe.z)(Se))return function te(Se,it){return new ve.y(We=>{let we=0;return it.schedule(function(){we===Se.length?We.complete():(We.next(Se[we++]),We.closed||this.schedule())})})}(Se,it);if((0,Ee.t)(Se))return function ce(Se,it){return(0,s.Xf)(Se).pipe((0,F.R)(it),(0,X.Q)(it))}(Se,it);if((0,pe.D)(Se))return re(Se,it);if((0,Ze.T)(Se))return function W(Se,it){return new ve.y(We=>{let we;return(0,q.f)(We,it,()=>{we=Se[ue.h](),(0,q.f)(We,it,()=>{let z,ne;try{({value:z,done:ne}=we.next())}catch(he){return void We.error(he)}ne?We.complete():We.next(z)},0,!0)}),()=>(0,fe.m)(null==we?void 0:we.return)&&we.return()})}(Se,it);if((0,Re.L)(Se))return function qe(Se,it){return re((0,Re.Q)(Se),it)}(Se,it)}throw(0,ge.z)(Se)}(Se,it):(0,s.Xf)(Se)}},8421:(Xe,ye,P)=>{P.d(ye,{Xf:()=>Ge});var s=P(5987),X=P(1144),F=P(8239),le=P(8306),ce=P(3670),ve=P(2206),te=P(4532),ue=P(6495),fe=P(3260),q=P(576),W=P(7849),re=P(8822);function Ge(Le){if(Le instanceof le.y)return Le;if(null!=Le){if((0,ce.c)(Le))return function Ee(Le){return new le.y(et=>{const Se=Le[re.L]();if((0,q.m)(Se.subscribe))return Se.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,X.z)(Le))return function Oe(Le){return new le.y(et=>{for(let Se=0;Se<Le.length&&!et.closed;Se++)et.next(Le[Se]);et.complete()})}(Le);if((0,F.t)(Le))return function Ze(Le){return new le.y(et=>{Le.then(Se=>{et.closed||(et.next(Se),et.complete())},Se=>et.error(Se)).then(null,W.h)})}(Le);if((0,ve.D)(Le))return ge(Le);if((0,ue.T)(Le))return function pe(Le){return new le.y(et=>{for(const Se of Le)if(et.next(Se),et.closed)return;et.complete()})}(Le);if((0,fe.L)(Le))return function Re(Le){return ge((0,fe.Q)(Le))}(Le)}throw(0,te.z)(Le)}function ge(Le){return new le.y(et=>{(function qe(Le,et){var Se,it,We,we;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Se=(0,s.KL)(Le);!(it=yield Se.next()).done;)if(et.next(it.value),et.closed)return}catch(z){We={error:z}}finally{try{it&&!it.done&&(we=Se.return)&&(yield we.call(Se))}finally{if(We)throw We.error}}et.complete()})})(Le,et).catch(Se=>et.error(Se))})}},6451:(Xe,ye,P)=>{P.d(ye,{T:()=>ve});var s=P(8189),X=P(8421),F=P(515),le=P(3269),ce=P(8996);function ve(...te){const ue=(0,le.yG)(te),fe=(0,le._6)(te,1/0),q=te;return q.length?1===q.length?(0,X.Xf)(q[0]):(0,s.J)(fe)((0,ce.D)(q,ue)):F.E}},5403:(Xe,ye,P)=>{P.d(ye,{Q:()=>X});var s=P(930);class X extends s.Lv{constructor(le,ce,ve,te,ue){super(le),this.onFinalize=ue,this._next=ce?function(fe){try{ce(fe)}catch(q){le.error(q)}}:super._next,this._error=te?function(fe){try{te(fe)}catch(q){le.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(fe){le.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}},4004:(Xe,ye,P)=>{P.d(ye,{U:()=>F});var s=P(4482),X=P(5403);function F(le,ce){return(0,s.e)((ve,te)=>{let ue=0;ve.subscribe(new X.Q(te,fe=>{te.next(le.call(ce,fe,ue++))}))})}},8189:(Xe,ye,P)=>{P.d(ye,{J:()=>F});var s=P(5577),X=P(4671);function F(le=1/0){return(0,s.z)(X.y,le)}},5577:(Xe,ye,P)=>{P.d(ye,{z:()=>ue});var s=P(4004),X=P(8421),F=P(4482),le=P(9672),ce=P(5403),te=P(576);function ue(fe,q,W=1/0){return(0,te.m)(q)?ue((re,Ge)=>(0,s.U)((Ee,Oe)=>q(re,Ee,Ge,Oe))((0,X.Xf)(fe(re,Ge))),W):("number"==typeof q&&(W=q),(0,F.e)((re,Ge)=>function ve(fe,q,W,re,Ge,Ee,Oe,Ze){const pe=[];let ge=0,Re=0,qe=!1;const Le=()=>{qe&&!pe.length&&!ge&&q.complete()},et=it=>ge<re?Se(it):pe.push(it),Se=it=>{Ee&&q.next(it),ge++;let We=!1;(0,X.Xf)(W(it,Re++)).subscribe(new ce.Q(q,we=>{null==Ge||Ge(we),Ee?et(we):q.next(we)},()=>{We=!0},void 0,()=>{if(We)try{for(ge--;pe.length&&ge<re;){const we=pe.shift();Oe?(0,le.f)(q,Oe,()=>Se(we)):Se(we)}Le()}catch(we){q.error(we)}}))};return fe.subscribe(new ce.Q(q,et,()=>{qe=!0,Le()})),()=>{null==Ze||Ze()}}(re,Ge,fe,W)))}},5363:(Xe,ye,P)=>{P.d(ye,{Q:()=>le});var s=P(9672),X=P(4482),F=P(5403);function le(ce,ve=0){return(0,X.e)((te,ue)=>{te.subscribe(new F.Q(ue,fe=>(0,s.f)(ue,ce,()=>ue.next(fe),ve),()=>(0,s.f)(ue,ce,()=>ue.complete(),ve),fe=>(0,s.f)(ue,ce,()=>ue.error(fe),ve)))})}},3099:(Xe,ye,P)=>{P.d(ye,{B:()=>ve});var s=P(8996),X=P(5698),F=P(7579),le=P(930),ce=P(4482);function ve(ue={}){const{connector:fe=(()=>new F.x),resetOnError:q=!0,resetOnComplete:W=!0,resetOnRefCountZero:re=!0}=ue;return Ge=>{let Ee=null,Oe=null,Ze=null,pe=0,ge=!1,Re=!1;const qe=()=>{null==Oe||Oe.unsubscribe(),Oe=null},Le=()=>{qe(),Ee=Ze=null,ge=Re=!1},et=()=>{const Se=Ee;Le(),null==Se||Se.unsubscribe()};return(0,ce.e)((Se,it)=>{pe++,!Re&&!ge&&qe();const We=Ze=null!=Ze?Ze:fe();it.add(()=>{pe--,0===pe&&!Re&&!ge&&(Oe=te(et,re))}),We.subscribe(it),Ee||(Ee=new le.Hp({next:we=>We.next(we),error:we=>{Re=!0,qe(),Oe=te(Le,q,we),We.error(we)},complete:()=>{ge=!0,qe(),Oe=te(Le,W),We.complete()}}),(0,s.D)(Se).subscribe(Ee))})(Ge)}}function te(ue,fe,...q){return!0===fe?(ue(),null):!1===fe?null:fe(...q).pipe((0,X.q)(1)).subscribe(()=>ue())}},9468:(Xe,ye,P)=>{P.d(ye,{R:()=>X});var s=P(4482);function X(F,le=0){return(0,s.e)((ce,ve)=>{ve.add(F.schedule(()=>ce.subscribe(ve),le))})}},5698:(Xe,ye,P)=>{P.d(ye,{q:()=>le});var s=P(515),X=P(4482),F=P(5403);function le(ce){return ce<=0?()=>s.E:(0,X.e)((ve,te)=>{let ue=0;ve.subscribe(new F.Q(te,fe=>{++ue<=ce&&(te.next(fe),ce<=ue&&te.complete())}))})}},8505:(Xe,ye,P)=>{P.d(ye,{b:()=>ce});var s=P(576),X=P(4482),F=P(5403),le=P(4671);function ce(ve,te,ue){const fe=(0,s.m)(ve)||te||ue?{next:ve,error:te,complete:ue}:ve;return fe?(0,X.e)((q,W)=>{var re;null===(re=fe.subscribe)||void 0===re||re.call(fe);let Ge=!0;q.subscribe(new F.Q(W,Ee=>{var Oe;null===(Oe=fe.next)||void 0===Oe||Oe.call(fe,Ee),W.next(Ee)},()=>{var Ee;Ge=!1,null===(Ee=fe.complete)||void 0===Ee||Ee.call(fe),W.complete()},Ee=>{var Oe;Ge=!1,null===(Oe=fe.error)||void 0===Oe||Oe.call(fe,Ee),W.error(Ee)},()=>{var Ee,Oe;Ge&&(null===(Ee=fe.unsubscribe)||void 0===Ee||Ee.call(fe)),null===(Oe=fe.finalize)||void 0===Oe||Oe.call(fe)}))}):le.y}},4408:(Xe,ye,P)=>{P.d(ye,{o:()=>ce});var s=P(727);class X extends s.w0{constructor(te,ue){super()}schedule(te,ue=0){return this}}const F={setInterval(...ve){const{delegate:te}=F;return((null==te?void 0:te.setInterval)||setInterval)(...ve)},clearInterval(ve){const{delegate:te}=F;return((null==te?void 0:te.clearInterval)||clearInterval)(ve)},delegate:void 0};var le=P(8737);class ce extends X{constructor(te,ue){super(te,ue),this.scheduler=te,this.work=ue,this.pending=!1}schedule(te,ue=0){if(this.closed)return this;this.state=te;const fe=this.id,q=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(q,fe,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(q,this.id,ue),this}requestAsyncId(te,ue,fe=0){return F.setInterval(te.flush.bind(te,this),fe)}recycleAsyncId(te,ue,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return ue;F.clearInterval(ue)}execute(te,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(te,ue);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,ue){let q,fe=!1;try{this.work(te)}catch(W){fe=!0,q=W||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:te,scheduler:ue}=this,{actions:fe}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(fe,this),null!=te&&(this.id=this.recycleAsyncId(ue,te,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xe,ye,P)=>{P.d(ye,{v:()=>F});var s=P(6063);class X{constructor(ce,ve=X.now){this.schedulerActionCtor=ce,this.now=ve}schedule(ce,ve=0,te){return new this.schedulerActionCtor(this,ce).schedule(te,ve)}}X.now=s.l.now;class F extends X{constructor(ce,ve=X.now){super(ce,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ce){const{actions:ve}=this;if(this._active)return void ve.push(ce);let te;this._active=!0;do{if(te=ce.execute(ce.state,ce.delay))break}while(ce=ve.shift());if(this._active=!1,te){for(;ce=ve.shift();)ce.unsubscribe();throw te}}}},4986:(Xe,ye,P)=>{P.d(ye,{P:()=>le,z:()=>F});var s=P(4408);const F=new(P(7565).v)(s.o),le=F},6063:(Xe,ye,P)=>{P.d(ye,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(Xe,ye,P)=>{P.d(ye,{z:()=>s});const s={setTimeout(...X){const{delegate:F}=s;return((null==F?void 0:F.setTimeout)||setTimeout)(...X)},clearTimeout(X){const{delegate:F}=s;return((null==F?void 0:F.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(Xe,ye,P)=>{P.d(ye,{h:()=>X});const X=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xe,ye,P)=>{P.d(ye,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Xe,ye,P)=>{P.d(ye,{_6:()=>ve,jO:()=>le,yG:()=>ce});var s=P(576),X=P(3532);function F(te){return te[te.length-1]}function le(te){return(0,s.m)(F(te))?te.pop():void 0}function ce(te){return(0,X.K)(F(te))?te.pop():void 0}function ve(te,ue){return"number"==typeof F(te)?te.pop():ue}},8737:(Xe,ye,P)=>{function s(X,F){if(X){const le=X.indexOf(F);0<=le&&X.splice(le,1)}}P.d(ye,{P:()=>s})},3888:(Xe,ye,P)=>{function s(X){const le=X(ce=>{Error.call(ce),ce.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}P.d(ye,{d:()=>s})},2806:(Xe,ye,P)=>{P.d(ye,{O:()=>le,x:()=>F});var s=P(2416);let X=null;function F(ce){if(s.v.useDeprecatedSynchronousErrorHandling){const ve=!X;if(ve&&(X={errorThrown:!1,error:null}),ce(),ve){const{errorThrown:te,error:ue}=X;if(X=null,te)throw ue}}else ce()}function le(ce){s.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ce)}},9672:(Xe,ye,P)=>{function s(X,F,le,ce=0,ve=!1){const te=F.schedule(function(){le(),ve?X.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(X.add(te),!ve)return te}P.d(ye,{f:()=>s})},4671:(Xe,ye,P)=>{function s(X){return X}P.d(ye,{y:()=>s})},1144:(Xe,ye,P)=>{P.d(ye,{z:()=>s});const s=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(Xe,ye,P)=>{P.d(ye,{D:()=>X});var s=P(576);function X(F){return Symbol.asyncIterator&&(0,s.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(Xe,ye,P)=>{function s(X){return"function"==typeof X}P.d(ye,{m:()=>s})},3670:(Xe,ye,P)=>{P.d(ye,{c:()=>F});var s=P(8822),X=P(576);function F(le){return(0,X.m)(le[s.L])}},6495:(Xe,ye,P)=>{P.d(ye,{T:()=>F});var s=P(2202),X=P(576);function F(le){return(0,X.m)(null==le?void 0:le[s.h])}},8239:(Xe,ye,P)=>{P.d(ye,{t:()=>X});var s=P(576);function X(F){return(0,s.m)(null==F?void 0:F.then)}},3260:(Xe,ye,P)=>{P.d(ye,{L:()=>le,Q:()=>F});var s=P(5987),X=P(576);function F(ce){return(0,s.FC)(this,arguments,function*(){const te=ce.getReader();try{for(;;){const{value:ue,done:fe}=yield(0,s.qq)(te.read());if(fe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(ue)}}finally{te.releaseLock()}})}function le(ce){return(0,X.m)(null==ce?void 0:ce.getReader)}},3532:(Xe,ye,P)=>{P.d(ye,{K:()=>X});var s=P(576);function X(F){return F&&(0,s.m)(F.schedule)}},4482:(Xe,ye,P)=>{P.d(ye,{A:()=>X,e:()=>F});var s=P(576);function X(le){return(0,s.m)(null==le?void 0:le.lift)}function F(le){return ce=>{if(X(ce))return ce.lift(function(ve){try{return le(ve,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Xe,ye,P)=>{function s(){}P.d(ye,{Z:()=>s})},7849:(Xe,ye,P)=>{P.d(ye,{h:()=>F});var s=P(2416),X=P(3410);function F(le){X.z.setTimeout(()=>{const{onUnhandledError:ce}=s.v;if(!ce)throw le;ce(le)})}},4532:(Xe,ye,P)=>{function s(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(ye,{z:()=>s})},5987:(Xe,ye,P)=>{function ue(z,ne,he,_e){return new(he||(he=Promise))(function(oe,bt){function Bt(xt){try{at(_e.next(xt))}catch(Nn){bt(Nn)}}function Fn(xt){try{at(_e.throw(xt))}catch(Nn){bt(Nn)}}function at(xt){xt.done?oe(xt.value):function ke(oe){return oe instanceof he?oe:new he(function(bt){bt(oe)})}(xt.value).then(Bt,Fn)}at((_e=_e.apply(z,ne||[])).next())})}function pe(z){return this instanceof pe?(this.v=z,this):new pe(z)}function ge(z,ne,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,_e=he.apply(z,ne||[]),oe=[];return ke={},bt("next"),bt("throw"),bt("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function bt(ln){_e[ln]&&(ke[ln]=function(Ii){return new Promise(function(yn,Dr){oe.push([ln,Ii,yn,Dr])>1||Bt(ln,Ii)})})}function Bt(ln,Ii){try{!function Fn(ln){ln.value instanceof pe?Promise.resolve(ln.value.v).then(at,xt):Nn(oe[0][2],ln)}(_e[ln](Ii))}catch(yn){Nn(oe[0][3],yn)}}function at(ln){Bt("next",ln)}function xt(ln){Bt("throw",ln)}function Nn(ln,Ii){ln(Ii),oe.shift(),oe.length&&Bt(oe[0][0],oe[0][1])}}function qe(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ne=z[Symbol.asyncIterator];return ne?ne.call(z):(z=function re(z){var ne="function"==typeof Symbol&&Symbol.iterator,he=ne&&z[ne],_e=0;if(he)return he.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&_e>=z.length&&(z=void 0),{value:z&&z[_e++],done:!z}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),he={},_e("next"),_e("throw"),_e("return"),he[Symbol.asyncIterator]=function(){return this},he);function _e(oe){he[oe]=z[oe]&&function(bt){return new Promise(function(Bt,Fn){!function ke(oe,bt,Bt,Fn){Promise.resolve(Fn).then(function(at){oe({value:at,done:Bt})},bt)}(Bt,Fn,(bt=z[oe](bt)).done,bt.value)})}}}P.d(ye,{FC:()=>ge,KL:()=>qe,mG:()=>ue,qq:()=>pe})},5e3:(Xe,ye,P)=>{P.d(ye,{$8M:()=>Ec,$Z:()=>bf,AFp:()=>ow,ALo:()=>Sm,AaK:()=>ue,BQk:()=>ty,CHM:()=>Ch,CRH:()=>$0,CZH:()=>Vd,CqO:()=>n0,DdM:()=>Pf,EJc:()=>Ki,EiD:()=>Kg,EpF:()=>t0,F$t:()=>ID,F4k:()=>iy,FYo:()=>bE,FiY:()=>Be,G48:()=>fI,Gf:()=>Ad,GfV:()=>B0,GkF:()=>SD,Gpc:()=>W,Gre:()=>qD,Hsn:()=>AD,Ikx:()=>wy,JOm:()=>Ms,JVY:()=>qg,L6k:()=>Kv,LAX:()=>xp,LFG:()=>Rn,LSH:()=>Rp,Lbi:()=>GE,MAs:()=>sr,NdJ:()=>r0,O4$:()=>Oa,OlP:()=>Hn,Oqu:()=>xf,PXZ:()=>lI,Q6J:()=>Jb,QGY:()=>ny,Qsj:()=>Tm,R0b:()=>ro,RDi:()=>bh,Rgc:()=>Am,SBq:()=>se,Sil:()=>Um,Suo:()=>io,TTD:()=>bl,TgZ:()=>wf,Udp:()=>_r,VKq:()=>Z0,VLi:()=>Uf,WFA:()=>tm,X6Q:()=>hI,XFs:()=>ut,Xpm:()=>ze,Y36:()=>Xp,YKP:()=>DE,YNc:()=>yD,Yjl:()=>ba,Yz7:()=>yn,ZZ4:()=>cv,_Bn:()=>Dm,_UZ:()=>X_,_Vd:()=>Rf,_c5:()=>vT,_uU:()=>y0,aQg:()=>uv,c2e:()=>aw,cJS:()=>Er,cg1:()=>Cy,d8E:()=>D0,dDg:()=>dw,deG:()=>Tc,dqk:()=>zt,eBb:()=>$h,eFA:()=>fa,ekj:()=>cy,f3M:()=>T,g9A:()=>qE,h0i:()=>ri,hGG:()=>Zf,hij:()=>Zc,iGM:()=>qy,ifc:()=>tn,ip1:()=>Qy,kL8:()=>JD,kcU:()=>xh,lG2:()=>va,lcZ:()=>z0,mCW:()=>Rc,n5z:()=>Vu,n_E:()=>sl,oAB:()=>Ut,oJD:()=>kp,oxw:()=>nm,pB0:()=>Qv,q3G:()=>ui,q4F:()=>Oy,qLn:()=>Vl,qOj:()=>pD,qZA:()=>em,qzn:()=>ta,sBO:()=>aT,sIi:()=>$p,s_b:()=>Om,soG:()=>ev,tBr:()=>Ce,tb:()=>zE,tp0:()=>ft,uIk:()=>Wr,uOi:()=>ia,vHH:()=>Oe,vpe:()=>rl,wAp:()=>gt,xp6:()=>wC,yhl:()=>Zg,ynx:()=>ey,z2F:()=>Hm,z3N:()=>ea,zSh:()=>Vb,zs3:()=>Xs});var s=P(7579),X=P(727),F=P(8306),le=P(6451),ce=P(3099);function ve(a){for(let l in a)if(a[l]===ve)return l;throw Error("Could not find renamed property on target object.")}function te(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function ue(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ue).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function fe(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const q=ve({__forward_ref__:ve});function W(a){return a.__forward_ref__=W,a.toString=function(){return ue(this())},a}function re(a){return Ge(a)?a():a}function Ge(a){return"function"==typeof a&&a.hasOwnProperty(q)&&a.__forward_ref__===W}class Oe extends Error{constructor(l,c){super(function Ze(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,c)),this.code=l}}function pe(a){return"string"==typeof a?a:null==a?"":String(a)}function ge(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():pe(a)}function et(a,l){const c=l?` in ${l}`:"";throw new Oe(-201,`No provider for ${ge(a)} found${c}`)}function at(a,l){null==a&&function xt(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function yn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Er(a){return{providers:a.providers||[],imports:a.imports||[]}}function pi(a){return fo(a,Vs)||fo(a,Hi)}function fo(a,l){return a.hasOwnProperty(l)?a[l]:null}function qn(a){return a&&(a.hasOwnProperty(Tr)||a.hasOwnProperty(Pe))?a[Tr]:null}const Vs=ve({\u0275prov:ve}),Tr=ve({\u0275inj:ve}),Hi=ve({ngInjectableDef:ve}),Pe=ve({ngInjectorDef:ve});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let Gn;function cn(a){const l=Gn;return Gn=a,l}function ls(a,l,c){const d=pi(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ut.Optional?null:void 0!==l?l:void et(ue(a),"Injector")}function Qn(a){return{toString:a}.toString()}var Ln=(()=>((Ln=Ln||{})[Ln.OnPush=0]="OnPush",Ln[Ln.Default=1]="Default",Ln))(),tn=(()=>{return(a=tn||(tn={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",tn;var a})();const ct="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,po="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,zt=ct||"undefined"!=typeof global&&global||wt||po,Mr={},mt=[],us=ve({\u0275cmp:ve}),j=ve({\u0275dir:ve}),$=ve({\u0275pipe:ve}),U=ve({\u0275mod:ve}),Z=ve({\u0275fac:ve}),Y=ve({__NG_ELEMENT_ID__:ve});let Ae=0;function ze(a){return Qn(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Ln.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||mt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||tn.Emulated,id:"c",styles:a.styles||mt,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,g=a.features,v=a.pipes;return d.id+=Ae++,d.inputs=Bs(a.inputs,c),d.outputs=Bs(a.outputs),g&&g.forEach(C=>C(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(nn):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(fn):null,d})}function nn(a){return Jn(a)||function hs(a){return a[j]||null}(a)}function fn(a){return function Ai(a){return a[$]||null}(a)}const cr={};function Ut(a){return Qn(()=>{const l={type:a.type,bootstrap:a.bootstrap||mt,declarations:a.declarations||mt,imports:a.imports||mt,exports:a.exports||mt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(cr[a.id]=a.type),l})}function Bs(a,l){if(null==a)return Mr;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,l&&(l[f]=g)}return c}const va=ze;function ba(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Jn(a){return a[us]||null}function si(a,l){const c=a[U]||null;if(!c&&!0===l)throw new Error(`Type ${ue(a)} does not have '\u0275mod' property.`);return c}function ji(a){return Array.isArray(a)&&"object"==typeof a[1]}function dr(a){return Array.isArray(a)&&!0===a[1]}function lc(a){return 0!=(8&a.flags)}function dh(a){return 2==(2&a.flags)}function yo(a){return 1==(1&a.flags)}function pn(a){return null!==a.template}function hh(a){return 0!=(512&a[2])}function Uo(a,l){return a.hasOwnProperty(Z)?a[Z]:null}class uc{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function bl(){return Ho}function Ho(a){return a.type.prototype.ngOnChanges&&(a.setInput=yh),cp}function cp(){const a=fs(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===Mr)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function yh(a,l,c,d){const f=fs(a)||function vo(a,l){return a[oi]=l}(a,{previous:Mr,current:null}),g=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[c],E=v[C];g[C]=new uc(E&&E.currentValue,l,v===Mr),a[d]=l}bl.ngInherit=!0;const oi="__ngSimpleChanges__";function fs(a){return a[oi]||null}const wl="http://www.w3.org/2000/svg";let dc;function bh(a){dc=a}function Cl(){return void 0!==dc?dc:"undefined"!=typeof document?document:void 0}function An(a){return!!a.listen}const ms={createRenderer:(a,l)=>Cl()};function Vn(a){for(;Array.isArray(a);)a=a[0];return a}function js(a,l){return Vn(l[a])}function Oi(a,l){return Vn(l[a.index])}function gs(a,l){return a.data[l]}function er(a,l){return a[l]}function tr(a,l){const c=l[a];return ji(c)?c:c[0]}function ai(a){return 4==(4&a[2])}function Ea(a){return 128==(128&a[2])}function Pi(a,l){return null==l?null:a[l]}function jo(a){a[18]=0}function Co(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const vt={lFrame:xl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ku(){return vt.bindingsEnabled}function Te(){return vt.lFrame.lView}function Ht(){return vt.lFrame.tView}function Ch(a){return vt.lFrame.contextLView=a,a[8]}function wn(){let a=Ma();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ma(){return vt.lFrame.currentTNode}function Ni(a,l){const c=vt.lFrame;c.currentTNode=a,c.isParent=l}function Zs(){return vt.lFrame.isParent}function fc(){vt.lFrame.isParent=!1}function Sa(){return vt.isInCheckNoChangesMode}function qo(a){vt.isInCheckNoChangesMode=a}function gi(){const a=vt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function _s(){return vt.lFrame.bindingIndex++}function qr(a){const l=vt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function up(a,l){const c=vt.lFrame;c.bindingIndex=c.bindingRootIndex=a,Aa(l)}function Aa(a){vt.lFrame.currentDirectiveIndex=a}function Go(a){const l=vt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function ka(){return vt.lFrame.currentQueryIndex}function Tl(a){vt.lFrame.currentQueryIndex=a}function gc(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Ru(a,l,c){if(c&ut.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||c&ut.Host||(f=gc(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,a=g}const d=vt.lFrame=dp();return d.currentTNode=l,d.lView=a,!0}function Ra(a){const l=dp(),c=a[1];vt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function dp(){const a=vt.lFrame,l=null===a?null:a.child;return null===l?xl(a):l}function xl(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function _c(){const a=vt.lFrame;return vt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Ml=_c;function yc(){const a=_c();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function li(){return vt.lFrame.selectedIndex}function Ci(a){vt.lFrame.selectedIndex=a}function Bn(){const a=vt.lFrame;return gs(a.tView,a.selectedIndex)}function Oa(){vt.lFrame.currentNamespace=wl}function xh(){!function hp(){vt.lFrame.currentNamespace=null}()}function Pu(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const g=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:k}=g;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),C&&((a.contentHooks||(a.contentHooks=[])).push(c,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,C)),E&&(a.viewHooks||(a.viewHooks=[])).push(-c,E),I&&((a.viewHooks||(a.viewHooks=[])).push(c,I),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,I)),null!=k&&(a.destroyHooks||(a.destroyHooks=[])).push(c,k)}}function Eo(a,l,c){pp(a,l,3,c)}function vc(a,l,c,d){(3&a[2])===c&&pp(a,l,c,d)}function bc(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function pp(a,l,c,d){const g=null!=d?d:-1,v=l.length-1;let C=0;for(let E=void 0!==d?65535&a[18]:0;E<v;E++)if("number"==typeof l[E+1]){if(C=l[E],null!=d&&C>=d)break}else l[E]<0&&(a[18]+=65536),(C<g||-1==g)&&(Sh(a,c,l,E),a[18]=(4294901760&a[18])+E+2),E++}function Sh(a,l,c,d){const f=c[d]<0,g=c[d+1],C=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class Un{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Cc(a,l,c){const d=An(a);let f=0;for(;f<c.length;){const g=c[f];if("number"==typeof g){if(0!==g)break;f++;const v=c[f++],C=c[f++],E=c[f++];d?a.setAttribute(l,C,E,v):l.setAttributeNS(v,C,E)}else{const v=g,C=c[++f];kn(v)?d&&a.setProperty(l,v,C):d?a.setAttribute(l,v,C):l.setAttribute(v,C),f++}}return f}function dn(a){return 3===a||4===a||6===a}function kn(a){return 64===a.charCodeAt(0)}function Li(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||Rh(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function Rh(a,l,c,d,f){let g=0,v=a.length;if(-1===l)v=-1;else for(;g<a.length;){const C=a[g++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=g-1;break}}}for(;g<a.length;){const C=a[g];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(a[g+1]=f));if(d===a[g+1])return void(a[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(a.splice(v,0,l),g=v+1),a.splice(g++,0,c),null!==d&&a.splice(g++,0,d),null!==f&&a.splice(g++,0,f)}function Oh(a){return-1!==a}function Sl(a){return 32767&a}function Il(a,l){let c=function Ph(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let To=!0;function ys(a){const l=To;return To=a,l}let Al=0;function xo(a,l){const c=Na(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Dc(d.data,a),Dc(l,null),Dc(d.blueprint,null));const f=vs(a,l),g=a.injectorIndex;if(Oh(f)){const v=Sl(f),C=Il(f,l),E=C[1].data;for(let I=0;I<8;I++)l[g+I]=C[v+I]|E[v+I]}return l[g+8]=f,g}function Dc(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Na(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function vs(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){const g=f[1],v=g.type;if(d=2===v?g.declTNode:1===v?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function ci(a,l,c){!function Gs(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Y)&&(d=c[Y]),null==d&&(d=c[Y]=Al++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function zo(a,l,c){if(c&ut.Optional)return a;et(l,"NodeInjector")}function Nh(a,l,c,d){if(c&ut.Optional&&void 0===d&&(d=null),0==(c&(ut.Self|ut.Host))){const f=a[9],g=cn(void 0);try{return f?f.get(l,d,c&ut.Optional):ls(l,d,c&ut.Optional)}finally{cn(g)}}return zo(d,l,c)}function $o(a,l,c,d=ut.Default,f){if(null!==a){const g=function Ar(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Y)?a[Y]:void 0;return"number"==typeof l?l>=0?255&l:nr:l}(c);if("function"==typeof g){if(!Ru(l,a,d))return d&ut.Host?zo(f,c,d):Nh(l,c,d,f);try{const v=g(d);if(null!=v||d&ut.Optional)return v;et(c)}finally{Ml()}}else if("number"==typeof g){let v=null,C=Na(a,l),E=-1,I=d&ut.Host?l[16][6]:null;for((-1===C||d&ut.SkipSelf)&&(E=-1===C?vs(a,l):l[C+8],-1!==E&&ir(d,!1)?(v=l[1],C=Sl(E),l=Il(E,l)):C=-1);-1!==C;){const k=l[1];if(Lh(g,C,k.data)){const N=Mo(C,l,c,v,d,I);if(N!==Lu)return N}E=l[C+8],-1!==E&&ir(d,l[1].data[C+8]===I)&&Lh(g,C,l)?(v=k,C=Sl(E),l=Il(E,l)):C=-1}}}return Nh(l,c,d,f)}const Lu={};function nr(){return new zs(wn(),Te())}function Mo(a,l,c,d,f,g){const v=l[1],C=v.data[a+8],k=Yo(C,v,c,null==d?dh(C)&&To:d!=v&&0!=(3&C.type),f&ut.Host&&g===C);return null!==k?xn(l,v,k,C):Lu}function Yo(a,l,c,d,f){const g=a.providerIndexes,v=l.data,C=1048575&g,E=a.directiveStart,k=g>>20,G=f?C+k:a.directiveEnd;for(let J=d?C:C+k;J<G;J++){const be=v[J];if(J<E&&c===be||J>=E&&be.type===c)return J}if(f){const J=v[E];if(J&&pn(J)&&J.type===c)return E}return null}function xn(a,l,c,d){let f=a[c];const g=l.data;if(function mp(a){return a instanceof Un}(f)){const v=f;v.resolving&&function Re(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${a}${c}`)}(ge(g[c]));const C=ys(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?cn(v.injectImpl):null;Ru(a,d,ut.Default);try{f=a[c]=v.factory(void 0,g,a,d),l.firstCreatePass&&c>=d.directiveStart&&function fp(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(d){const v=Ho(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,g))}(c,g[c],l)}finally{null!==E&&cn(E),ys(C),v.resolving=!1,Ml()}}return f}function Lh(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function ir(a,l){return!(a&ut.Self||a&ut.Host&&l)}class zs{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return $o(this._tNode,this._lView,l,d,c)}}function Vu(a){return Qn(()=>{const l=a.prototype.constructor,c=l[Z]||bs(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const g=f[Z]||bs(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function bs(a){return Ge(a)?()=>{const l=bs(re(a));return l&&l()}:Uo(a)}function Ec(a){return function Nu(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(dn(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===l)return c[f+1];f+=2}}}return null}(wn(),a)}const So="__parameters__";function Io(a,l,c){return Qn(()=>{const d=function Cs(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(E,I,k){const N=E.hasOwnProperty(So)?E[So]:Object.defineProperty(E,So,{value:[]})[So];for(;N.length<=k;)N.push(null);return(N[k]=N[k]||[]).push(v),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class Hn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=yn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Tc=new Hn("AnalyzeForEntryComponents");function mn(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),mn(d,l)):l!==a&&l.push(d)}return l}function Mn(a,l){a.forEach(c=>Array.isArray(c)?Mn(c,l):l(c))}function Bu(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Uu(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Ha(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function hr(a,l,c){let d=Ko(a,l);return d>=0?a[1|d]=c:(d=~d,function ju(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function Uh(a,l){const c=Ko(a,l);if(c>=0)return a[1|c]}function Ko(a,l){return function Gu(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const g=d+(f-d>>1),v=a[g<<c];if(l===v)return g<<c;v>l?f=g:d=g+1}return~(f<<c)}(a,l,1)}const fr={},Ys="__NG_DI_FLAG__",Sc="ngTempTokenPath",Ds=/\n/gm,Gr="__source",Ic=ve({provide:String,useValue:ve});let Ac;function Za(a){const l=Ac;return Ac=a,l}function Pl(a,l=ut.Default){if(void 0===Ac)throw new Oe(203,"");return null===Ac?ls(a,void 0,l):Ac.get(a,l&ut.Optional?null:void 0,l)}function Rn(a,l=ut.Default){return(function zn(){return Gn}()||Pl)(re(a),l)}const T=Rn;function M(a){const l=[];for(let c=0;c<a.length;c++){const d=re(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Oe(900,"");let f,g=ut.Default;for(let v=0;v<d.length;v++){const C=d[v],E=V(C);"number"==typeof E?-1===E?f=C.token:g|=E:f=C}l.push(Rn(f,g))}else l.push(Rn(d))}return l}function R(a,l){return a[Ys]=l,a.prototype[Ys]=l,a}function V(a){return a[Ys]}const Ce=R(Io("Inject",a=>({token:a})),-1),Be=R(Io("Optional"),8),ft=R(Io("SkipSelf"),4);let Gh,Cp;function Ts(a){var l;return(null===(l=function Fl(){if(void 0===Gh&&(Gh=null,zt.trustedTypes))try{Gh=zt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Gh}())||void 0===l?void 0:l.createHTML(a))||a}function zh(){if(void 0===Cp&&(Cp=null,zt.trustedTypes))try{Cp=zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Cp}function Ku(a){var l;return(null===(l=zh())||void 0===l?void 0:l.createHTML(a))||a}function Dp(a){var l;return(null===(l=zh())||void 0===l?void 0:l.createScriptURL(a))||a}class Ro{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ks extends Ro{getTypeName(){return"HTML"}}class Ep extends Ro{getTypeName(){return"Style"}}class jg extends Ro{getTypeName(){return"Script"}}class Tp extends Ro{getTypeName(){return"URL"}}class Wv extends Ro{getTypeName(){return"ResourceURL"}}function ea(a){return a instanceof Ro?a.changingThisBreaksApplicationSecurity:a}function ta(a,l){const c=Zg(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function Zg(a){return a instanceof Ro&&a.getTypeName()||null}function qg(a){return new Ks(a)}function Kv(a){return new Ep(a)}function $h(a){return new jg(a)}function xp(a){return new Tp(a)}function Qv(a){return new Wv(a)}class Jv{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(Ts(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class na{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Ts(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Ts(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Mp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Rc(a){return(a=String(a)).match(Mp)||a.match(Sp)?a:"unsafe:"+a}function xs(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function Ju(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Xu=xs("area,br,col,hr,img,wbr"),zg=xs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wh=xs("rp,rt"),Kh=Ju(Xu,Ju(zg,xs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ju(Wh,xs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ju(Wh,zg)),$g=xs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ed=xs("srcset"),td=Ju($g,ed,xs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nd=xs("script,style,template");class Ip{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!Kh.hasOwnProperty(c))return this.sanitizedSomething=!0,!nd.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,C=v.toLowerCase();if(!td.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=g.value;$g[C]&&(E=Rc(E)),ed[C]&&(a=E,E=(a=String(a)).split(",").map(l=>Rc(l.trim())).join(", ")),this.buf.push(" ",v,'="',Ap(E),'"')}var a;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();Kh.hasOwnProperty(c)&&!Xu.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(Ap(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const Yg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wg=/([^\#-~ |!])/g;function Ap(a){return a.replace(/&/g,"&amp;").replace(Yg,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Wg,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Oc;function Kg(a,l){let c=null;try{Oc=Oc||function Yh(a){const l=new na(a);return function Xv(){try{return!!(new window.DOMParser).parseFromString(Ts(""),"text/html")}catch(a){return!1}}()?new Jv(l):l}(a);let d=l?String(l):"";c=Oc.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=Oc.getInertBodyElement(d)}while(d!==g);return Ts((new Ip).sanitizeChildren(Pc(c)||c))}finally{if(c){const d=Pc(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Pc(a){return"content"in a&&function id(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var ui=(()=>((ui=ui||{})[ui.NONE=0]="NONE",ui[ui.HTML=1]="HTML",ui[ui.STYLE=2]="STYLE",ui[ui.SCRIPT=3]="SCRIPT",ui[ui.URL=4]="URL",ui[ui.RESOURCE_URL=5]="RESOURCE_URL",ui))();function kp(a){const l=Nl();return l?Ku(l.sanitize(ui.HTML,a)||""):ta(a,"HTML")?Ku(ea(a)):Kg(Cl(),pe(a))}function Rp(a){const l=Nl();return l?l.sanitize(ui.URL,a)||"":ta(a,"URL")?ea(a):Rc(pe(a))}function ia(a){const l=Nl();if(l)return Dp(l.sanitize(ui.RESOURCE_URL,a)||"");if(ta(a,"ResourceURL"))return Dp(ea(a));throw new Oe(904,"")}function Nl(){const a=Te();return a&&a[12]}const sb="__ngContext__";function hn(a,l){a[sb]=l}function Fc(a){const l=function nt(a){return a[sb]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Fp(a){return a.ngOriginalError}function Np(a,...l){a.error(...l)}class Vl{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=function Yn(a){return a&&a.ngErrorLogger||Np}(l);d(this._console,"ERROR",l),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&Fp(l);for(;c&&Fp(c);)c=Fp(c);return c||null}}const od=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zt))();function Qs(a){return a instanceof Function?a():a}var Ms=(()=>((Ms=Ms||{})[Ms.Important=1]="Important",Ms[Ms.DashCase=2]="DashCase",Ms))();function Vp(a,l){return undefined(a,l)}function mr(a){const l=a[3];return dr(l)?l[3]:l}function ld(a){return ef(a[13])}function Js(a){return ef(a[4])}function ef(a){for(;null!==a&&!dr(a);)a=a[4];return a}function za(a,l,c,d,f){if(null!=d){let g,v=!1;dr(d)?g=d:ji(d)&&(v=!0,d=d[0]);const C=Vn(d);0===a&&null!==c?null==f?ee(l,c,C):B(l,c,C,f||null,!0):1===a&&null!==c?B(l,c,C,f||null,!0):2===a?function Up(a,l,c){const d=tt(a,l);d&&function Me(a,l,c,d){An(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}(l,C,v):3===a&&l.destroyNode(C),null!=g&&function mb(a,l,c,d,f){const g=c[7];g!==Vn(c)&&za(l,a,d,g,f);for(let C=10;C<c.length;C++){const E=c[C];Hl(E[1],E,a,l,d,g)}}(l,a,g,c,f)}}function Bl(a,l,c){return An(a)?a.createElement(l,c):null===c?a.createElement(l):a.createElementNS(c,l)}function Or(a,l){const c=a[9],d=c.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,Co(f,-1)),c.splice(d,1)}function cd(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&Or(f,d),l>0&&(a[c-1][4]=d[4]);const g=Uu(a,10+l);!function c_(a,l){Hl(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function y(a,l){if(!(256&l[2])){const c=l[11];An(c)&&c.destroyNode&&Hl(a,l,c,3,null,null),function Bp(a){let l=a[13];if(!l)return p(a[1],a);for(;l;){let c=null;if(ji(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)ji(l)&&p(l[1],l),l=l[3];null===l&&(l=a),ji(l)&&p(l[1],l),c=l&&l[4]}l=c}}(l)}}function p(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function b(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof Un)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],E=g[v+1];try{E.call(C)}finally{}}else try{g.call(f)}finally{}}}}(a,l),function m(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],C="function"==typeof v?v(l):Vn(l[v]),E=d[f=c[g+2]],I=c[g+3];"boolean"==typeof I?C.removeEventListener(c[g],E,I):I>=0?d[f=I]():d[f=-I].unsubscribe(),g+=2}else{const v=d[f=c[g+1]];c[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)d[g]();l[7]=null}}(a,l),1===l[1].type&&An(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&dr(l[3])){c!==l[3]&&Or(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function x(a,l,c){return function A(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===tn.None||f===tn.Emulated)return null}return Oi(d,c)}(a,l.parent,c)}function B(a,l,c,d,f){An(a)?a.insertBefore(l,c,d,f):l.insertBefore(c,d,f)}function ee(a,l,c){An(a)?a.appendChild(l,c):l.appendChild(c)}function xe(a,l,c,d,f){null!==d?B(a,l,c,d,f):ee(a,l,c)}function tt(a,l){return An(a)?a.parentNode(l):l.parentNode}function qt(a,l,c){return Wn(a,l,c)}let Wn=function Ti(a,l,c){return 40&a.type?Oi(a,c):null};function aa(a,l,c,d){const f=x(a,d,l),g=l[11],C=qt(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)xe(g,f,c[E],C,!1);else xe(g,f,c,C,!1)}function ud(a,l){if(null!==l){const c=l.type;if(3&c)return Oi(l,a);if(4&c)return dd(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return ud(a,d);{const f=a[l.index];return dr(f)?dd(-1,f):Vn(f)}}if(32&c)return Vp(l,a)()||Vn(a[l.index]);{const d=nf(a,l);return null!==d?Array.isArray(d)?d[0]:ud(mr(a[16]),d):ud(a,l.next)}}return null}function nf(a,l){return null!==l?a[16][6].projection[l.projection]:null}function dd(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return ud(d,f)}return l[7]}function Ul(a,l,c,d,f,g,v){for(;null!=c;){const C=d[c.index],E=c.type;if(v&&0===l&&(C&&hn(Vn(C),d),c.flags|=4),64!=(64&c.flags))if(8&E)Ul(a,l,c.child,d,f,g,!1),za(l,a,f,C,g);else if(32&E){const I=Vp(c,d);let k;for(;k=I();)za(l,a,f,k,g);za(l,a,f,C,g)}else 16&E?rf(a,l,d,c,f,g):za(l,a,f,C,g);c=v?c.projectionNext:c.next}}function Hl(a,l,c,d,f,g){Ul(c,d,a.firstChild,l,f,g,!1)}function rf(a,l,c,d,f,g){const v=c[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)za(l,a,f,E[I],g);else Ul(a,l,E,v[3],f,g,!0)}function la(a,l,c){An(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function sf(a,l,c){An(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function mC(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===d||a.charCodeAt(f+g)<=32)return f}c=f+1}}const hd="ng-template";function Hp(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==mC(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function gb(a){return 4===a.type&&a.value!==hd}function sM(a,l,c){return l===(4!==a.type||c?a.value:hd)}function gC(a,l,c){let d=4;const f=a.attrs||[],g=function yC(a){for(let l=0;l<a.length;l++)if(dn(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const E=l[C];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!sM(a,E,c)||""===E&&1===l.length){if(ca(d))return!1;v=!0}}else{const I=8&d?E:l[++C];if(8&d&&null!==a.attrs){if(!Hp(a.attrs,I,c)){if(ca(d))return!1;v=!0}continue}const N=oM(8&d?"class":E,f,gb(a),c);if(-1===N){if(ca(d))return!1;v=!0;continue}if(""!==I){let G;G=N>g?"":f[N+1].toLowerCase();const J=8&d?G:null;if(J&&-1!==mC(J,I,0)||2&d&&I!==G){if(ca(d))return!1;v=!0}}}}else{if(!v&&!ca(d)&&!ca(E))return!1;if(v&&ca(E))continue;v=!1,d=E|1&d}}return ca(d)||v}function ca(a){return 0==(1&a)}function oM(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let g=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function vC(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function _C(a,l,c=!1){for(let d=0;d<l.length;d++)if(gC(a,l[d],c))return!0;return!1}function h_(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function f_(a,l){return a?":not("+l.trim()+")":l}function lM(a){let l=a[0],c=1,d=2,f="",g=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const C=a[++c];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!ca(v)&&(l+=f_(g,f),f=""),d=v,g=g||!ca(d);c++}return""!==f&&(l+=f_(g,f)),l}const Ft={};function wC(a){Pr(Ht(),Te(),li()+a,Sa())}function Pr(a,l,c,d){if(!d)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&Eo(l,g,c)}else{const g=a.preOrderHooks;null!==g&&vc(l,g,0,c)}Ci(c)}function m_(a,l){return a<<17|l<<2}function Fr(a){return a>>17&32767}function yb(a){return 2|a}function qi(a){return(131068&a)>>2}function vb(a,l){return-131069&a|l<<2}function bb(a){return 1|a}function PC(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],g=c[d+1];if(-1!==g){const v=a.data[g];Tl(f),v.contentQueries(2,l[g],g)}}}function lf(a,l,c,d,f,g,v,C,E,I){const k=l.blueprint.slice();return k[0]=f,k[2]=140|d,jo(k),k[3]=k[15]=a,k[8]=c,k[10]=v||a&&a[10],k[11]=C||a&&a[11],k[12]=E||a&&a[12]||null,k[9]=I||a&&a[9]||null,k[6]=g,k[16]=2==l.type?a[16]:k,k}function Ss(a,l,c,d,f){let g=a.data[l];if(null===g)g=function w_(a,l,c,d,f){const g=Ma(),v=Zs(),E=a.data[l]=function EM(a,l,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=E),null!==g&&(v?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E)),E}(a,l,c,d,f),function Eh(){return vt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const v=function Do(){const a=vt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Ni(g,!0),g}function pd(a,l,c,d){if(0===c)return-1;const f=l.length;for(let g=0;g<c;g++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function jp(a,l,c){Ra(l);try{const d=a.viewQuery;null!==d&&I_(1,d,c);const f=a.template;null!==f&&NC(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&PC(a,l),a.staticViewQueries&&I_(2,a.viewQuery,c);const g=a.components;null!==g&&function FC(a,l){for(let c=0;c<l.length;c++)OM(a,l[c])}(l,g)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,yc()}}function cf(a,l,c,d){const f=l[2];if(256==(256&f))return;Ra(l);const g=Sa();try{jo(l),function mc(a){return vt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&NC(a,l,c,2,d);const v=3==(3&f);if(!g)if(v){const I=a.preOrderCheckHooks;null!==I&&Eo(l,I,null)}else{const I=a.preOrderHooks;null!==I&&vc(l,I,0,null),bc(l,0)}if(function kM(a){for(let l=ld(a);null!==l;l=Js(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],g=f[3];0==(1024&f[2])&&Co(g,1),f[2]|=1024}}}(l),function Ob(a){for(let l=ld(a);null!==l;l=Js(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];Ea(d)&&cf(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&PC(a,l),!g)if(v){const I=a.contentCheckHooks;null!==I&&Eo(l,I)}else{const I=a.contentHooks;null!==I&&vc(l,I,1),bc(l,1)}!function bM(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Ci(~f);else{const g=f,v=c[++d],C=c[++d];up(v,g),C(2,l[g])}}}finally{Ci(-1)}}(a,l);const C=a.components;null!==C&&function b_(a,l){for(let c=0;c<l.length;c++)RM(a,l[c])}(l,C);const E=a.viewQuery;if(null!==E&&I_(2,E,d),!g)if(v){const I=a.viewCheckHooks;null!==I&&Eo(l,I)}else{const I=a.viewHooks;null!==I&&vc(l,I,2),bc(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,Co(l[3],-1))}finally{yc()}}function wM(a,l,c,d){const f=l[10],g=!Sa(),v=ai(l);try{g&&!v&&f.begin&&f.begin(),v&&jp(a,l,d),cf(a,l,c,d)}finally{g&&!v&&f.end&&f.end()}}function NC(a,l,c,d,f){const g=li(),v=2&d;try{Ci(-1),v&&l.length>20&&Pr(a,l,20,Sa()),c(d,f)}finally{Ci(g)}}function LC(a,l,c){if(lc(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function C_(a,l,c){!ku()||(function E_(a,l,c,d){const f=c.directiveStart,g=c.directiveEnd;a.firstCreatePass||xo(c,l),hn(d,l);const v=c.initialInputs;for(let C=f;C<g;C++){const E=a.data[C],I=pn(E);I&&AM(l,c,E);const k=xn(l,a,C,c);hn(k,l),null!==v&&GC(0,C-f,k,E,0,v),I&&(tr(c.index,l)[8]=k)}}(a,l,c,Oi(c,l)),128==(128&c.flags)&&function Ab(a,l,c){const d=c.directiveStart,f=c.directiveEnd,v=c.index,C=function El(){return vt.lFrame.currentDirectiveIndex}();try{Ci(v);for(let E=d;E<f;E++){const I=a.data[E],k=l[E];Aa(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&UC(I,k)}}finally{Ci(-1),Aa(C)}}(a,l,c))}function uf(a,l,c=Oi){const d=l.localNames;if(null!==d){let f=l.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?c(l,a):a[v];a[f++]=C}}}function VC(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Sb(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Sb(a,l,c,d,f,g,v,C,E,I){const k=20+d,N=k+f,G=function CM(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Ft);return c}(k,N),J="function"==typeof I?I():I;return G[1]={type:a,blueprint:G,template:c,queries:null,viewQuery:C,declTNode:l,data:G.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:J,incompleteFirstPass:!1}}function BC(a,l,c,d){const f=A_(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&Nb(a).push(d,f.length-1))}function TM(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function Oo(a,l,c,d,f,g,v,C){const E=Oi(l,c);let k,I=l.inputs;!C&&null!=I&&(k=I[d])?(k_(a,c,k,d,f),dh(l)&&function iR(a,l){const c=tr(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function nR(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,An(g)?g.setProperty(E,d,f):kn(d)||(E.setProperty?E.setProperty(d,f):E[d]=f))}function Ib(a,l,c,d){let f=!1;if(ku()){const g=function SM(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];_C(c,v.selectors,!1)&&(f||(f=[]),ci(xo(c,l),a,v.type),pn(v)?(HC(a,c),f.unshift(v)):f.push(v))}return f}(a,l,c),v=null===d?null:{"":-1};if(null!==g){f=!0,ZC(c,a.data.length,g.length);for(let k=0;k<g.length;k++){const N=g[k];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,I=pd(a,l,g.length,null);for(let k=0;k<g.length;k++){const N=g[k];c.mergedAttrs=Li(c.mergedAttrs,N.hostAttrs),qC(a,c,l,I,N),IM(I,N,v),null!==N.contentQueries&&(c.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(c.flags|=128);const G=N.type.prototype;!C&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),C=!0),!E&&(G.ngOnChanges||G.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),E=!0),I++}!function tR(a,l){const d=l.directiveEnd,f=a.data,g=l.attrs,v=[];let C=null,E=null;for(let I=l.directiveStart;I<d;I++){const k=f[I],N=k.inputs,G=null===g||gb(l)?null:kb(N,g);v.push(G),C=TM(N,I,C),E=TM(k.outputs,I,E)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=C,l.outputs=E}(a,c)}v&&function jC(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=c[l[f+1]];if(null==g)throw new Oe(-301,`Export of name '${l[f+1]}' not found!`);d.push(l[f],g)}}}(c,d,v)}return c.mergedAttrs=Li(c.mergedAttrs,c.attrs),f}function Gi(a,l,c,d,f,g){const v=g.hostBindings;if(v){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const E=~l.index;(function ua(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(C)!=E&&C.push(E),C.push(d,f,v)}}function UC(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function HC(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function IM(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;pn(l)&&(c[""]=a)}}function ZC(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function qC(a,l,c,d,f){a.data[d]=f;const g=f.factory||(f.factory=Uo(f.type)),v=new Un(g,pn(f),null);a.blueprint[d]=v,c[d]=v,Gi(a,l,0,d,pd(a,c,f.hostVars,Ft),f)}function AM(a,l,c){const d=Oi(l,a),f=VC(c),g=a[10],v=Bc(a,lf(a,f,null,c.onPush?64:16,d,l,g,g.createRenderer(d,c),null,null));a[l.index]=v}function ei(a,l,c,d,f,g){const v=Oi(a,l);!function df(a,l,c,d,f,g,v){if(null==g)An(a)?a.removeAttribute(l,f,c):l.removeAttribute(f);else{const C=null==v?pe(g):v(g,d||"",f);An(a)?a.setAttribute(l,f,C,c):c?l.setAttributeNS(c,f,C):l.setAttribute(f,C)}}(l[11],v,g,a.value,c,d,f)}function GC(a,l,c,d,f,g){const v=g[l];if(null!==v){const C=d.setInput;for(let E=0;E<v.length;){const I=v[E++],k=v[E++],N=v[E++];null!==C?d.setInput(c,N,I,k):c[k]=N}}}function kb(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function T_(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function RM(a,l){const c=tr(l,a);if(Ea(c)){const d=c[1];80&c[2]?cf(d,c,d.template,c[8]):c[5]>0&&Pb(c)}}function Pb(a){for(let d=ld(a);null!==d;d=Js(d))for(let f=10;f<d.length;f++){const g=d[f];if(1024&g[2]){const v=g[1];cf(v,g,v.template,g[8])}else g[5]>0&&Pb(g)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=tr(c[d],a);Ea(f)&&f[5]>0&&Pb(f)}}function OM(a,l){const c=tr(l,a),d=c[1];(function PM(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),jp(d,c,c[8])}function Bc(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function x_(a){for(;a;){a[2]|=64;const l=mr(a);if(hh(a)&&!l)return a;a=l}return null}function Fb(a,l,c){const d=l[10];d.begin&&d.begin();try{cf(a,l,a.template,c)}catch(f){throw WC(l,f),f}finally{d.end&&d.end()}}function zC(a){!function S_(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=Fc(c),f=d[1];wM(f,d,f.template,c)}}(a[8])}function I_(a,l,c){Tl(0),l(a,c)}const YC=(()=>Promise.resolve(null))();function A_(a){return a[7]||(a[7]=[])}function Nb(a){return a.cleanup||(a.cleanup=[])}function hf(a,l,c){return(null===a||pn(a))&&(c=function wh(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function WC(a,l){const c=a[9],d=c?c.get(Vl,null):null;d&&d.handleError(l)}function k_(a,l,c,d,f){for(let g=0;g<c.length;){const v=c[g++],C=c[g++],E=l[v],I=a.data[v];null!==I.setInput?I.setInput(E,f,d,C):E[C]=f}}function Wa(a,l,c){const d=js(l,a);!function l_(a,l,c){An(a)?a.setValue(l,c):l.textContent=c}(a[11],d,c)}function R_(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?g=C:1==g?f=fe(f,C):2==g&&(d=fe(d,C+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}const Zp=new Hn("INJECTOR",-1);class QC{get(l,c=fr){if(c===fr){const d=new Error(`NullInjectorError: No provider for ${ue(l)}!`);throw d.name="NullInjectorError",d}return c}}const Vb=new Hn("Set Injector scope."),qp={},O_={};let Gp;function P_(){return void 0===Gp&&(Gp=new QC),Gp}function F_(a,l=null,c=null,d){const f=Bb(a,l,c,d);return f._resolveInjectorDefTypes(),f}function Bb(a,l=null,c=null,d){return new VM(a,c,l||P_(),d)}class VM{constructor(l,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];c&&Mn(c,C=>this.processProvider(C,l,c)),Mn([l],C=>this.processInjectorType(C,[],g)),this.records.set(Zp,ff(void 0,this));const v=this.records.get(Vb);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof l?null:ue(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=fr,d=ut.Default){this.assertNotDestroyed();const f=Za(this),g=cn(void 0);try{if(!(d&ut.SkipSelf)){let C=this.records.get(l);if(void 0===C){const E=function V_(a){return"function"==typeof a||"object"==typeof a&&a instanceof Hn}(l)&&pi(l);C=E&&this.injectableDefInScope(E)?ff(N_(l),qp):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&ut.Self?P_():this.parent).get(l,c=d&ut.Optional&&c===fr?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Sc]=v[Sc]||[]).unshift(ue(l)),f)throw v;return function K(a,l,c,d){const f=a[Sc];throw l[Gr]&&f.unshift(l[Gr]),a.message=function ae(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=ue(l);if(Array.isArray(l))f=l.map(ue).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):ue(C)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(Ds,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[Sc]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{cn(g),Za(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,f)=>l.push(ue(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,"")}processInjectorType(l,c,d){if(!(l=re(l)))return!1;let f=qn(l);const g=null==f&&l.ngModule||void 0,v=void 0===g?l:g,C=-1!==d.indexOf(v);if(void 0!==g&&(f=qn(g)),null==f)return!1;if(null!=f.imports&&!C){let k;d.push(v);try{Mn(f.imports,N=>{this.processInjectorType(N,c,d)&&(void 0===k&&(k=[]),k.push(N))})}finally{}if(void 0!==k)for(let N=0;N<k.length;N++){const{ngModule:G,providers:J}=k[N];Mn(J,be=>this.processProvider(be,G,J||mt))}}this.injectorDefTypes.add(v);const E=Uo(v)||(()=>new v);this.records.set(v,ff(E,qp));const I=f.providers;if(null!=I&&!C){const k=l;Mn(I,N=>this.processProvider(N,k,I))}return void 0!==g&&void 0!==l.providers}processProvider(l,c,d){let f=pf(l=re(l))?l:re(l&&l.provide);const g=function BM(a,l,c){return XC(a)?ff(void 0,a.useValue):ff(JC(a),qp)}(l);if(pf(l)||!0!==l.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=ff(void 0,qp,!0),v.factory=()=>M(v.multi),this.records.set(f,v)),f=l,v.multi.push(l)}this.records.set(f,g)}hydrate(l,c){return c.value===qp&&(c.value=O_,c.value=c.factory()),"object"==typeof c.value&&c.value&&function qM(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=re(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function N_(a){const l=pi(a),c=null!==l?l.factory:Uo(a);if(null!==c)return c;if(a instanceof Hn)throw new Oe(204,"");if(a instanceof Function)return function L_(a){const l=a.length;if(l>0)throw Ha(l,"?"),new Oe(204,"");const c=function Ji(a){const l=a&&(a[Vs]||a[Hi]);if(l){const c=function en(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Oe(204,"")}function JC(a,l,c){let d;if(pf(a)){const f=re(a);return Uo(f)||N_(f)}if(XC(a))d=()=>re(a.useValue);else if(function HM(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...M(a.deps||[]));else if(function UM(a){return!(!a||!a.useExisting)}(a))d=()=>Rn(re(a.useExisting));else{const f=re(a&&(a.useClass||a.provide));if(!function ZM(a){return!!a.deps}(a))return Uo(f)||N_(f);d=()=>new f(...M(a.deps))}return d}function ff(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function XC(a){return null!==a&&"object"==typeof a&&Ic in a}function pf(a){return"function"==typeof a}let Xs=(()=>{class a{static create(c,d){var f;if(Array.isArray(c))return F_({name:""},d,c,"");{const g=null!==(f=c.name)&&void 0!==f?f:"";return F_({name:g},c.parent,c.providers,g)}}}return a.THROW_IF_NOT_FOUND=fr,a.NULL=new QC,a.\u0275prov=yn({token:a,providedIn:"any",factory:()=>Rn(Zp)}),a.__NG_ELEMENT_ID__=-1,a})();function $M(a,l){Pu(Fc(a)[1],wn())}function pD(a){let l=function YM(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(pn(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Oe(903,"");f=l.\u0275dir}if(f){if(c){d.push(f);const v=a;v.inputs=mD(a.inputs),v.declaredInputs=mD(a.declaredInputs),v.outputs=mD(a.outputs);const C=f.hostBindings;C&&uR(a,C);const E=f.viewQuery,I=f.contentQueries;if(E&&lR(a,E),I&&cR(a,I),te(a.inputs,f.inputs),te(a.declaredInputs,f.declaredInputs),te(a.outputs,f.outputs),pn(f)&&f.data.animation){const k=a.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(a),C===pD&&(c=!1)}}l=Object.getPrototypeOf(l)}!function WM(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Li(f.hostAttrs,c=Li(c,f.hostAttrs))}}(d)}function mD(a){return a===Mr?{}:a===mt?[]:a}function lR(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function cR(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,g)=>{l(d,f,g),c(d,f,g)}:l}function uR(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let zp=null;function Zl(){if(!zp){const a=zt.Symbol;if(a&&a.iterator)zp=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(zp=d)}}}return zp}function $p(a){return!!Zb(a)&&(Array.isArray(a)||!(a instanceof Map)&&Zl()in a)}function Zb(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function ql(a,l,c){return a[l]=c}function Nr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function Wr(a,l,c,d){const f=Te();return Nr(f,_s(),l)&&(Ht(),ei(Bn(),f,a,l,c,d)),Wr}function mf(a,l,c,d){return Nr(a,_s(),c)?l+pe(c)+d:Ft}function yD(a,l,c,d,f,g,v,C){const E=Te(),I=Ht(),k=a+20,N=I.firstCreatePass?function eS(a,l,c,d,f,g,v,C,E){const I=l.consts,k=Ss(l,a,4,v||null,Pi(I,C));Ib(l,c,k,Pi(I,E)),Pu(l,k);const N=k.tViews=Sb(2,k,d,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,I);return null!==l.queries&&(l.queries.template(l,k),N.queries=l.queries.embeddedTView(k)),k}(k,I,E,l,c,d,f,g,v):I.data[k];Ni(N,!1);const G=E[11].createComment("");aa(I,E,G,N),hn(G,E),Bc(E,E[k]=T_(G,E,G,N)),yo(N)&&C_(I,E,N),null!=v&&uf(E,N,C)}function sr(a){return er(function Dh(){return vt.lFrame.contextLView}(),20+a)}function Xp(a,l=ut.Default){const c=Te();return null===c?Rn(a,l):$o(wn(),c,re(a),l)}function bf(){throw new Error("invalid")}function Jb(a,l,c){const d=Te();return Nr(d,_s(),l)&&Oo(Ht(),Bn(),d,a,l,d[11],c,!1),Jb}function Xb(a,l,c,d,f){const v=f?"class":"style";k_(a,c,l.inputs[v],v,d)}function wf(a,l,c,d){const f=Te(),g=Ht(),v=20+a,C=f[11],E=f[v]=Bl(C,l,function Mh(){return vt.lFrame.currentNamespace}()),I=g.firstCreatePass?function J_(a,l,c,d,f,g,v){const C=l.consts,I=Ss(l,a,2,f,Pi(C,g));return Ib(l,c,I,Pi(C,v)),null!==I.attrs&&R_(I,I.attrs,!1),null!==I.mergedAttrs&&R_(I,I.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,I),I}(v,g,f,0,l,c,d):g.data[v];Ni(I,!0);const k=I.mergedAttrs;null!==k&&Cc(C,E,k);const N=I.classes;null!==N&&sf(C,E,N);const G=I.styles;null!==G&&la(C,E,G),64!=(64&I.flags)&&aa(g,f,E,I),0===function Ta(){return vt.lFrame.elementDepthCount}()&&hn(E,f),function Fi(){vt.lFrame.elementDepthCount++}(),yo(I)&&(C_(g,f,I),LC(g,I,f)),null!==d&&uf(f,I)}function em(){let a=wn();Zs()?fc():(a=a.parent,Ni(a,!1));const l=a;!function Dl(){vt.lFrame.elementDepthCount--}();const c=Ht();c.firstCreatePass&&(Pu(c,a),lc(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Fu(a){return 0!=(16&a.flags)}(l)&&Xb(c,l,Te(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Pa(a){return 0!=(32&a.flags)}(l)&&Xb(c,l,Te(),l.stylesWithoutHost,!1)}function X_(a,l,c,d){wf(a,l,c,d),em()}function ey(a,l,c){const d=Te(),f=Ht(),g=a+20,v=f.firstCreatePass?function e0(a,l,c,d,f){const g=l.consts,v=Pi(g,d),C=Ss(l,a,8,"ng-container",v);return null!==v&&R_(C,v,!0),Ib(l,c,C,Pi(g,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(g,f,d,l,c):f.data[g];Ni(v,!0);const C=d[g]=d[11].createComment("");aa(f,d,C,v),hn(C,d),yo(v)&&(C_(f,d,v),LC(f,v,d)),null!=c&&uf(d,v)}function ty(){let a=wn();const l=Ht();Zs()?fc():(a=a.parent,Ni(a,!1)),l.firstCreatePass&&(Pu(l,a),lc(a)&&l.queries.elementEnd(a))}function SD(a,l,c){ey(a,l,c),ty()}function t0(){return Te()}function ny(a){return!!a&&"function"==typeof a.then}function iy(a){return!!a&&"function"==typeof a.subscribe}const n0=iy;function r0(a,l,c,d){const f=Te(),g=Ht(),v=wn();return ry(g,f,f[11],v,a,l,!!c,d),r0}function tm(a,l){const c=wn(),d=Te(),f=Ht();return ry(f,d,hf(Go(f.data),c,d),c,a,l,!1),tm}function ry(a,l,c,d,f,g,v,C){const E=yo(d),k=a.firstCreatePass&&Nb(a),N=l[8],G=A_(l);let J=!0;if(3&d.type||C){const Ne=Oi(d,l),ot=C?C(Ne):Ne,De=G.length,_t=C?Yt=>C(Vn(Yt[d.index])):d.index;if(An(c)){let Yt=null;if(!C&&E&&(Yt=function s0(a,l,c,d){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===c&&f[g+1]===d){const C=l[7],E=f[g+2];return C.length>E?C[E]:null}"string"==typeof v&&(g+=2)}return null}(a,l,f,d.index)),null!==Yt)(Yt.__ngLastListenerFn__||Yt).__ngNextListenerFn__=g,Yt.__ngLastListenerFn__=g,J=!1;else{g=$i(d,l,N,g,!1);const gn=c.listen(ot,f,g);G.push(g,gn),k&&k.push(f,_t,De,De+1)}}else g=$i(d,l,N,g,!0),ot.addEventListener(f,g,v),G.push(g),k&&k.push(f,_t,De,v)}else g=$i(d,l,N,g,!1);const be=d.outputs;let Ve;if(J&&null!==be&&(Ve=be[f])){const Ne=Ve.length;if(Ne)for(let ot=0;ot<Ne;ot+=2){const so=l[Ve[ot]][Ve[ot+1]].subscribe(g),ll=G.length;G.push(g,so),k&&k.push(f,d.index,ll,-(ll+1))}}}function zi(a,l,c,d){try{return!1!==c(d)}catch(f){return WC(a,f),!1}}function $i(a,l,c,d,f){return function g(v){if(v===Function)return d;const C=2&a.flags?tr(a.index,l):l;0==(32&l[2])&&x_(C);let E=zi(l,0,d,v),I=g.__ngNextListenerFn__;for(;I;)E=zi(l,0,I,v)&&E,I=I.__ngNextListenerFn__;return f&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function nm(a=1){return function Th(a){return(vt.lFrame.contextLView=function Lg(a,l){for(;a>0;)l=l[15],a--;return l}(a,vt.lFrame.contextLView))[8]}(a)}function o0(a,l){let c=null;const d=function aM(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===d?_C(a,g,!0):h_(d,g))return f}else c=f}return c}function ID(a){const l=Te()[16][6];if(!l.projection){const d=l.projection=Ha(a?a.length:1,null),f=d.slice();let g=l.child;for(;null!==g;){const v=a?o0(g,a):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function AD(a,l=0,c){const d=Te(),f=Ht(),g=Ss(f,20+a,16,null,c||null);null===g.projection&&(g.projection=l),fc(),64!=(64&g.flags)&&function d_(a,l,c){rf(l[11],0,l,c,x(a,c,l),qt(c.parent||l[6],c,l))}(f,d,g)}function ND(a,l,c,d,f){const g=a[c+1],v=null===l;let C=d?Fr(g):qi(g),E=!1;for(;0!==C&&(!1===E||v);){const k=a[C+1];rm(a[C],l)&&(E=!0,a[C+1]=d?bb(k):yb(k)),C=d?Fr(k):qi(k)}E&&(a[c+1]=d?yb(g):bb(g))}function rm(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Ko(a,l)>=0}const Bi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function d0(a){return a.substring(Bi.key,Bi.keyEnd)}function VD(a,l){const c=Bi.textEnd;return c===l?-1:(l=Bi.keyEnd=function yd(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,Bi.key=l,c),Cf(a,l,c))}function Cf(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function _r(a,l,c){return Fo(a,l,c,!1),_r}function cy(a,l){return Fo(a,l,null,!0),cy}function Po(a,l){for(let c=function ly(a){return function BD(a){Bi.key=0,Bi.keyEnd=0,Bi.value=0,Bi.valueEnd=0,Bi.textEnd=a.length}(a),VD(a,Cf(a,0,Bi.textEnd))}(l);c>=0;c=VD(l,c))hr(a,d0(l),!0)}function Fo(a,l,c,d){const f=Te(),g=Ht(),v=qr(2);g.firstUpdatePass&&dy(g,a,v,d),l!==Ft&&Nr(f,v,l)&&g0(g,g.data[li()],f,f[11],a,f[v+1]=function hS(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ue(ea(a)))),a}(l,c),d,v)}function Ef(a,l){return l>=a.expandoStartIndex}function dy(a,l,c,d){const f=a.data;if(null===f[c+1]){const g=f[li()],v=Ef(a,c);Tf(g,d)&&null===l&&!v&&(l=!1),l=function h0(a,l,c,d){const f=Go(a);let g=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=am(c=fy(null,a,l,c,d),l.attrs,d),g=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(c=fy(f,a,l,c,d),null===g){let E=function f0(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==qi(d))return a[Fr(d)]}(a,l,d);void 0!==E&&Array.isArray(E)&&(E=fy(null,a,l,E[1],d),E=am(E,l.attrs,d),function hy(a,l,c,d){a[Fr(c?l.classBindings:l.styleBindings)]=d}(a,l,d,E))}else g=function om(a,l,c){let d;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)d=am(d,a[g].hostAttrs,c);return am(d,l.attrs,c)}(a,l,d)}return void 0!==g&&(d?l.residualClasses=g:l.residualStyles=g),c}(f,g,l,d),function u0(a,l,c,d,f,g){let v=g?l.classBindings:l.styleBindings,C=Fr(v),E=qi(v);a[d]=c;let k,I=!1;if(Array.isArray(c)){const N=c;k=N[1],(null===k||Ko(N,k)>0)&&(I=!0)}else k=c;if(f)if(0!==E){const G=Fr(a[C+1]);a[d+1]=m_(G,C),0!==G&&(a[G+1]=vb(a[G+1],d)),a[C+1]=function uM(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=m_(C,0),0!==C&&(a[C+1]=vb(a[C+1],d)),C=d;else a[d+1]=m_(E,0),0===C?C=d:a[E+1]=vb(a[E+1],d),E=d;I&&(a[d+1]=yb(a[d+1])),ND(a,k,d,!0),ND(a,k,d,!1),function FD(a,l,c,d,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&Ko(g,l)>=0&&(c[d+1]=bb(c[d+1]))}(l,k,a,d,g),v=m_(C,E),g?l.classBindings=v:l.styleBindings=v}(f,g,l,c,v,d)}}function fy(a,l,c,d,f){let g=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(g=l[C],d=am(d,g.hostAttrs,f),g!==a);)C++;return null!==a&&(c.directiveStylingLast=C),d}function am(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),hr(a,v,!!c||l[++g]))}return void 0===a?null:a}function g0(a,l,c,d,f,g,v,C){if(!(3&l.type))return;const E=a.data,I=E[C+1];cm(function CC(a){return 1==(1&a)}(I)?_0(E,l,c,f,qi(I),v):void 0)||(cm(g)||function _b(a){return 2==(2&a)}(I)&&(g=_0(E,null,c,f,C,v)),function Ya(a,l,c,d,f){const g=An(a);if(l)f?g?a.addClass(c,d):c.classList.add(d):g?a.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:Ms.DashCase;if(null==f)g?a.removeStyle(c,d,v):c.style.removeProperty(d);else{const C="string"==typeof f&&f.endsWith("!important");C&&(f=f.slice(0,-10),v|=Ms.Important),g?a.setStyle(c,d,f,v):c.style.setProperty(d,f,C?"important":"")}}}(d,v,js(li(),c),f,g))}function _0(a,l,c,d,f,g){const v=null===l;let C;for(;f>0;){const E=a[f],I=Array.isArray(E),k=I?E[1]:E,N=null===k;let G=c[f+1];G===Ft&&(G=N?mt:void 0);let J=N?Uh(G,d):k===d?G:void 0;if(I&&!cm(J)&&(J=Uh(E,d)),cm(J)&&(C=J,v))return C;const be=a[f+1];f=v?Fr(be):qi(be)}if(null!==l){let E=g?l.residualClasses:l.residualStyles;null!=E&&(C=Uh(E,d))}return C}function cm(a){return void 0!==a}function Tf(a,l){return 0!=(a.flags&(l?16:32))}function y0(a,l=""){const c=Te(),d=Ht(),f=a+20,g=d.firstCreatePass?Ss(d,f,1,l,null):d.data[f],v=c[f]=function $a(a,l){return An(a)?a.createText(l):a.createTextNode(l)}(c[11],l);aa(d,c,v,g),Ni(g,!1)}function xf(a){return Zc("",a,""),xf}function Zc(a,l,c){const d=Te(),f=mf(d,a,l,c);return f!==Ft&&Wa(d,li(),f),Zc}function qD(a,l,c){!function No(a,l,c,d){const f=Ht(),g=qr(2);f.firstUpdatePass&&dy(f,null,g,d);const v=Te();if(c!==Ft&&Nr(v,g,c)){const C=f.data[li()];if(Tf(C,d)&&!Ef(f,g)){let E=d?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(c=fe(E,c||"")),Xb(f,C,v,c,d)}else!function m0(a,l,c,d,f,g,v,C){f===Ft&&(f=mt);let E=0,I=0,k=0<f.length?f[0]:null,N=0<g.length?g[0]:null;for(;null!==k||null!==N;){const G=E<f.length?f[E+1]:void 0,J=I<g.length?g[I+1]:void 0;let Ve,be=null;k===N?(E+=2,I+=2,G!==J&&(be=N,Ve=J)):null===N||null!==k&&k<N?(E+=2,be=k):(I+=2,be=N,Ve=J),null!==be&&g0(a,l,c,d,be,Ve,v,C),k=E<f.length?f[E]:null,N=I<g.length?g[I]:null}}(f,C,v,v[11],v[g+1],v[g+1]=function p0(a,l,c){if(null==c||""===c)return mt;const d=[],f=ea(c);if(Array.isArray(f))for(let g=0;g<f.length;g++)a(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&a(d,g,f[g]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,g)}}(hr,Po,mf(Te(),a,l,c),!0)}function wy(a,l,c){const d=Te();return Nr(d,_s(),l)&&Oo(Ht(),Bn(),d,a,l,d[11],c,!0),wy}function D0(a,l,c){const d=Te();if(Nr(d,_s(),l)){const g=Ht(),v=Bn();Oo(g,v,d,a,l,hf(Go(g.data),v,d),c,!0)}return D0}const zc=void 0;var E0=["en",[["a","p"],["AM","PM"],zc],[["AM","PM"],zc,zc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zc,"{1} 'at' {0}",zc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function KD(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let $c={};function Cy(a){const l=function hm(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=XD(l);if(c)return c;const d=l.split("-")[0];if(c=XD(d),c)return c;if("en"===d)return E0;throw new Error(`Missing locale data for the locale "${a}".`)}function JD(a){return Cy(a)[gt.PluralCase]}function XD(a){return a in $c||($c[a]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[a]),$c[a]}var gt=(()=>((gt=gt||{})[gt.LocaleId=0]="LocaleId",gt[gt.DayPeriodsFormat=1]="DayPeriodsFormat",gt[gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",gt[gt.DaysFormat=3]="DaysFormat",gt[gt.DaysStandalone=4]="DaysStandalone",gt[gt.MonthsFormat=5]="MonthsFormat",gt[gt.MonthsStandalone=6]="MonthsStandalone",gt[gt.Eras=7]="Eras",gt[gt.FirstDayOfWeek=8]="FirstDayOfWeek",gt[gt.WeekendRange=9]="WeekendRange",gt[gt.DateFormat=10]="DateFormat",gt[gt.TimeFormat=11]="TimeFormat",gt[gt.DateTimeFormat=12]="DateTimeFormat",gt[gt.NumberSymbols=13]="NumberSymbols",gt[gt.NumberFormats=14]="NumberFormats",gt[gt.CurrencyCode=15]="CurrencyCode",gt[gt.CurrencySymbol=16]="CurrencySymbol",gt[gt.CurrencyName=17]="CurrencyName",gt[gt.Currencies=18]="Currencies",gt[gt.Directionality=19]="Directionality",gt[gt.PluralCase=20]="PluralCase",gt[gt.ExtraData=21]="ExtraData",gt))();const fm="en-US";let eE=fm;function Ed(a,l,c,d,f){if(a=re(a),Array.isArray(a))for(let g=0;g<a.length;g++)Ed(a[g],l,c,d,f);else{const g=Ht(),v=Te();let C=pf(a)?a:re(a.provide),E=JC(a);const I=wn(),k=1048575&I.providerIndexes,N=I.directiveStart,G=I.providerIndexes>>20;if(pf(a)||!a.multi){const J=new Un(E,f,Xp),be=di(C,l,f?k:k+G,N);-1===be?(ci(xo(I,v),g,C),Kt(g,a,l.length),l.push(C),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(J),v.push(J)):(c[be]=J,v[be]=J)}else{const J=di(C,l,k+G,N),be=di(C,l,k,k+G),Ve=J>=0&&c[J],Ne=be>=0&&c[be];if(f&&!Ne||!f&&!Ve){ci(xo(I,v),g,C);const ot=function Td(a,l,c,d,f){const g=new Un(a,c,Xp);return g.multi=[],g.index=l,g.componentProviders=0,gE(g,f,d&&!c),g}(f?ky:$e,c.length,f,d,E);!f&&Ne&&(c[be].providerFactory=ot),Kt(g,a,l.length,0),l.push(C),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(ot),v.push(ot)}else Kt(g,a,J>-1?J:be,gE(c[f?be:J],E,!f&&d));!f&&d&&Ne&&c[be].componentProviders++}}}function Kt(a,l,c,d){const f=pf(l),g=function jM(a){return!!a.useClass}(l);if(f||g){const E=(g?re(l.useClass):l).prototype.ngOnDestroy;if(E){const I=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const k=I.indexOf(c);-1===k?I.push(c,[d,E]):I[k+1].push(d,E)}else I.push(c,E)}}}function gE(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function di(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function $e(a,l,c,d){return Cm(this.multi,[])}function ky(a,l,c,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=xn(c,c[1],this.providerFactory.index,d);g=C.slice(0,v),Cm(f,g);for(let E=v;E<C.length;E++)g.push(C[E])}else g=[],Cm(f,g);return g}function Cm(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function Dm(a,l=[]){return c=>{c.providersResolver=(d,f)=>function Mt(a,l,c){const d=Ht();if(d.firstCreatePass){const f=pn(a);Ed(c,d.data,d.blueprint,f,!0),Ed(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class V0{}class vE{resolveComponentFactory(l){throw function _E(a){const l=Error(`No component factory found for ${ue(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Rf=(()=>{class a{}return a.NULL=new vE,a})();function Kc(){return Qc(wn(),Te())}function Qc(a,l){return new se(Oi(a,l))}let se=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=Kc,a})();function Ry(a){return a instanceof se?a.nativeElement:a}class bE{}let Tm=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function US(){const a=Te(),c=tr(wn().index,a);return function Jc(a){return a[11]}(ji(c)?c:a)}(),a})(),xd=(()=>{class a{}return a.\u0275prov=yn({token:a,providedIn:"root",factory:()=>null}),a})();class B0{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Oy=new B0("13.1.3"),U0={};function Py(a,l,c,d,f=!1){for(;null!==c;){const g=l[c.index];if(null!==g&&d.push(Vn(g)),dr(g))for(let C=10;C<g.length;C++){const E=g[C],I=E[1].firstChild;null!==I&&Py(E[1],E,I,d)}const v=c.type;if(8&v)Py(a,l,c.child,d);else if(32&v){const C=Vp(c,l);let E;for(;E=C();)d.push(E)}else if(16&v){const C=nf(l,c);if(Array.isArray(C))d.push(...C);else{const E=mr(l[16]);Py(E[1],E,C,d,!0)}}c=f?c.projectionNext:c.next}return d}class or{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Py(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(dr(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(cd(l,d),Uu(c,d))}this._attachedToViewContainer=!1}y(this._lView[1],this._lView)}onDestroy(l){BC(this._lView[1],this._lView,null,l)}markForCheck(){x_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fb(this._lView[1],this._lView,this.context)}checkNoChanges(){!function FM(a,l,c){qo(!0);try{Fb(a,l,c)}finally{qo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hb(a,l){Hl(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=l}}class wE extends or{constructor(l){super(l),this._view=l}detectChanges(){zC(this._view)}checkNoChanges(){!function NM(a){qo(!0);try{zC(a)}finally{qo(!1)}}(this._view)}get context(){return null}}class Xc extends Rf{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=Jn(l);return new Cn(c,this.ngModule)}}function H0(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}const Fy=new Hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>od});class Cn extends V0{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function cM(a){return a.map(lM).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return H0(this.componentDef.inputs)}get outputs(){return H0(this.componentDef.outputs)}create(l,c,d,f){const g=(f=f||this.ngModule)?function yr(a,l){return{get:(c,d,f)=>{const g=a.get(c,U0,f);return g!==U0||d===U0?g:l.get(c,d,f)}}}(l,f.injector):l,v=g.get(bE,ms),C=g.get(xd,null),E=v.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",k=d?function DM(a,l,c){if(An(a))return a.selectRootElement(l,c===tn.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(E,d,this.componentDef.encapsulation):Bl(v.createRenderer(null,this.componentDef),I,function vi(a){const l=a.toLowerCase();return"svg"===l?wl:"math"===l?"http://www.w3.org/1998/MathML/":null}(I)),N=this.componentDef.onPush?576:528,G=function zM(a,l){return{components:[],scheduler:a||od,clean:YC,playerHandler:l||null,flags:0}}(),J=Sb(0,null,null,1,0,null,null,null,null,null),be=lf(null,J,G,N,null,null,v,E,C,g);let Ve,Ne;Ra(be);try{const ot=function GM(a,l,c,d,f,g){const v=c[1];c[20]=a;const E=Ss(v,20,2,"#host",null),I=E.mergedAttrs=l.hostAttrs;null!==I&&(R_(E,I,!0),null!==a&&(Cc(f,a,I),null!==E.classes&&sf(f,a,E.classes),null!==E.styles&&la(f,a,E.styles)));const k=d.createRenderer(a,l),N=lf(c,VC(l),null,l.onPush?64:16,c[20],E,d,k,g||null,null);return v.firstCreatePass&&(ci(xo(E,c),v,l.type),HC(v,E),ZC(E,c.length,1)),Bc(c,N),c[20]=N}(k,this.componentDef,be,v,E);if(k)if(d)Cc(E,k,["ng-version",Oy.full]);else{const{attrs:De,classes:_t}=function bC(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let g=a[d];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++d]):8===f&&c.push(g);else{if(!ca(f))break;f=g}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);De&&Cc(E,k,De),_t&&_t.length>0&&sf(E,k,_t.join(" "))}if(Ne=gs(J,20),void 0!==c){const De=Ne.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const Yt=c[_t];De.push(null!=Yt?Array.from(Yt):null)}}Ve=function fD(a,l,c,d,f){const g=c[1],v=function MM(a,l,c){const d=wn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),qC(a,d,l,pd(a,l,1,null),c));const f=xn(l,a,d.directiveStart,d);hn(f,l);const g=Oi(d,l);return g&&hn(g,l),f}(g,c,l);if(d.components.push(v),a[8]=v,f&&f.forEach(E=>E(v,l)),l.contentQueries){const E=wn();l.contentQueries(1,v,E.directiveStart)}const C=wn();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Ci(C.index),Gi(c[1],C,0,C.directiveStart,C.directiveEnd,l),UC(l,v)),v}(ot,this.componentDef,be,G,[$M]),jp(J,be,null)}finally{yc()}return new to(this.componentType,Ve,Qc(Ne,be),be,Ne)}}class to extends class Em{}{constructor(l,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new wE(f),this.componentType=l}get injector(){return new zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class ri{}class DE{}const no=new Map;class nl extends ri{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Xc(this);const d=si(l);this._bootstrapComponents=Qs(d.bootstrap),this._r3Injector=Bb(l,c,[{provide:ri,useValue:this},{provide:Rf,useValue:this.componentFactoryResolver}],ue(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=Xs.THROW_IF_NOT_FOUND,d=ut.Default){return l===Xs||l===ri||l===Zp?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Md extends DE{constructor(l){super(),this.moduleType=l,null!==si(l)&&function j0(a){const l=new Set;!function c(d){const f=si(d,!0),g=f.id;null!==g&&(function eu(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${ue(l)} vs ${ue(l.name)}`)}(g,no.get(g),d),no.set(g,d));const v=Qs(f.imports);for(const C of v)l.has(C)||(l.add(C),c(C))}(a)}(l)}create(l){return new nl(this.moduleType,l)}}function Pf(a,l,c){const d=gi()+a,f=Te();return f[d]===Ft?ql(f,d,c?l.call(c):l()):function Yp(a,l){return a[l]}(f,d)}function Z0(a,l,c,d){return iu(Te(),gi(),a,l,c,d)}function iu(a,l,c,d,f,g){const v=l+c;return Nr(a,v,f)?ql(a,v+1,g?d.call(g,f):d(f)):function Id(a,l){const c=a[l];return c===Ft?void 0:c}(a,v+1)}function Sm(a,l){const c=Ht();let d;const f=a+20;c.firstCreatePass?(d=function Im(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const g=d.factory||(d.factory=Uo(d.type)),v=cn(Xp);try{const C=ys(!1),E=g();return ys(C),function tS(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Te(),f,E),E}finally{cn(v)}}function z0(a,l,c){const d=a+20,f=Te(),g=er(f,d);return function Mi(a,l){return a[1].data[l].pure}(f,d)?iu(f,gi(),l,g.transform,c,g):g.transform(c)}function Sn(a){return l=>{setTimeout(a,void 0,l)}}const rl=class ME extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var f,g,v;let C=l,E=c||(()=>null),I=d;if(l&&"object"==typeof l){const N=l;C=null===(f=N.next)||void 0===f?void 0:f.bind(N),E=null===(g=N.error)||void 0===g?void 0:g.bind(N),I=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(E=Sn(E),C&&(C=Sn(C)),I&&(I=Sn(I)));const k=super.subscribe({next:C,error:E,complete:I});return l instanceof X.w0&&l.add(k),k}};function SE(){return this._results[Zl()]()}class sl{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Zl(),d=sl.prototype;d[c]||(d[c]=SE)}get changes(){return this._changes||(this._changes=new rl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=mn(l);(this._changesDetected=!function Bh(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],g=l[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Am=(()=>{class a{}return a.__NG_ELEMENT_ID__=By,a})();const km=Am,Vy=class extends km{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=lf(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(c)),jp(c,d,l),new or(d)}};function By(){return Rm(wn(),Te())}function Rm(a,l){return 4&a.type?new Vy(l,a,Qc(a,l)):null}let Om=(()=>{class a{}return a.__NG_ELEMENT_ID__=vr,a})();function vr(){return kE(wn(),Te())}const GS=Om,IE=class extends GS{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return Qc(this._hostTNode,this._hostLView)}get injector(){return new zs(this._hostTNode,this._hostLView)}get parentInjector(){const l=vs(this._hostTNode,this._hostLView);if(Oh(l)){const c=Il(l,this._hostLView),d=Sl(l);return new zs(c[1].data[d+8],c)}return new zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=AE(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const f=l.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(l,c,d,f,g){const v=l&&!function Ua(a){return"function"==typeof a}(l);let C;if(v)C=c;else{const N=c||{};C=N.index,d=N.injector,f=N.projectableNodes,g=N.ngModuleRef}const E=v?l:new Cn(Jn(l)),I=d||this.parentInjector;if(!g&&null==E.ngModule&&I){const N=I.get(ri,null);N&&(g=N)}const k=E.create(I,f,void 0,g);return this.insert(k.hostView,C),k}insert(l,c){const d=l._lView,f=d[1];if(function Au(a){return dr(a[3])}(d)){const k=this.indexOf(l);if(-1!==k)this.detach(k);else{const N=d[3],G=new IE(N,N[6],N[3]);G.detach(G.indexOf(l))}}const g=this._adjustIndex(c),v=this._lContainer;!function fb(a,l,c,d){const f=10+d,g=c.length;d>0&&(c[f-1][4]=l),d<g-10?(l[4]=c[f],Bu(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function pb(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=128}(f,d,v,g);const C=dd(g,v),E=d[11],I=tt(E,v[7]);return null!==I&&function u_(a,l,c,d,f,g){d[0]=f,d[6]=l,Hl(a,d,c,1,f,g)}(f,v[6],E,d,I,C),l.attachToViewContainerRef(),Bu(Uy(v),g,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=AE(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=cd(this._lContainer,c);d&&(Uu(Uy(this._lContainer),c),y(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=cd(this._lContainer,c);return d&&null!=Uu(Uy(this._lContainer),c)?new or(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function AE(a){return a[8]}function Uy(a){return a[8]||(a[8]=[])}function kE(a,l){let c;const d=l[a.index];if(dr(d))c=d;else{let f;if(8&a.type)f=Vn(d);else{const g=l[11];f=g.createComment("");const v=Oi(a,l);B(g,tt(g,v),f,function lt(a,l){return An(a)?a.nextSibling(l):l.nextSibling}(g,v),!1)}l[a.index]=c=T_(d,l,f,a),Bc(l,c)}return new IE(c,a,l)}class ol{constructor(l){this.queryList=l,this.matches=null}clone(){return new ol(this.queryList)}setDirty(){this.queryList.setDirty()}}class ru{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new ru(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==K0(l,c).matches&&this.queries[c].setDirty()}}class RE{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class Hy{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(l,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Hy(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class jy{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new jy(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(l,c,Wl(c,g)),this.matchTNodeWithReadOption(l,c,Yo(c,l,g,!1,!1))}else d===Am?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Yo(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===se||f===Om||f===Am&&4&c.type)this.addMatch(c.index,-2);else{const g=Yo(c,l,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function Wl(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function Lf(a,l,c,d){return-1===c?function OE(a,l){return 11&a.type?Qc(a,l):4&a.type?Rm(a,l):null}(l,a):-2===c?function YS(a,l,c){return c===se?Qc(l,a):c===Am?Rm(l,a):c===Om?kE(l,a):void 0}(a,l,d):xn(a,a[1],c,l)}function Zy(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const g=a.data,v=c.matches,C=[];for(let E=0;E<v.length;E+=2){const I=v[E];C.push(I<0?null:Lf(l,g[I],v[E+1],c.metadata.read))}f.matches=C}return f.matches}function Pm(a,l,c,d){const f=a.queries.getByIndex(c),g=f.matches;if(null!==g){const v=Zy(a,l,f,c);for(let C=0;C<g.length;C+=2){const E=g[C];if(E>0)d.push(v[C/2]);else{const I=g[C+1],k=l[-E];for(let N=10;N<k.length;N++){const G=k[N];G[17]===G[3]&&Pm(G[1],G,I,d)}if(null!==k[9]){const N=k[9];for(let G=0;G<N.length;G++){const J=N[G];Pm(J[1],J,I,d)}}}}}return d}function qy(a){const l=Te(),c=Ht(),d=ka();Tl(d+1);const f=K0(c,d);if(a.dirty&&ai(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?Pm(c,l,d,[]):Zy(c,l,f,d);a.reset(g,Ry),a.notifyOnChanges()}return!0}return!1}function Ad(a,l,c){const d=Ht();d.firstCreatePass&&(Gy(d,new RE(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),Y0(d,Te(),l)}function io(a,l,c,d){const f=Ht();if(f.firstCreatePass){const g=wn();Gy(f,new RE(l,c,d),g.index),function W0(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}Y0(f,Te(),c)}function $0(){return function Fm(a,l){return a[19].queries[l].queryList}(Te(),ka())}function Y0(a,l,c){const d=new sl(4==(4&c));BC(a,l,d,d.destroy),null===l[19]&&(l[19]=new ru),l[19].queries.push(new ol(d))}function Gy(a,l,c){null===a.queries&&(a.queries=new Hy),a.queries.track(new jy(l,c))}function K0(a,l){return a.queries.getByIndex(l)}function ou(...a){}const Qy=new Hn("Application Initializer");let Vd=(()=>{class a{constructor(c){this.appInits=c,this.resolve=ou,this.reject=ou,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(ny(g))c.push(g);else if(n0(g)){const v=new Promise((C,E)=>{g.subscribe({complete:C,error:E})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(Rn(Qy,8))},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})();const ow=new Hn("AppId"),ZE={provide:ow,useFactory:function tI(){return`${Jy()}${Jy()}${Jy()}`},deps:[]};function Jy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qE=new Hn("Platform Initializer"),GE=new Hn("Platform ID"),zE=new Hn("appBootstrapListener");let aw=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})();const ev=new Hn("LocaleId"),Ki=new Hn("DefaultCurrencyCode");class al{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let Um=(()=>{class a{compileModuleSync(c){return new Md(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Qs(si(c).declarations).reduce((v,C)=>{const E=Jn(C);return E&&v.push(new Cn(E)),v},[]);return new al(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})();const WE=(()=>Promise.resolve(0))();function iv(a){"undefined"==typeof Zone?WE.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class ro{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rl(!1),this.onMicrotaskEmpty=new rl(!1),this.onStable=new rl(!1),this.onError=new rl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function KE(){let a=zt.requestAnimationFrame,l=zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function rI(a){const l=()=>{!function lw(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(zt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,rv(a),a.isCheckStableRunning=!0,Bd(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),rv(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,v,C)=>{try{return cw(a),c.invokeTask(f,g,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),uw(a)}},onInvoke:(c,d,f,g,v,C,E)=>{try{return cw(a),c.invoke(f,g,v,C,E)}finally{a.shouldCoalesceRunChangeDetection&&l(),uw(a)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,rv(a),Bd(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ro.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ro.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,l,iI,ou,ou);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const iI={};function Bd(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function rv(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function cw(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function uw(a){a._nesting--,Bd(a)}class sI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rl,this.onMicrotaskEmpty=new rl,this.onStable=new rl,this.onError=new rl}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}let dw=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ro.assertNotInAngularZone(),iv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())iv(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(Rn(ro))},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})(),QE=(()=>{class a{constructor(){this._applications=new Map,au.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return au.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})();class oI{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function Uf(a){au=a}let ha,au=new oI;const Vr=new Hn("AllowMultipleToken");class lI{constructor(l,c){this.name=l,this.token=c}}function fa(a,l,c=[]){const d=`Platform: ${l}`,f=new Hn(d);return(g=[])=>{let v=fw();if(!v||v.injector.get(Vr,!1))if(a)a(c.concat(g).concat({provide:f,useValue:!0}));else{const C=c.concat(g).concat({provide:f,useValue:!0},{provide:Vb,useValue:"platform"});!function XE(a){if(ha&&!ha.destroyed&&!ha.injector.get(Vr,!1))throw new Oe(400,"");ha=a.get(tT);const l=a.get(qE,null);l&&l.forEach(c=>c())}(Xs.create({providers:C,name:d}))}return function eT(a){const l=fw();if(!l)throw new Oe(401,"");return l}()}}function fw(){return ha&&!ha.destroyed?ha:null}let tT=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const C=function cI(a,l){let c;return c="noop"===a?new sI:("zone.js"===a?void 0:a)||new ro({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:ro,useValue:C}];return C.run(()=>{const I=Xs.create({providers:E,parent:this.injector,name:c.moduleType.name}),k=c.create(I),N=k.injector.get(Vl,null);if(!N)throw new Oe(402,"");return C.runOutsideAngular(()=>{const G=C.onError.subscribe({next:J=>{N.handleError(J)}});k.onDestroy(()=>{pw(this._modules,k),G.unsubscribe()})}),function uI(a,l,c){try{const d=c();return ny(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(N,C,()=>{const G=k.injector.get(Vd);return G.runInitializers(),G.donePromise.then(()=>(function wS(a){at(a,"Expected localeId to be defined"),"string"==typeof a&&(eE=a.toLowerCase().replace(/_/g,"-"))}(k.injector.get(ev,fm)||fm),this._moduleDoBootstrap(k),k))})})}bootstrapModule(c,d=[]){const f=nT({},d);return function aI(a,l,c){const d=new Md(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(Hm);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Oe(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(Rn(Xs))},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})();function nT(a,l){return Array.isArray(l)?l.reduce(nT,a):Object.assign(Object.assign({},a),l)}let Hm=(()=>{class a{constructor(c,d,f,g,v){this._zone=c,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new F.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new F.y(I=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{ro.assertNotInAngularZone(),iv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{ro.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{k.unsubscribe(),N.unsubscribe()}});this.isStable=(0,le.T)(C,E.pipe((0,ce.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Oe(405,"");let f;f=c instanceof V0?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(f.componentType);const g=function JE(a){return a.isBoundToModule}(f)?void 0:this._injector.get(ri),C=f.create(Xs.NULL,[],d||f.selector,g),E=C.location.nativeElement,I=C.injector.get(dw,null),k=I&&C.injector.get(QE);return I&&k&&k.registerApplication(E,I),C.onDestroy(()=>{this.detachView(C.hostView),pw(this.components,C),k&&k.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;pw(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(zE,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(Rn(ro),Rn(Xs),Rn(Vl),Rn(Rf),Rn(Vd))},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})();function pw(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let rT=!0,sT=!1;function hI(){return sT=!0,rT}function fI(){if(sT)throw new Error("Cannot enable prod mode after platform setup.");rT=!1}let aT=(()=>{class a{}return a.__NG_ELEMENT_ID__=pI,a})();function pI(a){return function lT(a,l,c){if(dh(a)&&!c){const d=tr(a.index,l);return new or(d,d)}return 47&a.type?new or(l[16],l):null}(wn(),Te(),16==(16&a))}class uu{constructor(){}supports(l){return $p(l)}create(l){return new fT(l)}}const bI=(a,l)=>l;class fT{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||bI}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<jf(d,f,g)?c:d,C=jf(v,f,g),E=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{g||(g=[]);const I=C-f,k=E-f;if(I!=k){for(let G=0;G<I;G++){const J=G<g.length?g[G]:g[G]=0,be=J+G;k<=be&&be<I&&(g[G]=J+1)}g[v.previousIndex]=k-I}}C!==E&&l(v,C,E)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!$p(l))throw new Oe(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)g=l[C],v=this._trackByFn(C,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,C)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,C),d=!0),c=c._next}else f=0,function XM(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Zl()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,C=>{v=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,g,f)):l=this._addAfter(new wI(c,d),g,f),l}_verifyReinsertion(l,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new pT),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pT),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class wI{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CI{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class pT{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new CI,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jf(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class du{constructor(){}supports(l){return l instanceof Map||Zb(l)}create(){return new jd}}class jd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||Zb(l)))throw new Oe(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new mT(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class mT{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gT(){return new cv([new uu])}let cv=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||gT()),deps:[[a,new ft,new Be]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Oe(901,"")}}return a.\u0275prov=yn({token:a,providedIn:"root",factory:gT}),a})();function Zm(){return new uv([new du])}let uv=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Zm()),deps:[[a,new ft,new Be]]}}find(c){const d=this.factories.find(g=>g.supports(c));if(d)return d;throw new Oe(901,"")}}return a.\u0275prov=yn({token:a,providedIn:"root",factory:Zm}),a})();const yT=[new du],dv=new cv([new uu]),Gm=new uv(yT),vT=fa(null,"core",[{provide:GE,useValue:"unknown"},{provide:tT,deps:[Xs]},{provide:QE,deps:[]},{provide:aw,deps:[]}]),wT=[{provide:Hm,useClass:Hm,deps:[ro,Xs,Vl,Rf,Vd]},{provide:Fy,deps:[ro],useFactory:function hu(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(c){l.push(c)}}},{provide:Vd,useClass:Vd,deps:[[new Be,Qy]]},{provide:Um,useClass:Um,deps:[]},ZE,{provide:cv,useFactory:function Os(){return dv},deps:[]},{provide:uv,useFactory:function bT(){return Gm},deps:[]},{provide:ev,useFactory:function hv(a){return a||function fv(){return"undefined"!=typeof $localize&&$localize.locale||fm}()},deps:[[new Ce(ev),new Be,new ft]]},{provide:Ki,useValue:"USD"}];let Zf=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(Rn(Hm))},a.\u0275mod=Ut({type:a}),a.\u0275inj=Er({providers:wT}),a})()},3942:(Xe,ye,P)=>{P.d(ye,{Z:()=>Oe});var s=P(2090),X=P(4859),F=P(9681),le=P(1877);class ce{constructor(pe,ge){this._delegate=pe,this.firebase=ge,(0,F._addComponent)(pe,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(pe,ge=F._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(pe);return!qe.isInitialized()&&"EXPLICIT"===(null===(Re=qe.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:ge})}_removeServiceInstance(pe,ge=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(ge)}_addComponent(pe){(0,F._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,F._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function fe(){const Ze=function ue(Ze){const pe={},ge={__esModule:!0,initializeApp:function Le(We,we={}){const z=F.initializeApp(We,we);if((0,s.r3)(pe,z.name))return pe[z.name];const ne=new Ze(z,ge);return pe[z.name]=ne,ne},app:qe,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Se(We){const we=We.name,z=we.replace("-compat","");if(F._registerComponent(We)&&"PUBLIC"===We.type){const ne=(he=qe())=>{if("function"!=typeof he[z])throw te.create("invalid-app-argument",{appName:we});return he[z]()};void 0!==We.serviceProps&&(0,s.ZB)(ne,We.serviceProps),ge[z]=ne,Ze.prototype[z]=function(...he){return this._getService.bind(this,we).apply(this,We.multipleInstances?he:[])}}return"PUBLIC"===We.type?ge[z]:null},removeApp:function Re(We){delete pe[We]},useAsService:function it(We,we){return"serverAuth"===we?null:we},modularAPIs:F}};function qe(We){if(!(0,s.r3)(pe,We=We||F._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:We});return pe[We]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function et(){return Object.keys(pe).map(We=>pe[We])}}),qe.App=Ze,ge}(ce);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function pe(ge){(0,s.ZB)(Ze,ge)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Ze}(),W=new le.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=q;!function Ee(Ze){(0,F.registerVersion)("@firebase/app-compat","0.1.29",Ze)}()},9681:(Xe,ye,P)=>{P.r(ye),P.d(ye,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Vs,_DEFAULT_ENTRY_NAME:()=>at,_addComponent:()=>Ii,_addOrOverwriteComponent:()=>yn,_apps:()=>Nn,_clearComponents:()=>fo,_components:()=>ln,_getProvider:()=>Er,_registerComponent:()=>Dr,_removeServiceInstance:()=>pi,deleteApp:()=>ut,getApp:()=>Hi,getApps:()=>Pe,initializeApp:()=>Tr,onLog:()=>cn,registerVersion:()=>zn,setLogLevel:()=>ls});var s=P(5861),X=P(4859),F=P(1877),le=P(2090),ce=P(8766);class ve{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map(Y=>{if(function te(U){const Z=U.getComponent();return"VERSION"===(null==Z?void 0:Z.type)}(Y)){const Ae=Y.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(Y=>Y).join(" ")}}const ue="@firebase/app",q=new F.Yd("@firebase/app"),at="[DEFAULT]",xt={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nn=new Map,ln=new Map;function Ii(U,Z){try{U.container.addComponent(Z)}catch(Y){q.debug(`Component ${Z.name} failed to register with FirebaseApp ${U.name}`,Y)}}function yn(U,Z){U.container.addOrOverwriteComponent(Z)}function Dr(U){const Z=U.name;if(ln.has(Z))return q.debug(`There were multiple attempts to register component ${Z}.`),!1;ln.set(Z,U);for(const Y of Nn.values())Ii(Y,U);return!0}function Er(U,Z){const Y=U.container.getProvider("heartbeat").getImmediate({optional:!0});return Y&&Y.triggerHeartbeat(),U.container.getProvider(Z)}function pi(U,Z,Y=at){Er(U,Z).clearInstance(Y)}function fo(){ln.clear()}const en=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class qn{constructor(Z,Y,Ae){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Y),this._name=Y.name,this._automaticDataCollectionEnabled=Y.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})}}const Vs="9.9.0";function Tr(U,Z={}){"object"!=typeof Z&&(Z={name:Z});const Y=Object.assign({name:at,automaticDataCollectionEnabled:!1},Z),Ae=Y.name;if("string"!=typeof Ae||!Ae)throw en.create("bad-app-name",{appName:String(Ae)});const ze=Nn.get(Ae);if(ze){if((0,le.vZ)(U,ze.options)&&(0,le.vZ)(Y,ze.config))return ze;throw en.create("duplicate-app",{appName:Ae})}const Ct=new X.H0(Ae);for(const fn of ln.values())Ct.addComponent(fn);const nn=new qn(U,Y,Ct);return Nn.set(Ae,nn),nn}function Hi(U=at){const Z=Nn.get(U);if(!Z)throw en.create("no-app",{appName:U});return Z}function Pe(){return Array.from(Nn.values())}function ut(U){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,s.Z)(function*(U){const Z=U.name;Nn.has(Z)&&(Nn.delete(Z),yield Promise.all(U.container.getProviders().map(Y=>Y.delete())),U.isDeleted=!0)})).apply(this,arguments)}function zn(U,Z,Y){var Ae;let ze=null!==(Ae=xt[U])&&void 0!==Ae?Ae:U;Y&&(ze+=`-${Y}`);const Ct=ze.match(/\s|\//),nn=Z.match(/\s|\//);if(Ct||nn){const fn=[`Unable to register library "${ze}" with version "${Z}":`];return Ct&&fn.push(`library name "${ze}" contains illegal characters (whitespace or "/")`),Ct&&nn&&fn.push("and"),nn&&fn.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void q.warn(fn.join(" "))}Dr(new X.wA(`${ze}-version`,()=>({library:ze,version:Z}),"VERSION"))}function cn(U,Z){if(null!==U&&"function"!=typeof U)throw en.create("invalid-log-argument");(0,F.Am)(U,Z)}function ls(U){(0,F.Ub)(U)}const Ln="firebase-heartbeat-store";let xr=null;function ac(){return xr||(xr=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(U,Z)=>{0===Z&&U.createObjectStore(Ln)}}).catch(U=>{throw en.create("storage-open",{originalErrorMessage:U.message})})),xr}function ct(){return(ct=(0,s.Z)(function*(U){var Z;try{return(yield ac()).transaction(Ln).objectStore(Ln).get(cs(U))}catch(Y){throw en.create("storage-get",{originalErrorMessage:null===(Z=Y)||void 0===Z?void 0:Z.message})}})).apply(this,arguments)}function wt(U,Z){return po.apply(this,arguments)}function po(){return(po=(0,s.Z)(function*(U,Z){var Y;try{const ze=(yield ac()).transaction(Ln,"readwrite");return yield ze.objectStore(Ln).put(Z,cs(U)),ze.done}catch(Ae){throw en.create("storage-set",{originalErrorMessage:null===(Y=Ae)||void 0===Y?void 0:Y.message})}})).apply(this,arguments)}function cs(U){return`${U.name}!${U.options.appId}`}class Jt{constructor(Z){this.container=Z,this._heartbeatsCache=null;const Y=this.container.getProvider("app").getImmediate();this._storage=new us(Y),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var Z=this;return(0,s.Z)(function*(){const Ae=Z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ze=Mr();if(null===Z._heartbeatsCache&&(Z._heartbeatsCache=yield Z._heartbeatsCachePromise),Z._heartbeatsCache.lastSentHeartbeatDate!==ze&&!Z._heartbeatsCache.heartbeats.some(Ct=>Ct.date===ze))return Z._heartbeatsCache.heartbeats.push({date:ze,agent:Ae}),Z._heartbeatsCache.heartbeats=Z._heartbeatsCache.heartbeats.filter(Ct=>{const nn=new Date(Ct.date).valueOf();return Date.now()-nn<=2592e6}),Z._storage.overwrite(Z._heartbeatsCache)})()}getHeartbeatsHeader(){var Z=this;return(0,s.Z)(function*(){if(null===Z._heartbeatsCache&&(yield Z._heartbeatsCachePromise),null===Z._heartbeatsCache||0===Z._heartbeatsCache.heartbeats.length)return"";const Y=Mr(),{heartbeatsToSend:Ae,unsentEntries:ze}=function mt(U,Z=1024){const Y=[];let Ae=U.slice();for(const ze of U){const Ct=Y.find(nn=>nn.agent===ze.agent);if(Ct){if(Ct.dates.push(ze.date),j(Y)>Z){Ct.dates.pop();break}}else if(Y.push({agent:ze.agent,dates:[ze.date]}),j(Y)>Z){Y.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:Y,unsentEntries:Ae}}(Z._heartbeatsCache.heartbeats),Ct=(0,le.L)(JSON.stringify({version:2,heartbeats:Ae}));return Z._heartbeatsCache.lastSentHeartbeatDate=Y,ze.length>0?(Z._heartbeatsCache.heartbeats=ze,yield Z._storage.overwrite(Z._heartbeatsCache)):(Z._heartbeatsCache.heartbeats=[],Z._storage.overwrite(Z._heartbeatsCache)),Ct})()}}function Mr(){return(new Date).toISOString().substring(0,10)}class us{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Z=this;return(0,s.Z)(function*(){return(yield Z._canUseIndexedDBPromise)&&(yield function tn(U){return ct.apply(this,arguments)}(Z.app))||{heartbeats:[]}})()}overwrite(Z){var Y=this;return(0,s.Z)(function*(){var Ae;if(yield Y._canUseIndexedDBPromise){const Ct=yield Y.read();return wt(Y.app,{lastSentHeartbeatDate:null!==(Ae=Z.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Ct.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}})()}add(Z){var Y=this;return(0,s.Z)(function*(){var Ae;if(yield Y._canUseIndexedDBPromise){const Ct=yield Y.read();return wt(Y.app,{lastSentHeartbeatDate:null!==(Ae=Z.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...Z.heartbeats]})}})()}}function j(U){return(0,le.L)(JSON.stringify({version:2,heartbeats:U})).length}!function $(U){Dr(new X.wA("platform-logger",Z=>new ve(Z),"PRIVATE")),Dr(new X.wA("heartbeat",Z=>new Jt(Z),"PRIVATE")),zn(ue,"0.7.28",U),zn(ue,"0.7.28","esm2017"),zn("fire-js","")}("")},4859:(Xe,ye,P)=>{P.d(ye,{H0:()=>ue,wA:()=>F});var s=P(5861),X=P(2090);class F{constructor(q,W,re){this.name=q,this.instanceFactory=W,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const le="[DEFAULT]";class ce{constructor(q,W){this.name=q,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const W=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(W)){const re=new X.BH;if(this.instancesDeferred.set(W,re),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:W});Ge&&re.resolve(Ge)}catch(Ge){}}return this.instancesDeferred.get(W).promise}getImmediate(q){var W;const re=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),Ge=null!==(W=null==q?void 0:q.optional)&&void 0!==W&&W;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Ee){if(Ge)return null;throw Ee}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function te(fe){return"EAGER"===fe.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:le})}catch(W){}for(const[W,re]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(W);try{const Ee=this.getOrInitializeService({instanceIdentifier:Ge});re.resolve(Ee)}catch(Ee){}}}}clearInstance(q=le){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,s.Z)(function*(){const W=Array.from(q.instances.values());yield Promise.all([...W.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...W.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=le){return this.instances.has(q)}getOptions(q=le){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:W={}}=q,re=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:re,options:W});for(const[Ee,Oe]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Ee)&&Oe.resolve(Ge);return Ge}onInit(q,W){var re;const Ge=this.normalizeInstanceIdentifier(W),Ee=null!==(re=this.onInitCallbacks.get(Ge))&&void 0!==re?re:new Set;Ee.add(q),this.onInitCallbacks.set(Ge,Ee);const Oe=this.instances.get(Ge);return Oe&&q(Oe,Ge),()=>{Ee.delete(q)}}invokeOnInitCallbacks(q,W){const re=this.onInitCallbacks.get(W);if(re)for(const Ge of re)try{Ge(q,W)}catch(Ee){}}getOrInitializeService({instanceIdentifier:q,options:W={}}){let re=this.instances.get(q);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=q,fe===le?void 0:fe),options:W}),this.instances.set(q,re),this.instancesOptions.set(q,W),this.invokeOnInitCallbacks(re,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,re)}catch(Ge){}var fe;return re||null}normalizeInstanceIdentifier(q=le){return this.component?this.component.multipleInstances?q:le:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const W=this.getProvider(q.name);if(W.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);W.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const W=new ce(q,this);return this.providers.set(q,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(Xe,ye,P)=>{P.d(ye,{Am:()=>fe,Ub:()=>ue,Yd:()=>te,in:()=>X});const s=[];var X=(()=>{return(q=X||(X={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",X;var q})();const F={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},le=X.INFO,ce={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ve=(q,W,...re)=>{if(W<q.logLevel)return;const Ge=(new Date).toISOString(),Ee=ce[W];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ee](`[${Ge}]  ${q.name}:`,...re)};class te{constructor(W){this.name=W,this._logLevel=le,this._logHandler=ve,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in X))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?F[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...W),this._logHandler(this,X.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...W),this._logHandler(this,X.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,X.INFO,...W),this._logHandler(this,X.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,X.WARN,...W),this._logHandler(this,X.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...W),this._logHandler(this,X.ERROR,...W)}}function ue(q){s.forEach(W=>{W.setLogLevel(q)})}function fe(q,W){for(const re of s){let Ge=null;W&&W.level&&(Ge=F[W.level]),re.userLogHandler=null===q?null:(Ee,Oe,...Ze)=>{const pe=Ze.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch(Re){return null}}).filter(ge=>ge).join(" ");Oe>=(null!=Ge?Ge:Ee.logLevel)&&q({level:X[Oe].toLowerCase(),message:pe,args:Ze,type:Ee.name})}}}},8766:(Xe,ye,P)=>{P.d(ye,{Lj:()=>Le,X3:()=>qe});var s=P(5861);let F,le;const te=new WeakMap,ue=new WeakMap,fe=new WeakMap,q=new WeakMap,W=new WeakMap;let Ee={get(we,z,ne){if(we instanceof IDBTransaction){if("done"===z)return ue.get(we);if("objectStoreNames"===z)return we.objectStoreNames||fe.get(we);if("store"===z)return ne.objectStoreNames[1]?void 0:ne.objectStore(ne.objectStoreNames[0])}return ge(we[z])},set:(we,z,ne)=>(we[z]=ne,!0),has:(we,z)=>we instanceof IDBTransaction&&("done"===z||"store"===z)||z in we};function pe(we){return"function"==typeof we?function Ze(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...z){return we.apply(Re(this),z),ge(te.get(this))}:function(...z){return ge(we.apply(Re(this),z))}:function(z,...ne){const he=we.call(Re(this),z,...ne);return fe.set(he,z.sort?z.sort():[z]),ge(he)}}(we):(we instanceof IDBTransaction&&function Ge(we){if(ue.has(we))return;const z=new Promise((ne,he)=>{const _e=()=>{we.removeEventListener("complete",ke),we.removeEventListener("error",oe),we.removeEventListener("abort",oe)},ke=()=>{ne(),_e()},oe=()=>{he(we.error||new DOMException("AbortError","AbortError")),_e()};we.addEventListener("complete",ke),we.addEventListener("error",oe),we.addEventListener("abort",oe)});ue.set(we,z)}(we),((we,z)=>z.some(ne=>we instanceof ne))(we,function ce(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,Ee):we)}function ge(we){if(we instanceof IDBRequest)return function re(we){const z=new Promise((ne,he)=>{const _e=()=>{we.removeEventListener("success",ke),we.removeEventListener("error",oe)},ke=()=>{ne(ge(we.result)),_e()},oe=()=>{he(we.error),_e()};we.addEventListener("success",ke),we.addEventListener("error",oe)});return z.then(ne=>{ne instanceof IDBCursor&&te.set(ne,we)}).catch(()=>{}),W.set(z,we),z}(we);if(q.has(we))return q.get(we);const z=pe(we);return z!==we&&(q.set(we,z),W.set(z,we)),z}const Re=we=>W.get(we);function qe(we,z,{blocked:ne,upgrade:he,blocking:_e,terminated:ke}={}){const oe=indexedDB.open(we,z),bt=ge(oe);return he&&oe.addEventListener("upgradeneeded",Bt=>{he(ge(oe.result),Bt.oldVersion,Bt.newVersion,ge(oe.transaction))}),ne&&oe.addEventListener("blocked",()=>ne()),bt.then(Bt=>{ke&&Bt.addEventListener("close",()=>ke()),_e&&Bt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),bt}function Le(we,{blocked:z}={}){const ne=indexedDB.deleteDatabase(we);return z&&ne.addEventListener("blocked",()=>z()),ge(ne).then(()=>{})}const et=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],it=new Map;function We(we,z){if(!(we instanceof IDBDatabase)||z in we||"string"!=typeof z)return;if(it.get(z))return it.get(z);const ne=z.replace(/FromIndex$/,""),he=z!==ne,_e=Se.includes(ne);if(!(ne in(he?IDBIndex:IDBObjectStore).prototype)||!_e&&!et.includes(ne))return;const ke=function(){var oe=(0,s.Z)(function*(bt,...Bt){const Fn=this.transaction(bt,_e?"readwrite":"readonly");let at=Fn.store;return he&&(at=at.index(Bt.shift())),(yield Promise.all([at[ne](...Bt),_e&&Fn.done]))[0]});return function(Bt){return oe.apply(this,arguments)}}();return it.set(z,ke),ke}!function Oe(we){Ee=we(Ee)}(we=>$2(z2({},we),{get:(z,ne,he)=>We(z,ne)||we.get(z,ne,he),has:(z,ne)=>!!We(z,ne)||we.has(z,ne)}))},5861:(Xe,ye,P)=>{function s(F,le,ce,ve,te,ue,fe){try{var q=F[ue](fe),W=q.value}catch(re){return void ce(re)}q.done?le(W):Promise.resolve(W).then(ve,te)}function X(F){return function(){var le=this,ce=arguments;return new Promise(function(ve,te){var ue=F.apply(le,ce);function fe(W){s(ue,ve,te,fe,q,"next",W)}function q(W){s(ue,ve,te,fe,q,"throw",W)}fe(void 0)})}}P.d(ye,{Z:()=>X})}},Xe=>{Xe(Xe.s=4155)}]);