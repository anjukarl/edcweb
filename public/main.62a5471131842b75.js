"use strict";var H8=Object.defineProperty,j8=Object.defineProperties,q8=Object.getOwnPropertyDescriptors,Z2=Object.getOwnPropertySymbols,G8=Object.prototype.hasOwnProperty,Z8=Object.prototype.propertyIsEnumerable,z2=(Xe,ye,P)=>ye in Xe?H8(Xe,ye,{enumerable:!0,configurable:!0,writable:!0,value:P}):Xe[ye]=P,$2=(Xe,ye)=>{for(var P in ye||(ye={}))G8.call(ye,P)&&z2(Xe,P,ye[P]);if(Z2)for(var P of Z2(ye))Z8.call(ye,P)&&z2(Xe,P,ye[P]);return Xe},Y2=(Xe,ye)=>j8(Xe,q8(ye));(self.webpackChunkedcweb=self.webpackChunkedcweb||[]).push([[179],{2011:(Xe,ye,P)=>{P.d(ye,{Dh:()=>ue,GT:()=>ve,cc:()=>Ee,hO:()=>Ze,on:()=>G,pX:()=>ce,xv:()=>fe});var s=P(5e3),J=P(127),F=P(5813);Xe=P.hmd(Xe);const le=["ngOnDestroy"],ce=(ge,Re,Ge,Le={})=>new Proxy(ge,{get:(Je,Se)=>Ge.runOutsideAngular(()=>{var it;if(ge[Se])return(null===(it=null==Le?void 0:Le.spy)||void 0===it?void 0:it.get)&&Le.spy.get(Se,ge[Se]),ge[Se];if(le.indexOf(Se)>-1)return()=>{};const We=Re.toPromise().then(we=>{const z=we&&we[Se];return"function"==typeof z?z.bind(we):z&&z.then?z.then(ne=>Ge.run(()=>ne)):Ge.run(()=>z)});return new Proxy(()=>{},{get:(we,z)=>We[z],apply:(we,z,ne)=>We.then(he=>{var _e;const ke=he&&he(...ne);return(null===(_e=null==Le?void 0:Le.spy)||void 0===_e?void 0:_e.apply)&&Le.spy.apply(Se,ne,ke),ke})})})}),ve=(ge,Re)=>{Re.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Le=>{Object.defineProperty(ge.prototype,Le,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Le))})})};class te{constructor(Re){return Re}}const ue=new s.OlP("angularfire2.app.options"),fe=new s.OlP("angularfire2.app.name");function G(ge,Re,Ge){const Je="object"==typeof Ge&&Ge||{};Je.name=Je.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const it=J.Z.apps.filter(We=>We&&We.name===Je.name)[0]||Re.runOutsideAngular(()=>J.Z.initializeApp(ge,Je));try{JSON.stringify(ge)!==JSON.stringify(it.options)&&W("error",`${it.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(We){}return new te(it)}const W=(ge,...Re)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[ge](...Re)},re={provide:te,useFactory:G,deps:[ue,s.R0b,[new s.FiY,fe]]};let Ze=(()=>{class ge{constructor(Ge){J.Z.registerVersion("angularfire",F.q4.full,"core"),J.Z.registerVersion("angularfire",F.q4.full,"app-compat"),J.Z.registerVersion("angular",s.q4F.full,Ge.toString())}static initializeApp(Ge,Le){return{ngModule:ge,providers:[{provide:ue,useValue:Ge},{provide:fe,useValue:Le}]}}}return ge.\u0275fac=function(Ge){return new(Ge||ge)(s.LFG(s.Lbi))},ge.\u0275mod=s.oAB({type:ge}),ge.\u0275inj=s.cJS({providers:[re]}),ge})();function Ee(ge,Re,Ge,Le,Je){const[,Se,it]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===ge)||[];if(Se)return function Oe(ge,Re){try{return ge.toString()===Re.toString()}catch(Ge){return ge===Re}}(Je,it)||(pe("error",`${Re} was already initialized on the ${Ge} Firebase App with different settings.${qe?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:Je,was:it})),Se;{const We=Le();return globalThis.\u0275AngularfireInstanceCache.push([ge,We,Je]),We}}const qe=!!Xe.hot,pe=(ge,...Re)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[ge](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Xe,ye,P)=>{P.d(ye,{q4:()=>kh,iC:()=>Ba,fc:()=>wc,HU:()=>Al,vb:()=>Va,JM:()=>zo});var s=P(5e3),J=P(5867),F=P(5861),le=P(9681),ce=P(2090),ve=P(4859),te=P(1877),ue=P(8766);const fe="@firebase/installations",G="0.5.12",re=`w:${G}`,Ze="FIS_v2",Re=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(T){return T instanceof ce.ZR&&T.code.includes("request-failed")}function Le({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Je(T){return{token:T.token,requestStatus:2,expiresIn:he(T.expiresIn),creationTime:Date.now()}}function Se(T,x){return it.apply(this,arguments)}function it(){return(it=(0,F.Z)(function*(T,x){const V=(yield x.json()).error;return Re.create("request-failed",{requestName:T,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function We({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function we(T,{refreshToken:x}){const R=We(T);return R.append("Authorization",function _e(T){return`${Ze} ${T}`}(x)),R}function z(T){return ne.apply(this,arguments)}function ne(){return(ne=(0,F.Z)(function*(T){const x=yield T();return x.status>=500&&x.status<600?T():x})).apply(this,arguments)}function he(T){return Number(T.replace("s","000"))}function ke(T,x){return oe.apply(this,arguments)}function oe(){return(oe=(0,F.Z)(function*({appConfig:T,heartbeatServiceProvider:x},{fid:R}){const V=Le(T),K=We(T),ae=x.getImmediate({optional:!0});if(ae){const ft=yield ae.getHeartbeatsHeader();ft&&K.append("x-firebase-client",ft)}const Be={method:"POST",headers:K,body:JSON.stringify({fid:R,authVersion:Ze,appId:T.appId,sdkVersion:re})},ht=yield z(()=>fetch(V,Be));if(ht.ok){const ft=yield ht.json();return{fid:ft.fid||R,registrationStatus:2,refreshToken:ft.refreshToken,authToken:Je(ft.authToken)}}throw yield Se("Create Installation",ht)})).apply(this,arguments)}function vt(T){return new Promise(x=>{setTimeout(x,T)})}const On=/^[cdef][\w-]{21}$/;function Mt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const R=function Pn(T){return function Bt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return On.test(R)?R:""}catch(T){return""}}function ln(T){return`${T.appName}!${T.appId}`}const Ii=new Map;function yn(T,x){const R=ln(T);pi(R,x),function so(T,x){const R=function en(){return!Xi&&"BroadcastChannel"in self&&(Xi=new BroadcastChannel("[Firebase] FID Change"),Xi.onmessage=T=>{pi(T.data.key,T.data.fid)}),Xi}();R&&R.postMessage({key:T,fid:x}),function qn(){0===Ii.size&&Xi&&(Xi.close(),Xi=null)}()}(R,x)}function pi(T,x){const R=Ii.get(T);if(R)for(const V of R)V(x)}let Xi=null;const Hi="firebase-installations-store";let Pe=null;function ut(){return Pe||(Pe=(0,ue.X3)("firebase-installations-database",1,{upgrade:(T,x)=>{0===x&&T.createObjectStore(Hi)}})),Pe}function Gn(T,x){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,F.Z)(function*(T,x){const R=ln(T),K=(yield ut()).transaction(Hi,"readwrite"),ae=K.objectStore(Hi),Ce=yield ae.get(R);return yield ae.put(x,R),yield K.done,(!Ce||Ce.fid!==x.fid)&&yn(T,x.fid),x})).apply(this,arguments)}function cn(T){return ns.apply(this,arguments)}function ns(){return(ns=(0,F.Z)(function*(T){const x=ln(T),V=(yield ut()).transaction(Hi,"readwrite");yield V.objectStore(Hi).delete(x),yield V.done})).apply(this,arguments)}function ko(T,x){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,F.Z)(function*(T,x){const R=ln(T),K=(yield ut()).transaction(Hi,"readwrite"),ae=K.objectStore(Hi),Ce=yield ae.get(R),Be=x(Ce);return void 0===Be?yield ae.delete(R):yield ae.put(Be,R),yield K.done,Be&&(!Ce||Ce.fid!==Be.fid)&&yn(T,Be.fid),Be})).apply(this,arguments)}function Fn(T){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,F.Z)(function*(T){let x;const R=yield ko(T.appConfig,V=>{const K=Jl(V),ae=tn(T,K);return x=ae.registrationPromise,ae.installationEntry});return""===R.fid?{installationEntry:yield x}:{installationEntry:R,registrationPromise:x}})).apply(this,arguments)}function Jl(T){return vn(T||{fid:Mt(),registrationStatus:0})}function tn(T,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Re.create("app-offline"))};const R={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},V=function ct(T,x){return bt.apply(this,arguments)}(T,R);return{installationEntry:R,registrationPromise:V}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:oo(T)}:{installationEntry:x}}function bt(){return(bt=(0,F.Z)(function*(T,x){try{const R=yield ke(T,x);return Gn(T.appConfig,R)}catch(R){throw Ge(R)&&409===R.customData.serverCode?yield cn(T.appConfig):yield Gn(T.appConfig,{fid:x.fid,registrationStatus:0}),R}})).apply(this,arguments)}function oo(T){return is.apply(this,arguments)}function is(){return(is=(0,F.Z)(function*(T){let x=yield Zt(T.appConfig);for(;1===x.registrationStatus;)yield vt(100),x=yield Zt(T.appConfig);if(0===x.registrationStatus){const{installationEntry:R,registrationPromise:V}=yield Fn(T);return V||R}return x})).apply(this,arguments)}function Zt(T){return ko(T,x=>{if(!x)throw Re.create("installation-not-found");return vn(x)})}function vn(T){return function Kt(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Mr(T,x){return mt.apply(this,arguments)}function mt(){return(mt=(0,F.Z)(function*({appConfig:T,heartbeatServiceProvider:x},R){const V=rs(T,R),K=we(T,R),ae=x.getImmediate({optional:!0});if(ae){const ft=yield ae.getHeartbeatsHeader();ft&&K.append("x-firebase-client",ft)}const Be={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:re,appId:T.appId}})},ht=yield z(()=>fetch(V,Be));if(ht.ok)return Je(yield ht.json());throw yield Se("Generate Auth Token",ht)})).apply(this,arguments)}function rs(T,{fid:x}){return`${Le(T)}/${x}/authTokens:generate`}function j(T){return $.apply(this,arguments)}function $(){return($=(0,F.Z)(function*(T,x=!1){let R;const V=yield ko(T.appConfig,ae=>{if(!wt(ae))throw Re.create("not-registered");const Ce=ae.authToken;if(!x&&nn(Ce))return ae;if(1===Ce.requestStatus)return R=U(T,x),ae;{if(!navigator.onLine)throw Re.create("app-offline");const Be=lr(ae);return R=Ae(T,Be),Be}});return R?yield R:V.authToken})).apply(this,arguments)}function U(T,x){return q.apply(this,arguments)}function q(){return(q=(0,F.Z)(function*(T,x){let R=yield Y(T.appConfig);for(;1===R.authToken.requestStatus;)yield vt(100),R=yield Y(T.appConfig);const V=R.authToken;return 0===V.requestStatus?j(T,x):V})).apply(this,arguments)}function Y(T){return ko(T,x=>{if(!wt(x))throw Re.create("not-registered");return function Ut(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function Ae(T,x){return ze.apply(this,arguments)}function ze(){return(ze=(0,F.Z)(function*(T,x){try{const R=yield Mr(T,x),V=Object.assign(Object.assign({},x),{authToken:R});return yield Gn(T.appConfig,V),R}catch(R){if(!Ge(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const V=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Gn(T.appConfig,V)}else yield cn(T.appConfig);throw R}})).apply(this,arguments)}function wt(T){return void 0!==T&&2===T.registrationStatus}function nn(T){return 2===T.requestStatus&&!function fn(T){const x=Date.now();return x<T.creationTime||T.creationTime+T.expiresIn<x+36e5}(T)}function lr(T){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:x})}function Os(){return(Os=(0,F.Z)(function*(T){const x=T,{installationEntry:R,registrationPromise:V}=yield Fn(x);return V?V.catch(console.error):j(x).catch(console.error),R.fid})).apply(this,arguments)}function _a(){return(_a=(0,F.Z)(function*(T,x=!1){const R=T;return yield Qn(R),(yield j(R,x)).token})).apply(this,arguments)}function Qn(T){return os.apply(this,arguments)}function os(){return(os=(0,F.Z)(function*(T){const{registrationPromise:x}=yield Fn(T);x&&(yield x)})).apply(this,arguments)}function Ro(T){return Re.create("missing-app-config-values",{valueName:T})}const cr="installations",Lt=T=>{const x=T.getProvider("app").getImmediate(),R=function ki(T){if(!T||!T.options)throw Ro("App Configuration");if(!T.name)throw Ro("App Name");const x=["projectId","apiKey","appId"];for(const R of x)if(!T.options[R])throw Ro(R);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(x);return{app:x,appConfig:R,heartbeatServiceProvider:(0,le._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},un=T=>{const x=T.getProvider("app").getImmediate(),R=(0,le._getProvider)(x,cr).getImmediate();return{getId:()=>function ss(T){return Os.apply(this,arguments)}(R),getToken:K=>function ga(T){return _a.apply(this,arguments)}(R,K)}};(function bi(){(0,le._registerComponent)(new ve.wA(cr,Lt,"PUBLIC")),(0,le._registerComponent)(new ve.wA("installations-internal",un,"PRIVATE"))})(),(0,le.registerVersion)(fe,G),(0,le.registerVersion)(fe,G,"esm2017");const Ri="@firebase/remote-config",Tn=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class kg{constructor(x,R,V,K){this.client=x,this.storage=R,this.storageCache=V,this.logger=K}isCachedDataFresh(x,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-R,K=V<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${K}.`),K}fetch(x){var R=this;return(0,F.Z)(function*(){const[V,K]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(K&&R.isCachedDataFresh(x.cacheMaxAgeMillis,V))return K;x.eTag=K&&K.eTag;const ae=yield R.client.fetch(x),Ce=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&Ce.push(R.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(Ce),ae})()}}function np(T=navigator){return T.languages&&T.languages[0]||T.language}class Br{constructor(x,R,V,K,ae,Ce){this.firebaseInstallations=x,this.sdkVersion=R,this.namespace=V,this.projectId=K,this.apiKey=ae,this.appId=Ce}fetch(x){var R=this;return(0,F.Z)(function*(){var V,K,ae;const[Ce,Be]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,At={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},pt={sdk_version:R.sdkVersion,app_instance_id:Ce,app_instance_id_token:Be,app_id:R.appId,language_code:np()},Hn={method:"POST",headers:At,body:JSON.stringify(pt)},Ei=fetch(ft,Hn),Gr=new Promise((Yo,vs)=>{x.signal.addEventListener(()=>{const Dc=new Error("The operation was aborted.");Dc.name="AbortError",vs(Dc)})});let Ua;try{yield Promise.race([Ei,Gr]),Ua=yield Ei}catch(Yo){let vs="fetch-client-network";throw"AbortError"===(null===(V=Yo)||void 0===V?void 0:V.name)&&(vs="fetch-timeout"),Tn.create(vs,{originalErrorMessage:null===(K=Yo)||void 0===K?void 0:K.message})}let Eo=Ua.status;const qs=Ua.headers.get("ETag")||void 0;let Zr,$o;if(200===Ua.status){let Yo;try{Yo=yield Ua.json()}catch(vs){throw Tn.create("fetch-client-parse",{originalErrorMessage:null===(ae=vs)||void 0===ae?void 0:ae.message})}Zr=Yo.entries,$o=Yo.state}if("INSTANCE_STATE_UNSPECIFIED"===$o?Eo=500:"NO_CHANGE"===$o?Eo=304:("NO_TEMPLATE"===$o||"EMPTY_CONFIG"===$o)&&(Zr={}),304!==Eo&&200!==Eo)throw Tn.create("fetch-status",{httpStatus:Eo});return{status:Eo,eTag:qs,config:Zr}})()}}class pl{constructor(x,R){this.client=x,this.storage=R}fetch(x){var R=this;return(0,F.Z)(function*(){const V=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(x,V)})()}attemptFetch(x,{throttleEndTimeMillis:R,backoffCount:V}){var K=this;return(0,F.Z)(function*(){yield function ip(T,x){return new Promise((R,V)=>{const K=Math.max(x-Date.now(),0),ae=setTimeout(R,K);T.addEventListener(()=>{clearTimeout(ae),V(Tn.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,R);try{const ae=yield K.client.fetch(x);return yield K.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function Rg(T){if(!(T instanceof ce.ZR&&T.customData))return!1;const x=Number(T.customData.httpStatus);return 429===x||500===x||503===x||504===x}(ae))throw ae;const Ce={throttleEndTimeMillis:Date.now()+(0,ce.$s)(V),backoffCount:V+1};return yield K.storage.setThrottleMetadata(Ce),K.attemptFetch(x,Ce)}})()}}class sp{constructor(x,R,V,K,ae){this.app=x,this._client=R,this._storageCache=V,this._storage=K,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ml(T,x){var R;const V=T.target.error||void 0;return Tn.create(x,{originalErrorMessage:V&&(null===(R=V)||void 0===R?void 0:R.message)})}const ba="app_namespace_store";class _u{constructor(x,R,V,K=function sh(){return new Promise((T,x)=>{var R;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=K=>{x(ml(K,"storage-open"))},V.onsuccess=K=>{T(K.target.result)},V.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(ba,{keyPath:"compositeKey"})}}catch(V){x(Tn.create("storage-open",{originalErrorMessage:null===(R=V)||void 0===R?void 0:R.message}))}})}()){this.appId=x,this.appName=R,this.namespace=V,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var R=this;return(0,F.Z)(function*(){const V=yield R.openDbPromise;return new Promise((K,ae)=>{var Ce;const ht=V.transaction([ba],"readonly").objectStore(ba),ft=R.createCompositeKey(x);try{const At=ht.get(ft);At.onerror=pt=>{ae(ml(pt,"storage-get"))},At.onsuccess=pt=>{const Hn=pt.target.result;K(Hn?Hn.value:void 0)}}catch(At){ae(Tn.create("storage-get",{originalErrorMessage:null===(Ce=At)||void 0===Ce?void 0:Ce.message}))}})})()}set(x,R){var V=this;return(0,F.Z)(function*(){const K=yield V.openDbPromise;return new Promise((ae,Ce)=>{var Be;const ft=K.transaction([ba],"readwrite").objectStore(ba),At=V.createCompositeKey(x);try{const pt=ft.put({compositeKey:At,value:R});pt.onerror=Hn=>{Ce(ml(Hn,"storage-set"))},pt.onsuccess=()=>{ae()}}catch(pt){Ce(Tn.create("storage-set",{originalErrorMessage:null===(Be=pt)||void 0===Be?void 0:Be.message}))}})})()}delete(x){var R=this;return(0,F.Z)(function*(){const V=yield R.openDbPromise;return new Promise((K,ae)=>{var Ce;const ht=V.transaction([ba],"readwrite").objectStore(ba),ft=R.createCompositeKey(x);try{const At=ht.delete(ft);At.onerror=pt=>{ae(ml(pt,"storage-delete"))},At.onsuccess=()=>{K()}}catch(At){ae(Tn.create("storage-delete",{originalErrorMessage:null===(Ce=At)||void 0===Ce?void 0:Ce.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class oh{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,F.Z)(function*(){const R=x.storage.getLastFetchStatus(),V=x.storage.getLastSuccessfulFetchTimestampMillis(),K=x.storage.getActiveConfig(),ae=yield R;ae&&(x.lastFetchStatus=ae);const Ce=yield V;Ce&&(x.lastSuccessfulFetchTimestampMillis=Ce);const Be=yield K;Be&&(x.activeConfig=Be)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function ah(){return vu.apply(this,arguments)}function vu(){return(vu=(0,F.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(T){return!1}})).apply(this,arguments)}!function Pg(){(0,le._registerComponent)(new ve.wA("remote-config",function T(x,{instanceIdentifier:R}){const V=x.getProvider("app").getImmediate(),K=x.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Tn.create("registration-window");if(!(0,ce.hl)())throw Tn.create("indexed-db-unavailable");const{projectId:ae,apiKey:Ce,appId:Be}=V.options;if(!ae)throw Tn.create("registration-project-id");if(!Ce)throw Tn.create("registration-api-key");if(!Be)throw Tn.create("registration-app-id");const ht=new _u(Be,V.name,R=R||"firebase"),ft=new oh(ht),At=new te.Yd(Ri);At.logLevel=te.in.ERROR;const pt=new Br(K,le.SDK_VERSION,R,ae,Ce,Be),Hn=new pl(pt,ht),Ei=new kg(Hn,ht,ft,At),Gr=new sp(V,Ei,ft,ht,At);return function bn(T){const x=(0,ce.m9)(T);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Gr),Gr},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Ri,"0.3.11"),(0,le.registerVersion)(Ri,"0.3.11","esm2017")}();const lh="/firebase-messaging-sw.js",Po="/firebase-cloud-messaging-push-scope",nc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fo="google.c.a.c_id",op="google.c.a.c_l",ch="google.c.a.ts",oi="google.c.a.e";var ho=(()=>{return(T=ho||(ho={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",ho;var T})();function Ur(T){const x=new Uint8Array(T);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ls(T){const R=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(R),K=new Uint8Array(V.length);for(let ae=0;ae<V.length;++ae)K[ae]=V.charCodeAt(ae);return K}const Ji="fcm_token_details_db",uh="fcm_token_object_Store";function ic(T){return dh.apply(this,arguments)}function dh(){return dh=(0,F.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(Ji))return null;let x=null;return(yield(0,ue.X3)(Ji,5,{upgrade:(V=(0,F.Z)(function*(K,ae,Ce,Be){var ht;if(ae<2||!K.objectStoreNames.contains(uh))return;const ft=Be.objectStore(uh),At=yield ft.index("fcmSenderId").get(T);if(yield ft.clear(),At)if(2===ae){const pt=At;if(!pt.auth||!pt.p256dh||!pt.endpoint)return;x={token:pt.fcmToken,createTime:null!==(ht=pt.createTime)&&void 0!==ht?ht:Date.now(),subscriptionOptions:{auth:pt.auth,p256dh:pt.p256dh,endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:"string"==typeof pt.vapidKey?pt.vapidKey:Ur(pt.vapidKey)}}}else if(3===ae){const pt=At;x={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:Ur(pt.auth),p256dh:Ur(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:Ur(pt.vapidKey)}}}else if(4===ae){const pt=At;x={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:Ur(pt.auth),p256dh:Ur(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:Ur(pt.vapidKey)}}}}),function(ae,Ce,Be,ht){return V.apply(this,arguments)})})).close(),yield(0,ue.Lj)(Ji),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),vl(x)?x:null;var V}),dh.apply(this,arguments)}function vl(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:x}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const cs="firebase-messaging-store";let fo=null;function Nn(){return fo||(fo=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(T,x)=>{0===x&&T.createObjectStore(cs)}})),fo}function hh(T){return po.apply(this,arguments)}function po(){return(po=(0,F.Z)(function*(T){const x=er(T),V=yield(yield Nn()).transaction(cs).objectStore(cs).get(x);if(V)return V;{const K=yield ic(T.appConfig.senderId);if(K)return yield Ns(T,K),K}})).apply(this,arguments)}function Ns(T,x){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,F.Z)(function*(T,x){const R=er(T),K=(yield Nn()).transaction(cs,"readwrite");return yield K.objectStore(cs).put(x,R),yield K.done,x})).apply(this,arguments)}function Sr(T){return us.apply(this,arguments)}function us(){return(us=(0,F.Z)(function*(T){const x=er(T),V=(yield Nn()).transaction(cs,"readwrite");yield V.objectStore(cs).delete(x),yield V.done})).apply(this,arguments)}function er({appConfig:T}){return T.appId}const ai=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wa(T,x){return bu.apply(this,arguments)}function bu(){return(bu=(0,F.Z)(function*(T,x){var R;const V=yield Ca(T),K=bl(x),ae={method:"POST",headers:V,body:JSON.stringify(K)};let Ce;try{Ce=yield(yield fetch(Lo(T.appConfig),ae)).json()}catch(Be){throw ai.create("token-subscribe-failed",{errorInfo:null===(R=Be)||void 0===R?void 0:R.toString()})}if(Ce.error)throw ai.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw ai.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function Pi(T,x){return No.apply(this,arguments)}function No(){return(No=(0,F.Z)(function*(T,x){var R;const V=yield Ca(T),K=bl(x.subscriptionOptions),ae={method:"PATCH",headers:V,body:JSON.stringify(K)};let Ce;try{Ce=yield(yield fetch(`${Lo(T.appConfig)}/${x.token}`,ae)).json()}catch(Be){throw ai.create("token-update-failed",{errorInfo:null===(R=Be)||void 0===R?void 0:R.toString()})}if(Ce.error)throw ai.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw ai.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function mo(T,x){return yt.apply(this,arguments)}function yt(){return(yt=(0,F.Z)(function*(T,x){var R;const K={method:"DELETE",headers:yield Ca(T)};try{const Ce=yield(yield fetch(`${Lo(T.appConfig)}/${x}`,K)).json();if(Ce.error)throw ai.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(ae){throw ai.create("token-unsubscribe-failed",{errorInfo:null===(R=ae)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function Lo({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Ca(T){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,F.Z)(function*({appConfig:T,installations:x}){const R=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function bl({p256dh:T,auth:x,endpoint:R,vapidKey:V}){const K={web:{endpoint:R,auth:x,p256dh:T}};return V!==nc&&(K.web.applicationPubKey=V),K}const wu=6048e5;function rc(T){return Da.apply(this,arguments)}function Da(){return(Da=(0,F.Z)(function*(T){const x=yield Ni(T.swRegistration,T.vapidKey),R={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:x.endpoint,auth:Ur(x.getKey("auth")),p256dh:Ur(x.getKey("p256dh"))},V=yield hh(T.firebaseDependencies);if(V){if(sc(V.subscriptionOptions,R))return Date.now()>=V.createTime+wu?fh(T,{token:V.token,createTime:Date.now(),subscriptionOptions:R}):V.token;try{yield mo(T.firebaseDependencies,V.token)}catch(K){console.warn(K)}return Ea(T.firebaseDependencies,R)}return Ea(T.firebaseDependencies,R)})).apply(this,arguments)}function Te(T){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,F.Z)(function*(T){const x=yield hh(T.firebaseDependencies);x&&(yield mo(T.firebaseDependencies,x.token),yield Sr(T.firebaseDependencies));const R=yield T.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function fh(T,x){return wn.apply(this,arguments)}function wn(){return(wn=(0,F.Z)(function*(T,x){try{const R=yield Pi(T.firebaseDependencies,x),V=Object.assign(Object.assign({},x),{token:R,createTime:Date.now()});return yield Ns(T.firebaseDependencies,V),R}catch(R){throw yield Te(T),R}})).apply(this,arguments)}function Ea(T,x){return go.apply(this,arguments)}function go(){return(go=(0,F.Z)(function*(T,x){const V={token:yield wa(T,x),createTime:Date.now(),subscriptionOptions:x};return yield Ns(T,V),V.token})).apply(this,arguments)}function Ni(T,x){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,F.Z)(function*(T,x){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ls(x)})})).apply(this,arguments)}function sc(T,x){return x.vapidKey===T.vapidKey&&x.endpoint===T.endpoint&&x.auth===T.auth&&x.p256dh===T.p256dh}function oc(T){const x={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function ph(T,x){if(!x.notification)return;T.notification={};const R=x.notification.title;R&&(T.notification.title=R);const V=x.notification.body;V&&(T.notification.body=V);const K=x.notification.image;K&&(T.notification.image=K)}(x,T),function Ta(T,x){!x.data||(T.data=x.data)}(x,T),function Vo(T,x){var R,V,K,ae,Ce;if(!x.fcmOptions&&!(null===(R=x.notification)||void 0===R?void 0:R.click_action))return;T.fcmOptions={};const Be=null!==(K=null===(V=x.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==K?K:null===(ae=x.notification)||void 0===ae?void 0:ae.click_action;Be&&(T.fcmOptions.link=Be);const ht=null===(Ce=x.fcmOptions)||void 0===Ce?void 0:Ce.analytics_label;ht&&(T.fcmOptions.analyticsLabel=ht)}(x,T),x}function mi(T){return"object"==typeof T&&!!T&&Fo in T}function Hr(T,x){const R=[];for(let V=0;V<T.length;V++)R.push(T.charAt(V)),V<x.length&&R.push(x.charAt(V));return R.join("")}function ds(T){return ai.create("missing-app-config-values",{valueName:T})}Hr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jr{constructor(x,R,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function ac(T){if(!T||!T.options)throw ds("App Configuration Object");if(!T.name)throw ds("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:R}=T;for(const V of x)if(!R[V])throw ds(V);return{appName:T.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:K,installations:R,analyticsProvider:V}}_delete(){return Promise.resolve()}}function mh(T){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,F.Z)(function*(T){var x;try{T.swRegistration=yield navigator.serviceWorker.register(lh,{scope:Po}),T.swRegistration.update().catch(()=>{})}catch(R){throw ai.create("failed-service-worker-registration",{browserErrorMessage:null===(x=R)||void 0===x?void 0:x.message})}})).apply(this,arguments)}function ap(T,x){return wl.apply(this,arguments)}function wl(){return(wl=(0,F.Z)(function*(T,x){if(!x&&!T.swRegistration&&(yield mh(T)),x||!T.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw ai.create("invalid-sw-registration");T.swRegistration=x}})).apply(this,arguments)}function xa(T,x){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,F.Z)(function*(T,x){x?T.vapidKey=x:T.vapidKey||(T.vapidKey=nc)})).apply(this,arguments)}function Cl(){return(Cl=(0,F.Z)(function*(T,x){if(!navigator)throw ai.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ai.create("permission-blocked");return yield xa(T,null==x?void 0:x.vapidKey),yield ap(T,null==x?void 0:x.serviceWorkerRegistration),rc(T)})).apply(this,arguments)}function lc(T,x,R){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,F.Z)(function*(T,x,R){const V=Ia(x);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:R[Fo],message_name:R[op],message_time:R[ch],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ia(T){switch(T){case ho.NOTIFICATION_CLICKED:return"notification_open";case ho.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Dl(){return(Dl=(0,F.Z)(function*(T,x){const R=x.data;if(!R.isFirebaseMessaging)return;T.onMessageHandler&&R.messageType===ho.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(oc(R)):T.onMessageHandler.next(oc(R)));const V=R.data;mi(V)&&"1"===V[oi]&&(yield lc(T,R.messageType,V))})).apply(this,arguments)}const cc="@firebase/messaging",uc=T=>{const x=new jr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function lp(T,x){return Dl.apply(this,arguments)}(x,R)),x},gh=T=>{const x=T.getProvider("messaging").getImmediate();return{getToken:V=>function Sa(T,x){return Cl.apply(this,arguments)}(x,V)}};function li(){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,F.Z)(function*(){try{yield(0,ce.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ng(){(0,le._registerComponent)(new ve.wA("messaging",uc,"PUBLIC")),(0,le._registerComponent)(new ve.wA("messaging-internal",gh,"PRIVATE")),(0,le.registerVersion)(cc,"0.9.16"),(0,le.registerVersion)(cc,"0.9.16","esm2017")}();const _o="analytics",dc="firebase_id",vh="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vs="https://www.googletagmanager.com/gtag/js",Vn=new te.Yd("@firebase/analytics");function hp(T){return Promise.all(T.map(x=>x.catch(R=>R)))}function bh(T,x){const R=document.createElement("script");R.src=`${Vs}?l=${T}&id=${x}`,R.async=!0,document.head.appendChild(R)}function wh(T,x,R,V,K,ae){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,F.Z)(function*(T,x,R,V,K,ae){const Ce=V[K];try{if(Ce)yield x[Ce];else{const ht=(yield hp(R)).find(ft=>ft.measurementId===K);ht&&(yield x[ht.appId])}}catch(Be){Vn.error(Be)}T("config",K,ae)})).apply(this,arguments)}function Uo(T,x,R,V,K){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,F.Z)(function*(T,x,R,V,K){try{let ae=[];if(K&&K.send_to){let Ce=K.send_to;Array.isArray(Ce)||(Ce=[Ce]);const Be=yield hp(R);for(const ht of Ce){const ft=Be.find(pt=>pt.measurementId===ht),At=ft&&x[ft.appId];if(!At){ae=[];break}ae.push(At)}}0===ae.length&&(ae=Object.values(x)),yield Promise.all(ae),T("event",V,K||{})}catch(ae){Vn.error(ae)}})).apply(this,arguments)}function dn(){const T=window.document.getElementsByTagName("script");for(const x of Object.values(T))if(x.src&&x.src.includes(Vs))return x;return null}const Li=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Th=new class Tl{constructor(x={},R=1e3){this.throttleMetadata=x,this.intervalMillis=R}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,R){this.throttleMetadata[x]=R}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Ml(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function yo(T){return hs.apply(this,arguments)}function hs(){return(hs=(0,F.Z)(function*(T){var x;const{appId:R,apiKey:V}=T,K={method:"GET",headers:Ml(V)},ae=vh.replace("{app-id}",R),Ce=yield fetch(ae,K);if(200!==Ce.status&&304!==Ce.status){let Be="";try{const ht=yield Ce.json();(null===(x=ht.error)||void 0===x?void 0:x.message)&&(Be=ht.error.message)}catch(ht){}throw Li.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:Be})}return Ce.json()})).apply(this,arguments)}function Di(T){return et.apply(this,arguments)}function et(){return(et=(0,F.Z)(function*(T,x=Th,R){const{appId:V,apiKey:K,measurementId:ae}=T.options;if(!V)throw Li.create("no-app-id");if(!K){if(ae)return{measurementId:ae,appId:V};throw Li.create("no-api-key")}const Ce=x.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new mc;return setTimeout((0,F.Z)(function*(){Be.abort()}),void 0!==R?R:6e4),Mh({appId:V,apiKey:K,measurementId:ae},Ce,Be,x)})).apply(this,arguments)}function Mh(T,x,R){return xl.apply(this,arguments)}function xl(){return(xl=(0,F.Z)(function*(T,{throttleEndTimeMillis:x,backoffCount:R},V,K=Th){var ae,Ce;const{appId:Be,measurementId:ht}=T;try{yield Bs(V,x)}catch(ft){if(ht)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ht} provided in the "measurementId" field in the local Firebase config. [${null===(ae=ft)||void 0===ae?void 0:ae.message}]`),{appId:Be,measurementId:ht};throw ft}try{const ft=yield yo(T);return K.deleteThrottleMetadata(Be),ft}catch(ft){const At=ft;if(!vo(At)){if(K.deleteThrottleMetadata(Be),ht)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ht} provided in the "measurementId" field in the local Firebase config. [${null==At?void 0:At.message}]`),{appId:Be,measurementId:ht};throw ft}const pt=503===Number(null===(Ce=null==At?void 0:At.customData)||void 0===Ce?void 0:Ce.httpStatus)?(0,ce.$s)(R,K.intervalMillis,30):(0,ce.$s)(R,K.intervalMillis),Hn={throttleEndTimeMillis:Date.now()+pt,backoffCount:R+1};return K.setThrottleMetadata(Be,Hn),Vn.debug(`Calling attemptFetch again in ${pt} millis`),Mh(T,Hn,V,K)}})).apply(this,arguments)}function Bs(T,x){return new Promise((R,V)=>{const K=Math.max(x-Date.now(),0),ae=setTimeout(R,K);T.addEventListener(()=>{clearTimeout(ae),V(Li.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function vo(T){if(!(T instanceof ce.ZR&&T.customData))return!1;const x=Number(T.customData.httpStatus);return 429===x||500===x||503===x||504===x}class mc{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Ra,Mn;function ci(){return(ci=(0,F.Z)(function*(T,x,R,V,K){if(K&&K.global)T("event",R,V);else{const ae=yield x;T("event",R,Object.assign(Object.assign({},V),{send_to:ae}))}})).apply(this,arguments)}function Ar(T){Mn=T}function Sh(T){Ra=T}function nr(){return Us.apply(this,arguments)}function Us(){return(Us=(0,F.Z)(function*(){var T;if(!(0,ce.hl)())return Vn.warn(Li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(x){return Vn.warn(Li.create("indexeddb-unavailable",{errorInfo:null===(T=x)||void 0===T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function ps(){return(ps=(0,F.Z)(function*(T,x,R,V,K,ae,Ce){var Be;const ht=Di(T);ht.then(Ei=>{R[Ei.measurementId]=Ei.appId,T.options.measurementId&&Ei.measurementId!==T.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Ei.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ei=>Vn.error(Ei)),x.push(ht);const ft=nr().then(Ei=>{if(Ei)return V.getId()}),[At,pt]=yield Promise.all([ht,ft]);dn()||bh(ae,At.measurementId),Mn&&(K("consent","default",Mn),Ar(void 0)),K("js",new Date);const Hn=null!==(Be=null==Ce?void 0:Ce.config)&&void 0!==Be?Be:{};return Hn.origin="firebase",Hn.update=!0,null!=pt&&(Hn[dc]=pt),K("config",At.measurementId,Hn),Ra&&(K("set",Ra),Sh(void 0)),At.measurementId})).apply(this,arguments)}class gc{constructor(x){this.app=x}_delete(){return delete zt[this.app.options.appId],Promise.resolve()}}let zt={},wo=[];const ms={};let Co,Hs,Oa="dataLayer",Sl=!1;function Ih(T,x,R){!function _c(){const T=[];if((0,ce.ru)()&&T.push("This is a browser extension environment."),(0,ce.zI)()||T.push("Cookies are not available."),T.length>0){const x=T.map((V,K)=>`(${K+1}) ${V}`).join(" "),R=Li.create("invalid-analytics-context",{errorInfo:x});Vn.warn(R.message)}}();const V=T.options.appId;if(!V)throw Li.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Li.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zt[V])throw Li.create("already-exists",{id:V});if(!Sl){!function fc(T){let x=[];Array.isArray(window[T])?x=window[T]:window[T]=x}(Oa);const{wrappedGtag:ae,gtagCore:Ce}=function pc(T,x,R,V,K){let ae=function(...Ce){window[V].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ae=window[K]),window[K]=function ka(T,x,R,V){function ae(){return(ae=(0,F.Z)(function*(Ce,Be,ht){try{"event"===Ce?yield Uo(T,x,R,Be,ht):"config"===Ce?yield wh(T,x,R,V,Be,ht):"consent"===Ce?T("consent","update",ht):T("set",Be)}catch(ft){Vn.error(ft)}})).apply(this,arguments)}return function K(Ce,Be,ht){return ae.apply(this,arguments)}}(ae,T,x,R),{gtagCore:ae,wrappedGtag:window[K]}}(zt,wo,ms,Oa,"gtag");Hs=ae,Co=Ce,Sl=!0}return zt[V]=function Su(T,x,R,V,K,ae,Ce){return ps.apply(this,arguments)}(T,wo,ms,x,Co,Oa,R),new gc(T)}function fp(){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,F.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(T){return!1}})).apply(this,arguments)}const Ah="@firebase/analytics";!function xn(){(0,le._registerComponent)(new ve.wA(_o,(x,{options:R})=>Ih(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,le._registerComponent)(new ve.wA("analytics-internal",function T(x){try{const R=x.getProvider(_o).getImmediate();return{logEvent:(V,K,ae)=>function Na(T,x,R,V){T=(0,ce.m9)(T),function fs(T,x,R,V,K){return ci.apply(this,arguments)}(Hs,zt[T.app.options.appId],x,R,V).catch(K=>Vn.error(K))}(R,V,K,ae)}}catch(R){throw Li.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,le.registerVersion)(Ah,"0.8.0"),(0,le.registerVersion)(Ah,"0.8.0","esm2017")}();var Iu=P(4408),La=P(7565);const ku=new class _s extends La.v{}(class Au extends Iu.o{constructor(x,R){super(x,R),this.scheduler=x,this.work=R}schedule(x,R=0){return R>0?super.schedule(x,R):(this.delay=R,this.state=x,this.scheduler.flush(this),this)}execute(x,R){return R>0||this.closed?super.execute(x,R):this._execute(x,R)}requestAsyncId(x,R,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(x,R,V):x.flush(this)}});var Ou=P(4986),Bg=P(8505),Do=P(5363),dr=P(9468);const kh=new s.GfV("7.4.1"),Zo="__angularfire_symbol__analyticsIsSupportedValue",Pu="__angularfire_symbol__analyticsIsSupported",Fu="__angularfire_symbol__remoteConfigIsSupportedValue",Rh="__angularfire_symbol__remoteConfigIsSupported",Oh="__angularfire_symbol__messagingIsSupportedValue",Nu="__angularfire_symbol__messagingIsSupported";function zo(T,x,R){if(x){if(1===x.length)return x[0];const ae=x.filter(Ce=>Ce.app===R);if(1===ae.length)return ae[0]}return R.container.getProvider(T).getImmediate({optional:!0})}globalThis[Pu]||(globalThis[Pu]=fp().then(T=>globalThis[Zo]=T).catch(()=>globalThis[Zo]=!1)),globalThis[Nu]||(globalThis[Nu]=li().then(T=>globalThis[Oh]=T).catch(()=>globalThis[Oh]=!1)),globalThis[Rh]||(globalThis[Rh]=ah().then(T=>globalThis[Fu]=T).catch(()=>globalThis[Fu]=!1));const Va=(T,x)=>{const R=x?[x]:(0,J.C6)(),V=[];return R.forEach(K=>{K.container.getProvider(T).instances.forEach(Ce=>{V.includes(Ce)||V.push(Ce)})}),V};function hr(){}class js{constructor(x,R=ku){this.zone=x,this.delegate=R}now(){return this.delegate.now()}schedule(x,R,V){const K=this.zone;return this.delegate.schedule(function(Ce){K.runGuarded(()=>{x.apply(this,[Ce])})},R,V)}}class bc{constructor(x){this.zone=x,this.task=null}call(x,R){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hr,{},hr,hr)),R.pipe((0,Bg.b)({next:V,complete:V,error:V})).subscribe(x).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Al=(()=>{class T{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new js(Zone.current)),this.insideAngular=R.run(()=>new js(Zone.current,Ou.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(R){return new(R||T)(s.LFG(s.R0b))},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function ys(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function wc(T){return T.pipe((0,Do.Q)(ys().outsideAngular))}function Ba(T){return ys(),function kl(T){return function(R){return(R=R.lift(new bc(T.ngZone))).pipe((0,dr.R)(T.outsideAngular),(0,Do.Q)(T.insideAngular))}}(ys())(T)}},2090:(Xe,ye,P)=>{P.d(ye,{$s:()=>Kt,BH:()=>Ze,G6:()=>We,L:()=>ue,LL:()=>oe,Mn:()=>Se,Sg:()=>Ee,UG:()=>pe,US:()=>ve,ZB:()=>W,ZR:()=>ke,b$:()=>Ge,d:()=>Le,eu:()=>z,hl:()=>we,jU:()=>ge,m9:()=>rs,ne:()=>ut,pd:()=>Hi,r3:()=>Cr,ru:()=>Re,tV:()=>fe,uI:()=>qe,vZ:()=>Xi,w1:()=>Je,xO:()=>Rs,xb:()=>pi,z$:()=>Oe,zI:()=>ne,zd:()=>Er});const le=function(j){const $=[];let U=0;for(let q=0;q<j.length;q++){let Y=j.charCodeAt(q);Y<128?$[U++]=Y:Y<2048?($[U++]=Y>>6|192,$[U++]=63&Y|128):55296==(64512&Y)&&q+1<j.length&&56320==(64512&j.charCodeAt(q+1))?(Y=65536+((1023&Y)<<10)+(1023&j.charCodeAt(++q)),$[U++]=Y>>18|240,$[U++]=Y>>12&63|128,$[U++]=Y>>6&63|128,$[U++]=63&Y|128):($[U++]=Y>>12|224,$[U++]=Y>>6&63|128,$[U++]=63&Y|128)}return $},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,$){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let Y=0;Y<j.length;Y+=3){const Ae=j[Y],ze=Y+1<j.length,wt=ze?j[Y+1]:0,nn=Y+2<j.length,fn=nn?j[Y+2]:0;let ss=(15&wt)<<2|fn>>6,Os=63&fn;nn||(Os=64,ze||(ss=64)),q.push(U[Ae>>2],U[(3&Ae)<<4|wt>>4],U[ss],U[Os])}return q.join("")},encodeString(j,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(j):this.encodeByteArray(le(j),$)},decodeString(j,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(j):function(j){const $=[];let U=0,q=0;for(;U<j.length;){const Y=j[U++];if(Y<128)$[q++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ae=j[U++];$[q++]=String.fromCharCode((31&Y)<<6|63&Ae)}else if(Y>239&&Y<365){const nn=((7&Y)<<18|(63&j[U++])<<12|(63&j[U++])<<6|63&j[U++])-65536;$[q++]=String.fromCharCode(55296+(nn>>10)),$[q++]=String.fromCharCode(56320+(1023&nn))}else{const Ae=j[U++],ze=j[U++];$[q++]=String.fromCharCode((15&Y)<<12|(63&Ae)<<6|63&ze)}}return $.join("")}(this.decodeStringToByteArray(j,$))},decodeStringToByteArray(j,$){this.init_();const U=$?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let Y=0;Y<j.length;){const Ae=U[j.charAt(Y++)],wt=Y<j.length?U[j.charAt(Y)]:0;++Y;const fn=Y<j.length?U[j.charAt(Y)]:64;++Y;const Ut=Y<j.length?U[j.charAt(Y)]:64;if(++Y,null==Ae||null==wt||null==fn||null==Ut)throw Error();q.push(Ae<<2|wt>>4),64!==fn&&(q.push(wt<<4&240|fn>>2),64!==Ut&&q.push(fn<<6&192|Ut))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ue=function(j){return function(j){const $=le(j);return ve.encodeByteArray($,!0)}(j).replace(/\./g,"")},fe=function(j){try{return ve.decodeString(j,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function W(j,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return $}for(const U in $)!$.hasOwnProperty(U)||!re(U)||(j[U]=W(j[U],$[U]));return j}function re(j){return"__proto__"!==j}class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,U)=>{this.resolve=$,this.reject=U})}wrapCallback($){return(U,q)=>{U?this.reject(U):this.resolve(q),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(U):$(U,q))}}}function Ee(j,$){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=$||"demo-project",Y=j.iat||0,Ae=j.sub||j.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:Y,exp:Y+3600,auth_time:Y,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(ze)),""].join(".")}function Oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function ge(){return"object"==typeof self&&self.self===self}function Re(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){return Oe().indexOf("Electron/")>=0}function Je(){const j=Oe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Se(){return Oe().indexOf("MSAppHost/")>=0}function We(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function we(){return"object"==typeof indexedDB}function z(){return new Promise((j,$)=>{try{let U=!0;const q="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(q);Y.onsuccess=()=>{Y.result.close(),U||self.indexedDB.deleteDatabase(q),j(!0)},Y.onupgradeneeded=()=>{U=!1},Y.onerror=()=>{var Ae;$((null===(Ae=Y.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(U){$(U)}})}function ne(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ke extends Error{constructor($,U,q){super(U),this.code=$,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor($,U,q){this.service=$,this.serviceName=U,this.errors=q}create($,...U){const q=U[0]||{},Y=`${this.service}/${$}`,Ae=this.errors[$],ze=Ae?function vt(j,$){return j.replace(Bt,(U,q)=>{const Y=$[q];return null!=Y?String(Y):`<${q}?>`})}(Ae,q):"Error";return new ke(Y,`${this.serviceName}: ${ze} (${Y}).`,q)}}const Bt=/\{\$([^}]+)}/g;function Cr(j,$){return Object.prototype.hasOwnProperty.call(j,$)}function pi(j){for(const $ in j)if(Object.prototype.hasOwnProperty.call(j,$))return!1;return!0}function Xi(j,$){if(j===$)return!0;const U=Object.keys(j),q=Object.keys($);for(const Y of U){if(!q.includes(Y))return!1;const Ae=j[Y],ze=$[Y];if(en(Ae)&&en(ze)){if(!Xi(Ae,ze))return!1}else if(Ae!==ze)return!1}for(const Y of q)if(!U.includes(Y))return!1;return!0}function en(j){return null!==j&&"object"==typeof j}function Rs(j){const $=[];for(const[U,q]of Object.entries(j))Array.isArray(q)?q.forEach(Y=>{$.push(encodeURIComponent(U)+"="+encodeURIComponent(Y))}):$.push(encodeURIComponent(U)+"="+encodeURIComponent(q));return $.length?"&"+$.join("&"):""}function Er(j){const $={};return j.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[Y,Ae]=q.split("=");$[decodeURIComponent(Y)]=decodeURIComponent(Ae)}}),$}function Hi(j){const $=j.indexOf("?");if(!$)return"";const U=j.indexOf("#",$);return j.substring($,U>0?U:void 0)}function ut(j,$){const U=new Gn(j,$);return U.subscribe.bind(U)}class Gn{constructor($,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{$(this)}).catch(q=>{this.error(q)})}next($){this.forEachObserver(U=>{U.next($)})}error($){this.forEachObserver(U=>{U.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,U,q){let Y;if(void 0===$&&void 0===U&&void 0===q)throw new Error("Missing Observer.");Y=function cn(j,$){if("object"!=typeof j||null===j)return!1;for(const U of $)if(U in j&&"function"==typeof j[U])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:U,complete:q},void 0===Y.next&&(Y.next=ns),void 0===Y.error&&(Y.error=ns),void 0===Y.complete&&(Y.complete=ns);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(ze){}}),this.observers.push(Y),Ae}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,$)}sendOne($,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{U(this.observers[$])}catch(q){"undefined"!=typeof console&&console.error&&console.error(q)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ns(){}function Kt(j,$=1e3,U=2){const q=$*Math.pow(U,j),Y=Math.round(.5*q*(Math.random()-.5)*2);return Math.min(144e5,q+Y)}function rs(j){return j&&j._delegate?j._delegate:j}},8442:(Xe,ye,P)=>{var s=P(5e3);let J=null;function F(){return J}const te=new s.OlP("DocumentToken");let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function fe(){return(0,s.LFG)(W)}()},providedIn:"platform"}),n})();const G=new s.OlP("Location Initialized");let W=(()=>{class n extends ue{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){re()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){re()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ze(){return new W((0,s.LFG)(te))}()},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function Ee(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Oe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ge(n){const t=(0,s.LFG)(te).location;return new Ge((0,s.LFG)(ue),t&&t.origin||"")}()},providedIn:"root"}),n})();const Re=new s.OlP("appBaseHref");let Ge=(()=>{class n extends pe{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ee(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+qe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+qe(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+qe(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue),s.LFG(Re,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n extends pe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ee(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+qe(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+qe(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue),s.LFG(Re,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Je=(()=>{class n{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Oe(We(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+qe(i))}normalize(e){return n.stripTrailingSlash(function it(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,We(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=qe,n.joinWithSlash=Ee,n.stripTrailingSlash=Oe,n.\u0275fac=function(e){return new(e||n)(s.LFG(pe),s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Se(){return new Je((0,s.LFG)(pe),(0,s.LFG)(ue))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Zero=0]="Zero",ne[ne.One=1]="One",ne[ne.Two=2]="Two",ne[ne.Few=3]="Few",ne[ne.Many=4]="Many",ne[ne.Other=5]="Other",ne))();const Er=s.kL8;class rn{}let Tn=(()=>{class n extends rn{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Er(i||this.locale)(e)){case ne.Zero:return"zero";case ne.One:return"one";case ne.Two:return"two";case ne.Few:return"few";case ne.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.soG))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),wi=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Oo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let In=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Oo(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),ya(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ya(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ya(n,t){n.context.$implicit=t.item}let Qt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new bn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){th("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){th("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class bn{constructor(){this.$implicit=null,this.ngIf=null}}function th(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class fl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ji=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ur=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new fl(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(ji,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ec=(()=>{class n{constructor(e,i,r){r._addDefault(new fl(e,i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(ji,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class ip{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Rg{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const pl=new Rg,rp=new ip;let tc=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return pl;if((0,s.F4k)(e))return rp;throw function Br(n,t){return new s.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1}),n})(),oi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:rn,useClass:Tn}]}),n})();const as="browser";function yl(n){return"server"===n}let vl=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Fg((0,s.LFG)(te),window)}),n})();class Fg{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function cs(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=An(this.window.history)||An(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function An(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class po extends class hh extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ce(n){J||(J=n)}(new po)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Oi(){return Ns=Ns||document.querySelector("base"),Ns?Ns.getAttribute("href"):null}();return null==e?null:function us(n){Sr=Sr||document.createElement("a"),Sr.setAttribute("href",n);const t=Sr.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ns=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function dl(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Sr,Ns=null;const er=new s.OlP("TRANSITION_ID"),ai=[{provide:s.ip1,useFactory:function tr(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=F(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[er,te,s.zs3],multi:!0}];class wa{static init(){(0,s.VLi)(new wa)}addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(_){u=u||_,o--,0==o&&i(u)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let bu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Pi=new s.OlP("EventManagerPlugins");let No=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Pi),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class mo{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=F().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let yt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Lo=(()=>{class n extends yt{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ca),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ca))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Ca(n){F().remove(n)}const Fi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bl=/%COMP%/g;function wn(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?wn(n,r,e):(r=r.replace(bl,n),e.push(r))}return e}function Ea(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ni=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ls(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ph(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Ta(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=wn(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(No),s.LFG(Lo),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ls{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Fi[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Fi[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Fi[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ea(i)):this.eventManager.addEventListener(t,e,Ea(i))}}class ph extends Ls{constructor(t,e,i,r){super(t),this.component=i;const o=wn(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Ht(n){return"_ngcontent-%COMP%".replace(bl,n)}(r+"-"+i.id),this.hostAttr=function fh(n){return"_nghost-%COMP%".replace(bl,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Ta extends Ls{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=wn(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Vo=(()=>{class n extends mo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const mi=["alt","control","meta","shift"],ac={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ds={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let mh=(()=>{class n extends mo{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="";if(mi.forEach(_=>{const w=i.indexOf(_);w>-1&&(i.splice(w,1),u+=_+".")}),u+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function Ma(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&ds.hasOwnProperty(t)&&(t=ds[t]))}return ac[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),mi.forEach(o=>{o!=r&&jr[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Sa=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:as},{provide:s.g9A,useValue:function ap(){po.makeCurrent(),wa.init()},multi:!0},{provide:te,useFactory:function xa(){return(0,s.RDi)(document),document},deps:[]}]),Cl=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function wl(){return new s.qLn},deps:[]},{provide:Pi,useClass:Vo,multi:!0,deps:[te,s.R0b,s.Lbi]},{provide:Pi,useClass:mh,multi:!0,deps:[te]},{provide:Ni,useClass:Ni,deps:[No,Lo,s.AFp]},{provide:s.FYo,useExisting:Ni},{provide:yt,useExisting:Lo},{provide:Lo,useClass:Lo,deps:[te]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:No,useClass:No,deps:[Pi,s.R0b]},{provide:class Nn{},useClass:bu,deps:[]}];let lc=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:er,useExisting:s.AFp},ai]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Cl,imports:[oi,s.hGG]}),n})();"undefined"!=typeof window&&window;let Uo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(ka),i},providedIn:"root"}),n})(),ka=(()=>{class n extends Uo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.yhl)(i),(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Ch(n){return new ka(n.get(te))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var dn=P(8996),kn=P(8306);const{isArray:Li}=Array,{getPrototypeOf:Dh,prototype:Eh,keys:Tl}=Object;function Th(n){if(1===n.length){const t=n[0];if(Li(t))return{args:t,keys:null};if(function Ml(n){return n&&"object"==typeof n&&Dh(n)===Eh}(t)){const e=Tl(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var yo=P(8421),hs=P(3269),Di=P(5403),et=P(4004);const{isArray:Mh}=Array;function Bs(n){return(0,et.U)(t=>function xl(n,t){return Mh(t)?n(...t):n(t)}(n,t))}function vo(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function mc(...n){const t=(0,hs.jO)(n),{args:e,keys:i}=Th(n),r=new kn.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let _=u,w=u;for(let D=0;D<u;D++){let S=!1;(0,yo.Xf)(e[D]).subscribe(new Di.Q(o,O=>{S||(S=!0,w--),h[D]=O},()=>_--,void 0,()=>{(!_||!S)&&(w||o.next(i?vo(i,h):h),o.complete())}))}});return t?r.pipe(Bs(t)):r}let Ra=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),fs=(()=>{class n extends Ra{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const ci=new s.OlP("NgValueAccessor"),xh={provide:ci,useExisting:(0,s.Gpc)(()=>Ir),multi:!0},xu=new s.OlP("CompositionEventMode");let Ir=(()=>{class n extends Ra{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jo(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(xu,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([xh]),s.qOj]}),n})();function bo(n){return null==n||0===n.length}function qo(n){return null!=n&&"number"==typeof n.length}const Mn=new s.OlP("NgValidators"),Ar=new s.OlP("NgAsyncValidators"),Sh=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class nr{static min(t){return function Us(n){return t=>{if(bo(t.value)||bo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Su(n){return t=>{if(bo(t.value)||bo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function ps(n){return bo(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function gc(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function zt(n){return bo(n.value)||Sh.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function wo(n){return t=>bo(t.value)||!qo(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function ms(n){return t=>qo(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Oa(n){if(!n)return gs;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(bo(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return yc(t)}static composeAsync(t){return fp(t)}}function gs(n){return null}function Co(n){return null!=n}function Hs(n){const t=(0,s.QGY)(n)?(0,dn.D)(n):n;return(0,s.CqO)(t),t}function Sl(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Bn(n,t){return t.map(e=>e(n))}function Ih(n){return n.map(t=>function _c(n){return!n.validate}(t)?t:e=>t.validate(e))}function yc(n){if(!n)return null;const t=n.filter(Co);return 0==t.length?null:function(e){return Sl(Bn(e,t))}}function Il(n){return null!=n?yc(Ih(n)):null}function fp(n){if(!n)return null;const t=n.filter(Co);return 0==t.length?null:function(e){return mc(Bn(e,t).map(Hs)).pipe((0,et.U)(Sl))}}function Pa(n){return null!=n?fp(Ih(n)):null}function pp(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Go(n){return n._rawValidators}function Lg(n){return n._rawAsyncValidators}function Un(n){return n?Array.isArray(n)?n:[n]:[]}function Fa(n,t){return Array.isArray(n)?n.includes(t):n===t}function Na(n,t){const e=Un(t);return Un(n).forEach(r=>{Fa(e,r)||e.push(r)}),e}function Vg(n,t){return Un(t).filter(e=>!Fa(n,e))}class Ah{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Il(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Pa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class mn extends Ah{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xn extends Ah{get formDirective(){return null}get path(){return null}}class Iu{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let _s=(()=>{class n extends Iu{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mn,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[s.qOj]}),n})(),ku=(()=>{class n extends Iu{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xn,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[s.qOj]}),n})();function zo(n,t){return[...t.path,n]}function Va(n,t){Al(n,t),t.valueAccessor.writeValue(n.value),function Lu(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&wc(n,t)})}(n,t),function Cc(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function qr(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&wc(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function bc(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function hr(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),ys(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function js(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Al(n,t){const e=Go(n);null!==t.validator?n.setValidators(pp(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Lg(n);null!==t.asyncValidator?n.setAsyncValidators(pp(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();js(t._rawValidators,r),js(t._rawAsyncValidators,r)}function ys(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Go(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=Lg(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return js(t._rawValidators,i),js(t._rawAsyncValidators,i),e}function wc(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ba(n,t){Al(n,t)}function T(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function R(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function V(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Ir?e=o:function x(n){return Object.getPrototypeOf(n.constructor)===fs}(o)?i=o:r=o}),r||i||e||null}function K(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Be="VALID",ht="INVALID",ft="PENDING",At="DISABLED";function Hn(n){return(Eo(n)?n.validators:n)||null}function Ei(n){return Array.isArray(n)?Il(n):n||null}function Gr(n,t){return(Eo(t)?t.asyncValidators:n)||null}function Ua(n){return Array.isArray(n)?Pa(n):n||null}function Eo(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const qs=n=>n instanceof Bu,Zr=n=>n instanceof Fh;function Yo(n){return qs(n)?n.value:n.getRawValue()}function vs(n,t){const e=Zr(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[t])throw new s.vHH(1001,"")}function Dc(n,t){Zr(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new s.vHH(1002,"")})}class _p{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ei(this._rawValidators),this._composedAsyncValidatorFn=Ua(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Be}get invalid(){return this.status===ht}get pending(){return this.status==ft}get disabled(){return this.status===At}get enabled(){return this.status!==At}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ei(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ua(t)}addValidators(t){this.setValidators(Na(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Na(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Vg(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Vg(t,this._rawAsyncValidators))}hasValidator(t){return Fa(this._rawValidators,t)}hasAsyncValidator(t){return Fa(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ft,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=At,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Be,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Be||this.status===ft)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?At:Be}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ft,this._hasOwnPendingAsyncValidator=!0;const e=Hs(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function pt(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=Zr(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof yp)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?At:this.errors?ht:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ft)?ft:this._anyControlsHaveStatus(ht)?ht:Be}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Eo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Bu extends _p{constructor(t=null,e,i){super(Hn(e),Gr(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){K(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){K(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Fh extends _p{constructor(t,e,i){super(Hn(e),Gr(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Dc(this,t),Object.keys(t).forEach(i=>{vs(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=Yo(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class yp extends _p{constructor(t,e,i){super(Hn(e),Gr(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Dc(this,t),t.forEach((i,r)=>{vs(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>Yo(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Nh={provide:xn,useExisting:(0,s.Gpc)(()=>bs)},Rl=(()=>Promise.resolve(null))();let bs=(()=>{class n extends xn{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new s.vpe,this.form=new Fh({},Il(e),Pa(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Rl.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Va(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Rl.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),K(this._directives,e)})}addFormGroup(e){Rl.then(()=>{const i=this._findContainer(e.path),r=new Fh({});Ba(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Rl.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Rl.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,R(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Mn,10),s.Y36(Ar,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Nh]),s.qOj]}),n})();const bp={provide:mn,useExisting:(0,s.Gpc)(()=>Wo)},To=(()=>Promise.resolve(null))();let Wo=(()=>{class n extends mn{constructor(e,i,r,o){super(),this.control=new Bu,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=V(0,o)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),T(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?zo(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Va(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){To.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;To.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xn,9),s.Y36(Mn,10),s.Y36(Ar,10),s.Y36(ci,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([bp]),s.qOj,s.TTD]}),n})(),wp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Qo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Dp=new s.OlP("NgModelWithFormControlWarning"),Xv={provide:xn,useExisting:(0,s.Gpc)(()=>Xo)};let Xo=(()=>{class n extends xn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ys(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Va(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){hr(e.control||null,e,!1),K(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,R(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(hr(i||null,e),qs(r)&&(Va(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Ba(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function kl(n,t){return ys(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Al(this.form,this),this._oldForm&&ys(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Mn,10),s.Y36(Ar,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Xv]),s.qOj,s.TTD]}),n})();const Gg={provide:mn,useExisting:(0,s.Gpc)(()=>ws)};let ws=(()=>{class n extends mn{constructor(e,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=V(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),T(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return zo(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(xn,13),s.Y36(Mn,10),s.Y36(Ar,10),s.Y36(ci,10),s.Y36(Dp,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([Gg]),s.qOj,s.TTD]}),n})(),rb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Qo]]}),n})(),Ol=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[rb]}),n})(),fr=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Dp,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[rb]}),n})();var hn=P(2011);function nt(...n){const t=(0,hs.yG)(n);return(0,dn.D)(n,t)}var xc=P(4986),qi=P(4482);function Yu(n,t=xc.z){return(0,qi.e)((e,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const w=o;o=null,i.next(w)}};function _(){const w=u+n,D=t.now();if(D<w)return r=this.schedule(void 0,w-D),void i.add(r);h()}e.subscribe(new Di.Q(i,w=>{o=w,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}function Xn(n,t){return(0,qi.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe(new Di.Q(i,_=>{null==r||r.unsubscribe();let w=0;const D=o++;(0,yo.Xf)(n(_,D)).subscribe(r=new Di.Q(i,S=>i.next(t?t(_,S,D,w++):S),()=>{r=null,h()}))},()=>{u=!0,h()}))})}var zn=P(5813),kp=P(3942),me=P(5861),kr=P(9681),Tt=P(2090),Sc=P(4859);const Pl="firebasestorage.googleapis.com",Jg="storageBucket";class $n extends Tt.ZR{constructor(t,e){super(Op(t),`Firebase Storage: ${e} (${Op(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$n.prototype)}_codeEquals(t){return Op(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Op(n){return"storage/"+n}function Fl(){return new $n("unknown","An unknown error occurred, please check the error payload for server response.")}function n_(){return new $n("canceled","User canceled the upload/download.")}function Ku(){return new $n("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ic(n){return new $n("invalid-argument",n)}function ea(){return new $n("app-deleted","The Firebase app was deleted.")}function Gs(n){return new $n("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ir(n,t){return new $n("invalid-format","String does not match format '"+n+"': "+t)}function Ha(n){throw new $n("internal-error","Internal error: "+n)}class Vi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Vi.makeFromUrl(t,e)}catch(r){return new Vi(t,"")}if(""===i.path)return i;throw function db(n){return new $n("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function w(He){He.path_=decodeURIComponent(He.path)}const S=e.replace(/[.]/g,"\\."),je=[{regex:h,indices:{bucket:1,path:3},postModify:function o(He){"/"===He.path.charAt(He.path.length-1)&&(He.path_=He.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${e===Pl?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let He=0;He<je.length;He++){const Dt=je[He],Rt=Dt.regex.exec(t);if(Rt){let Qi=Rt[Dt.indices.path];Qi||(Qi=""),i=new Vi(Rt[Dt.indices.bucket],Qi),Dt.postModify(i);break}}if(null==i)throw function ub(n){return new $n("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class mC{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function pr(n){return"string"==typeof n||n instanceof String}function qh(n){return Gh()&&n instanceof Blob}function Gh(){return"undefined"!=typeof Blob}function Xu(n,t,e,i){if(i<t)throw Ic(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Ic(`Invalid value for '${n}'. Expected ${e} or less.`)}function Zs(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function Zh(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var gi=(()=>{return(n=gi||(gi={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",gi;var n})();class ja{constructor(t,e,i,r,o,u,h,_,w,D,S){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=_,this.timeout_=w,this.progressCallback_=D,this.connectionFactory_=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,L)=>{this.resolve_=O,this.reject_=L,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const _=this.callback_(h,h.getResponse());!function Fp(n){return void 0!==n}(_)?o():o(_)}catch(_){u(_)}else if(null!==h){const _=Fl();_.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,_):_)}else u(r.canceled?this.appDelete_?ea():n_():function t_(){return new $n("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new qa(!1,null,!0)):this.backoffId_=function Cs(n,t,e){let i=1,r=null,o=null,u=!1,h=0;function _(){return 2===h}let w=!1;function D(...ie){w||(w=!0,t.apply(null,ie))}function S(ie){r=setTimeout(()=>{r=null,n(L,_())},ie)}function O(){o&&clearTimeout(o)}function L(ie,...Ue){if(w)return void O();if(ie)return O(),void D.call(null,ie,...Ue);if(_()||u)return O(),void D.call(null,ie,...Ue);let je;i<64&&(i*=2),1===h?(h=2,je=0):je=1e3*(i+Math.random()),S(je)}let H=!1;function Q(ie){H||(H=!0,O(),!w&&(null!==r?(ie||(h=2),clearTimeout(r),S(0)):ie||(h=1)))}return S(0),o=setTimeout(()=>{u=!0,Q(!0)},e),Q}((i,r)=>{if(r)return void i(!1,new qa(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===gi.NO_ERROR,_=o.getStatus();if(!h||this.isRetryStatusCode_(_)){const D=o.getErrorCode()===gi.ABORT;return void i(!1,new qa(!1,null,D))}const w=-1!==this.successCodes_.indexOf(_);i(!0,new qa(w,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Qu(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||o}}class qa{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Np(...n){const t=function hb(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(Gh())return new Blob(n);throw new $n("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ju{constructor(t,e){this.data=t,this.contentType=e||null}}function y(n,t){switch(n){case Rr.RAW:return new Ju(p(t));case Rr.BASE64:case Rr.BASE64URL:return new Ju(b(n,t));case Rr.DATA_URL:return new Ju(function A(n){const t=new M(n);return t.base64?b(Rr.BASE64,t.rest):function m(n){let t;try{t=decodeURIComponent(n)}catch(e){throw ir(Rr.DATA_URL,"Malformed data URL.")}return p(t)}(t.rest)}(t),function B(n){return new M(n).contentType}(t))}throw Fl()}function p(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function b(n,t){switch(n){case Rr.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw ir(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Rr.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw ir(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function pb(n){return atob(n)}(t)}catch(r){throw ir(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class M{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw ir(Rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function ee(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Me{constructor(t,e){let i=0,r="";qh(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(qh(this.data_)){const r=function fb(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Me(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Me(i,!0)}}static getBlob(...t){if(Gh()){const e=t.map(i=>i instanceof Me?i.data_:i);return new Me(Np.apply(null,e))}{const e=t.map(u=>pr(u)?y(Rr.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)r[o++]=u[h]}),new Me(r,!0)}}uploadData(){return this.data_}}function xe(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function o_(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function qt(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Ti(n,t){return t}class Yn{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Ti}}let na=null;function ia(){if(na)return na;const n=[];n.push(new Yn("bucket")),n.push(new Yn("generation")),n.push(new Yn("metageneration")),n.push(new Yn("name","fullPath",!0));const e=new Yn("name");e.xform=function t(o,u){return function zh(n){return!pr(n)||n.length<2?n:qt(n)}(u)},n.push(e);const r=new Yn("size");return r.xform=function i(o,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Yn("timeCreated")),n.push(new Yn("updated")),n.push(new Yn("md5Hash",null,!0)),n.push(new Yn("cacheControl",null,!0)),n.push(new Yn("contentDisposition",null,!0)),n.push(new Yn("contentEncoding",null,!0)),n.push(new Yn("contentLanguage",null,!0)),n.push(new Yn("contentType",null,!0)),n.push(new Yn("metadata","customMetadata",!0)),na=n,na}function td(n,t,e){const i=xe(t);return null===i?null:function $h(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const u=e[o];i[u.local]=u.xform(i,t[u.server])}return function ed(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new Vi(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function Ll(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const Vl="prefixes";class Ga{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ra(n){if(!n)throw Fl()}function Wh(n,t){return function e(i,r){const o=td(n,r,t);return ra(null!==o),o}}function nd(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function cb(){return new $n("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Wu(){return new $n("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function lb(n){return new $n("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function e_(n){return new $n("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Vp(n){const t=nd(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function ab(n){return new $n("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function gb(n,t,e){const r=Zs(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Ga(r,"GET",Wh(n,e),u);return h.errorHandler=Vp(t),h}function lx(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const h=Zs(t.bucketOnlyServerUrl(),n.host,n._protocol),w=n.maxOperationRetryTime,D=new Ga(h,"GET",function gC(n,t){return function e(i,r){const o=function mb(n,t,e){const i=xe(e);return null===i?null:function Yh(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[Vl])for(const r of e[Vl]){const o=r.replace(/\/$/,""),u=n._makeStorageReference(new Vi(t,o));i.prefixes.push(u)}if(e.items)for(const r of e.items){const o=n._makeStorageReference(new Vi(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return ra(null!==o),o}}(n,t.bucket),w);return D.urlParams=o,D.errorHandler=nd(t),D}function vC(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function ux(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class d_{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function h_(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){ra(!1)}return ra(!!e&&-1!==(t||["active"]).indexOf(e)),e}const CC={STATE_CHANGED:"state_changed"},Or={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function f_(n){switch(n){case"running":case"pausing":case"canceling":return Or.RUNNING;case"paused":return Or.PAUSED;case"success":return Or.SUCCESS;case"canceled":return Or.CANCELED;default:return Or.ERROR}}class p_{constructor(t,e,i){if(function s_(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Pr(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class yb extends class fx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gi.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gi.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gi.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Ha("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ha("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ha("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw Ha("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ha("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Gi(){return new yb}class wb{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=ia(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function dx(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),u=vC(t,i,r),h={name:u.fullPath},_=Zs(o,n.host,n._protocol),D={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},S=Ll(u,e),H=new Ga(_,"POST",function L(Q){let ie;h_(Q);try{ie=Q.getResponseHeader("X-Goog-Upload-URL")}catch(Ue){ra(!1)}return ra(pr(ie)),ie},n.maxUploadRetryTime);return H.urlParams=h,H.headers=D,H.body=S,H.errorHandler=nd(t),H}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Gi,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function hx(n,t,e,i){const _=new Ga(e,"POST",function o(w){const D=h_(w,["active","final"]);let S=null;try{S=w.getResponseHeader("X-Goog-Upload-Size-Received")}catch(L){ra(!1)}S||ra(!1);const O=Number(S);return ra(!isNaN(O)),new d_(O,i.size(),"final"===D)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=nd(t),_}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,Gi,e,i);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new d_(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let u;try{u=function Ft(n,t,e,i,r,o,u,h){const _=new d_(0,0);if(u?(_.current=u.current,_.total=u.total):(_.current=0,_.total=i.size()),i.size()!==_.total)throw function Pp(){return new $n("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const w=_.total-_.current;let D=w;r>0&&(D=Math.min(D,r));const S=_.current,H={"X-Goog-Upload-Command":D===w?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},Q=i.slice(S,S+D);if(null===Q)throw Ku();const je=new Ga(e,"POST",function ie(He,Dt){const Rt=h_(He,["active","final"]),on=_.current+D,Qi=i.size();let pa;return pa="final"===Rt?Wh(t,o)(He,Dt):null,new d_(on,Qi,"final"===Rt,pa)},t.maxUploadRetryTime);return je.headers=H,je.body=Q.uploadData(),je.progressCallback=h||null,je.errorHandler=nd(n),je}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const h=this._ref.storage._makeRequest(u,Gi,r,o);this._request=h,h.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=gb(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Gi,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function bC(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},_=function h(){let je="";for(let He=0;He<2;He++)je+=Math.random().toString().slice(2);return je}();u["Content-Type"]="multipart/related; boundary="+_;const w=vC(t,i,r),D=Ll(w,e),L=Me.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+D+"\r\n--"+_+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",i,"\r\n--"+_+"--");if(null===L)throw Ku();const H={name:w.fullPath},Q=Zs(o,n.host,n._protocol),Ue=n.maxUploadRetryTime,Ke=new Ga(Q,"POST",Wh(n,e),Ue);return Ke.urlParams=H,Ke.headers=u,Ke.body=L.uploadData(),Ke.errorHandler=nd(t),Ke}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Gi,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=n_(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=f_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new p_(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(f_(this._state)){case Or.SUCCESS:Pr(this._resolve.bind(null,this.snapshot))();break;case Or.CANCELED:case Or.ERROR:Pr(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(f_(this._state)){case Or.RUNNING:case Or.PAUSED:t.next&&Pr(t.next.bind(t,this.snapshot))();break;case Or.SUCCESS:t.complete&&Pr(t.complete.bind(t))();break;default:t.error&&Pr(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Kh{constructor(t,e){this._service=t,this._location=e instanceof Vi?e:Vi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Kh(t,e)}get root(){const t=new Vi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qt(this._location.path)}get storage(){return this._service}get parent(){const t=function tt(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Vi(this._location.bucket,t);return new Kh(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw Gs(t)}}function EC(n,t,e){return Eb.apply(this,arguments)}function Eb(){return(Eb=(0,me.Z)(function*(n,t,e){const r=yield TC(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield EC(n,t,r.nextPageToken))})).apply(this,arguments)}function TC(n,t){null!=t&&"number"==typeof t.maxResults&&Xu("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=lx(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Gi)}function X1(n){n._throwIfRoot("getDownloadURL");const t=function sa(n,t,e){const r=Zs(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Ga(r,"GET",function W1(n,t){return function e(i,r){const o=td(n,r,t);return ra(null!==o),function Lp(n,t,e,i){const r=xe(t);if(null===r||!pr(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const u=encodeURIComponent;return o.split(",").map(w=>{const S=n.fullPath;return Zs("/b/"+u(n.bucket)+"/o/"+u(S),e,i)+Zh({alt:"media",token:w})})[0]}(o,r,n.host,n._protocol)}}(n,e),u);return h.errorHandler=Vp(t),h}(n.storage,n._location,ia());return n.storage.makeRequestWithTokens(t,Gi).then(e=>{if(null===e)throw function r_(){return new $n("no-download-url","The given file does not have any download URLs.")}();return e})}function gx(n,t){const e=function lt(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Vi(n._location.bucket,e);return new Kh(n.storage,i)}function IC(n,t){if(n instanceof AC){const e=n;if(null==e._bucket)throw function i_(){return new $n("no-default-bucket","No default bucket found. Did you set the '"+Jg+"' property when initializing the app?")}();const i=new Kh(e,e._bucket);return null!=t?IC(i,t):i}return void 0!==t?gx(n,t):n}function Tb(n,t){if(t&&function xC(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof AC)return function SC(n,t){return new Kh(n,t)}(n,t);throw Ic("To use ref(service, url), the first argument must be a Storage instance.")}return IC(n,t)}function _x(n,t){const e=null==t?void 0:t[Jg];return null==e?null:Vi.makeFromBucketSpec(e,n)}class AC{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Pl,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Vi.makeFromBucketSpec(r,this._host):_x(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Vi.makeFromBucketSpec(this._url,t):_x(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Xu("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Xu("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,me.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,me.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Kh(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new mC(ea());{const o=function c_(n,t,e,i,r,o){const u=Zh(n.urlParams),h=n.url+u,_=Object.assign({},n.headers);return function Nl(n,t){t&&(n["X-Firebase-GMPID"]=t)}(_,t),function a_(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(_,e),function ta(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(_,o),function l_(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(_,i),new ja(h,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,me.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const yx="@firebase/storage";function y_(n,t){return Tb(n=(0,Tt.m9)(n),t)}function Dx(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new AC(e,i,r,t,kr.SDK_VERSION)}!function FC(){(0,kr._registerComponent)(new Sc.wA("storage",Dx,"PUBLIC").setMultipleInstances(!0)),(0,kr.registerVersion)(yx,"0.9.9",""),(0,kr.registerVersion)(yx,"0.9.9","esm2017")}();class v_{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class NC{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new v_(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new v_(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?u=>e(new v_(u,this,this._ref)):{next:e.next?u=>e.next(new v_(u,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class Qh{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Ds(t,this._service))}get items(){return this._delegate.items.map(t=>new Ds(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ds{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Cx(n,t){return gx(n,t)}(this._delegate,t);return new Ds(e,this.storage)}get root(){return new Ds(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Ds(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new NC(function eR(n,t,e){return function Cb(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new wb(n,new Me(t),e)}(n=(0,Tt.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Rr.RAW,i){this._throwIfRoot("putString");const r=y(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new NC(new wb(this._delegate,new Me(r.data,!0),o),this)}listAll(){return function kC(n){return function Q1(n){const t={prefixes:[],items:[]};return EC(n,t).then(()=>t)}(n=(0,Tt.m9)(n))}(this._delegate).then(t=>new Qh(t,this.storage))}list(t){return function wx(n,t){return TC(n=(0,Tt.m9)(n),t)}(this._delegate,t||void 0).then(e=>new Qh(e,this.storage))}getMetadata(){return function Ac(n){return function px(n){n._throwIfRoot("getMetadata");const t=gb(n.storage,n._location,ia());return n.storage.makeRequestWithTokens(t,Gi)}(n=(0,Tt.m9)(n))}(this._delegate)}updateMetadata(t){return function Mb(n,t){return function MC(n,t){n._throwIfRoot("updateMetadata");const e=function cx(n,t,e,i){const o=Zs(t.fullServerUrl(),n.host,n._protocol),h=Ll(e,i),w=n.maxOperationRetryTime,D=new Ga(o,"PATCH",Wh(n,i),w);return D.headers={"Content-Type":"application/json; charset=utf-8"},D.body=h,D.errorHandler=Vp(t),D}(n.storage,n._location,t,ia());return n.storage.makeRequestWithTokens(e,Gi)}(n=(0,Tt.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function xb(n){return X1(n=(0,Tt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function RC(n){return function mx(n){n._throwIfRoot("deleteObject");const t=function yC(n,t){const i=Zs(t.fullServerUrl(),n.host,n._protocol),h=new Ga(i,"DELETE",function u(_,w){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Vp(t),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Gi)}(n=(0,Tt.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw Gs(t)}}class b_{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(rd(t))throw Ic("ref() expected a child path but got a URL, use refFromURL instead.");return new Ds(y_(this._delegate,t),this)}refFromURL(t){if(!rd(t))throw Ic("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Vi.makeFromUrl(t,this._delegate.host)}catch(e){throw Ic("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ds(y_(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function OC(n,t,e,i={}){!function J1(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Tt.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function rd(n){return/^[A-Za-z]+:\/\//.test(n)}function LC(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new b_(e,i)}!function VC(n){const t={TaskState:Or,TaskEvent:CC,StringFormat:Rr,Storage:b_,Reference:Ds};n.INTERNAL.registerComponent(new Sc.wA("storage-compat",LC,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(kp.Z),P(5867);var Bl=P(1877);const Ix=new Map,Ax={activated:!1,tokenObservers:[]},Ib={initialized:!1,enabled:!1};function Zi(n){return Ix.get(n)||Ax}function oa(n,t){Ix.set(n,t)}function D_(){return Ib}class GC{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,me.Z)(function*(){e.stop();try{e.pending=new Tt.BH,yield function ZC(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Tt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Jn=new Tt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function zC(n){if(!Zi(n).activated)throw Jn.create("use-before-activation",{appName:n.name})}function E_(n,t){return Ob.apply(this,arguments)}function Ob(){return(Ob=(0,me.Z)(function*({url:n,body:t},e){var i,r;const o={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const L=yield u.getHeartbeatsHeader();L&&(o["X-Firebase-Client"]=L)}const h={method:"POST",body:JSON.stringify(t),headers:o};let _,w;try{_=yield fetch(n,h)}catch(L){throw Jn.create("fetch-network-error",{originalErrorMessage:null===(i=L)||void 0===i?void 0:i.message})}if(200!==_.status)throw Jn.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(L){throw Jn.create("fetch-parse-error",{originalErrorMessage:null===(r=L)||void 0===r?void 0:r.message})}const D=w.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw Jn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const S=1e3*Number(D[1]),O=Date.now();return{token:w.token,expireTimeMillis:O+S,issuedAtTimeMillis:O}})).apply(this,arguments)}function Pb(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const kc="firebase-app-check-store";let M_=null;function x_(){return M_||(M_=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;t(Jn.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(kc,{keyPath:"compositeKey"})}}catch(i){t(Jn.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),M_)}function YC(){return(YC=(0,me.Z)(function*(n,t){const i=(yield x_()).transaction(kc,"readwrite"),o=i.objectStore(kc).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=_=>{u()},i.onerror=_=>{var w;h(Jn.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const tf=new Bl.Yd("@firebase/app-check");function Za(n,t){return(0,Tt.hl)()?function $C(n,t){return function S_(n,t){return YC.apply(this,arguments)}(function Nb(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{tf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function QC(){return D_().enabled}function Ux(){return Up.apply(this,arguments)}function Up(){return(Up=(0,me.Z)(function*(){const n=D_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Vb={error:"UNKNOWN_ERROR"};function Hp(n){return Tt.US.encodeString(JSON.stringify(n),!1)}function R_(n){return jp.apply(this,arguments)}function jp(){return(jp=(0,me.Z)(function*(n,t=!1){const e=n.app;zC(e);const i=Zi(e);let o,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&N_(_)&&(r=_)}if(!t&&r&&N_(r))return{token:r.token};let h,u=!1;if(QC()){i.exchangeTokenPromise||(i.exchangeTokenPromise=E_(Pb(e,yield Ux()),n.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),u=!0);const _=yield i.exchangeTokenPromise;return yield Za(e,_),oa(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?tf.warn(_.message):tf.error(_),o=_}return r?(h={token:r.token},oa(e,Object.assign(Object.assign({},i),{token:r})),yield Za(e,r)):h=jx(o),u&&F_(e,h),h})).apply(this,arguments)}function P_(n,t){const e=Zi(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),oa(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function Bb(n){const{app:t}=n,e=Zi(t);let i=e.tokenRefresher;i||(i=function Hx(n){const{app:t}=n;return new GC((0,me.Z)(function*(){let i;if(i=Zi(t).token?yield R_(n,!0):yield R_(n),i.error)throw i.error}),()=>!0,()=>{const e=Zi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),oa(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function F_(n,t){const e=Zi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function N_(n){return n.expireTimeMillis-Date.now()>0}function jx(n){return{token:Hp(Vb),error:n}}class JC{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Zi(this.app);for(const e of t)P_(this.app,e.next);return Promise.resolve()}}const uD="app-check-internal";!function dD(){(0,kr._registerComponent)(new Sc.wA("app-check",n=>function nf(n,t){return new JC(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(uD).initialize()})),(0,kr._registerComponent)(new Sc.wA(uD,n=>function eD(n){return{getToken:t=>R_(n,t),addTokenListener:t=>function O_(n,t,e,i){const{app:r}=n,o=Zi(r),u={next:e,error:i,type:t};if(oa(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&N_(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),Bb(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Bb(n))}(n,"INTERNAL",t),removeTokenListener:t=>P_(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,kr.registerVersion)("@firebase/app-check","0.5.11")}();class Es{constructor(){return(0,zn.vb)("app-check")}}"undefined"!=typeof window&&window;var _D=P(127);function qp(n){const t=function Jx(n){return new kn.y(t=>{const e=u=>t.next(u);e(n.snapshot);const o=n.on("state_changed",e);return n.then(u=>{e(u),t.complete()},u=>{e(n.snapshot),(u=>{t.error(u)})(u)}),function(){o()}}).pipe(Yu(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,et.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function Ul(n){return{getDownloadURL:()=>nt(void 0).pipe(zn.fc,Xn(()=>n.getDownloadURL()),zn.iC),getMetadata:()=>nt(void 0).pipe(zn.fc,Xn(()=>n.getMetadata()),zn.iC),delete:()=>(0,dn.D)(n.delete()),child:t=>Ul(n.child(t)),updateMetadata:t=>(0,dn.D)(n.updateMetadata(t)),put:(t,e)=>qp(n.put(t,e)),putString:(t,e,i)=>qp(n.putString(t,e,i)),list:t=>(0,dn.D)(n.list(t)),listAll:()=>(0,dn.D)(n.listAll())}}const eS=new s.OlP("angularfire2.storageBucket"),Gp=new s.OlP("angularfire2.storage.maxUploadRetryTime"),tS=new s.OlP("angularfire2.storage.maxOperationRetryTime"),nS=new s.OlP("angularfire2.storage.use-emulator");let qb=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S){const O=(0,hn.on)(e,u,i);this.storage=(0,hn.cc)(`${O.name}.storage.${r}`,"AngularFireStorage",O.name,()=>{const L=u.runOutsideAngular(()=>O.storage(r||void 0)),H=D;return H&&L.useEmulator(...H),_&&L.setMaxUploadRetryTime(_),w&&L.setMaxOperationRetryTime(w),L},[_,w])}ref(e){return Ul(this.storage.ref(e))}refFromURL(e){return Ul(this.storage.refFromURL(e))}upload(e,i,r){return Ul(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hn.Dh),s.LFG(hn.xv,8),s.LFG(eS,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zn.HU),s.LFG(Gp,8),s.LFG(tS,8),s.LFG(nS,8),s.LFG(Es,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Zp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Fr=(()=>{class n{constructor(){_D.Z.registerVersion("angularfire",zn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[qb],imports:[Zp]}),n})();var za=P(8189);function zr(...n){return function U_(){return(0,za.J)(1)}()((0,dn.D)(n,(0,hs.yG)(n)))}function $r(...n){const t=(0,hs.yG)(n);return(0,qi.e)((e,i)=>{(t?zr(n,e,t):zr(n,e)).subscribe(i)})}function Rc(){return(0,qi.e)((n,t)=>{let e,i=!1;n.subscribe(new Di.Q(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function sf(n,t,e,i,r){return(o,u)=>{let h=e,_=t,w=0;o.subscribe(new Di.Q(u,D=>{const S=w++;_=h?n(_,D,S):(h=!0,D),i&&u.next(_)},r&&(()=>{h&&u.next(_),u.complete()})))}}function $a(n,t){return(0,qi.e)(sf(n,t,arguments.length>=2,!0))}var Ya=P(4671);function Oc(n,t=Ya.y){return n=null!=n?n:af,(0,qi.e)((e,i)=>{let r,o=!0;e.subscribe(new Di.Q(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function af(n,t){return n===t}function ei(n,t){return(0,qi.e)((e,i)=>{let r=0;e.subscribe(new Di.Q(i,o=>n.call(t,o,r++)&&i.next(o)))})}P(1121);var rt,lf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wa={},H_=H_||{},Ot=lf||self;function $p(){}function j_(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function cf(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var q_="closure_uid_"+(1e9*Math.random()>>>0),iS=0;function vD(n,t,e){return n.call.apply(n.bind,arguments)}function rS(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function rr(n,t,e){return(rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vD:rS).apply(null,arguments)}function Yp(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function mr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function Pc(){this.s=this.s,this.o=this.o}var sS={};Pc.prototype.s=!1,Pc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function yD(n){return Object.prototype.hasOwnProperty.call(n,q_)&&n[q_]||(n[q_]=++iS)}(this);delete sS[n]}},Pc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Gb=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},wD=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function aS(n){return Array.prototype.concat.apply([],arguments)}function Zb(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function uf(n){return/^[\s\xa0]*$/.test(n)}var Ts,G_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Yr(n,t){return-1!=n.indexOf(t)}function CD(n,t){return n<t?-1:n>t?1:0}e:{var lS=Ot.navigator;if(lS){var DD=lS.userAgent;if(DD){Ts=DD;break e}}Ts=""}function Z_(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function cS(n){const t={};for(const e in n)t[e]=n[e];return t}var ED="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sd(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<ED.length;o++)e=ED[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function zb(n){return zb[" "](n),n}zb[" "]=$p;var z_,n,uS=Yr(Ts,"Opera"),od=Yr(Ts,"Trident")||Yr(Ts,"MSIE"),Wp=Yr(Ts,"Edge"),$b=Wp||od,Yb=Yr(Ts,"Gecko")&&!(Yr(Ts.toLowerCase(),"webkit")&&!Yr(Ts,"Edge"))&&!(Yr(Ts,"Trident")||Yr(Ts,"MSIE"))&&!Yr(Ts,"Edge"),dS=Yr(Ts.toLowerCase(),"webkit")&&!Yr(Ts,"Edge");function MD(){var n=Ot.document;return n?n.documentMode:void 0}e:{var Wb="",Kb=(n=Ts,Yb?/rv:([^\);]+)(\)|;)/.exec(n):Wp?/Edge\/([\d\.]+)/.exec(n):od?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):dS?/WebKit\/(\S+)/.exec(n):uS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Kb&&(Wb=Kb?Kb[1]:""),od){var $_=MD();if(null!=$_&&$_>parseFloat(Wb)){z_=String($_);break e}}z_=Wb}var hS={};var fR=Ot.document&&od&&(MD()||parseInt(z_,10))||void 0,Qb=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",$p,t),Ot.removeEventListener("test",$p,t)}catch(e){}return n}();function Nr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function K_(n,t){if(Nr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Yb){e:{try{zb(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Kp[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&K_.Z.h.call(this)}}Nr.prototype.h=function(){this.defaultPrevented=!0},mr(K_,Nr);var Kp={2:"touch",3:"pen",4:"mouse"};K_.prototype.h=function(){K_.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var df="closure_listenable_"+(1e6*Math.random()|0),Xb=0;function Jb(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++Xb,this.ca=this.fa=!1}function Q_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function hf(n){this.src=n,this.g={},this.h=0}function Qp(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=Gb(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Q_(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function X_(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}hf.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=X_(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new Jb(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var SD="closure_lm_"+(1e6*Math.random()|0),e0={};function J_(n,t,e,i,r){if(i&&i.once)return t0(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)J_(n,t[o],e,i,r);return null}return e=iy(e),n&&n[df]?n.N(t,e,cf(i)?!!i.capture:!!i,r):ey(n,t,e,!1,i,r)}function ey(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=cf(r)?!!r.capture:!!r,h=Xp(n);if(h||(n[SD]=h=new hf(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function ID(){var t=r0;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Qb||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(n0(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function t0(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)t0(n,t[o],e,i,r);return null}return e=iy(e),n&&n[df]?n.O(t,e,cf(i)?!!i.capture:!!i,r):ey(n,t,e,!0,i,r)}function ty(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)ty(n,t[o],e,i,r);else i=cf(i)?!!i.capture:!!i,e=iy(e),n&&n[df]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=X_(o=n.g[t],e,i,r))&&(Q_(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Xp(n))&&(t=n.g[t.toString()],n=-1,t&&(n=X_(t,e,i,r)),(e=-1<n?t[n]:null)&&ny(e))}function ny(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[df])Qp(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(n0(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Xp(t))?(Qp(e,n),0==e.h&&(e.src=null,t[SD]=null)):Q_(n)}}}function n0(n){return n in e0?e0[n]:e0[n]="on"+n}function r0(n,t){if(n.ca)n=!0;else{t=new K_(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&ny(n),n=e.call(i,t)}return n}function Xp(n){return(n=n[SD])instanceof hf?n:null}var s0="__closure_events_fn_"+(1e9*Math.random()>>>0);function iy(n){return"function"==typeof n?n:(n[s0]||(n[s0]=function(t){return n.handleEvent(t)}),n[s0])}function zi(){Pc.call(this),this.i=new hf(this),this.P=this,this.I=null}function $i(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Nr(t,n);else if(t instanceof Nr)t.target=t.target||n;else{var r=t;sd(t=new Nr(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=Jp(u,i,!0,t)&&r}if(r=Jp(u=t.g=n,i,!0,t)&&r,r=Jp(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Jp(u=t.g=e[o],i,!1,t)&&r}function Jp(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ca&&u.capture==e){var h=u.listener,_=u.ia||u.src;u.fa&&Qp(n.i,u),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}mr(zi,Pc),zi.prototype[df]=!0,zi.prototype.removeEventListener=function(n,t,e,i){ty(this,n,t,e,i)},zi.prototype.M=function(){if(zi.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Q_(e[i]);delete n.g[t],n.h--}}this.I=null},zi.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},zi.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var o0=Ot.JSON.stringify;function AD(){var n=c0;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var sy,a0=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new l0,n=>n.reset());class l0{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function RD(n){Ot.setTimeout(()=>{throw n},0)}function ry(n,t){sy||function OD(){var n=Ot.Promise.resolve(void 0);sy=function(){n.then(PD)}}(),oy||(sy(),oy=!0),c0.add(n,t)}var oy=!1,c0=new class kD{constructor(){this.h=this.g=null}add(t,e){const i=a0.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function PD(){for(var n;n=AD();){try{n.h.call(n.g)}catch(e){RD(e)}var t=a0;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}oy=!1}function em(n,t){zi.call(this),this.h=n||1,this.g=t||Ot,this.j=rr(this.kb,this),this.l=Date.now()}function FD(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function u0(n,t,e){if("function"==typeof n)e&&(n=rr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ot.setTimeout(n,t||0)}function ND(n){n.g=u0(()=>{n.g=null,n.i&&(n.i=!1,ND(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}mr(em,zi),(rt=em.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$i(this,"tick"),this.da&&(FD(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){em.Z.M.call(this),FD(this),delete this.g};class LD extends Pc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ND(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tm(n){Pc.call(this),this.h=n,this.g={}}mr(tm,Pc);var Bi=[];function d0(n,t,e,i){Array.isArray(e)||(e&&(Bi[0]=e.toString()),e=Bi);for(var r=0;r<e.length;r++){var o=J_(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function VD(n){Z_(n.g,function(t,e){this.g.hasOwnProperty(e)&&ny(t)},n),n.g={}}function ay(){this.g=!0}function ad(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function ff(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return o0(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}tm.prototype.M=function(){tm.Z.M.call(this),VD(this)},tm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ay.prototype.Aa=function(){this.g=!1},ay.prototype.info=function(){};var ld={},HD=null;function nm(){return HD=HD||new zi}function jD(n){Nr.call(this,ld.Ma,n)}function pf(n){const t=nm();$i(t,new jD(t,n))}function pS(n,t){Nr.call(this,ld.STAT_EVENT,n),this.stat=t}function gr(n){const t=nm();$i(t,new pS(t,n))}function ly(n,t){Nr.call(this,ld.Na,n),this.size=t}function Ms(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},t)}ld.Ma="serverreachability",mr(jD,Nr),ld.STAT_EVENT="statevent",mr(pS,Nr),ld.Na="timingevent",mr(ly,Nr);var cy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qD={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function xo(){}function Io(){}xo.prototype.h=null;var f0,mf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function uy(){Nr.call(this,"d")}function h0(){Nr.call(this,"c")}function dy(){}function im(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new tm(this),this.P=rm,this.W=new em(n=$b?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hy}function hy(){this.i=null,this.g="",this.h=!1}mr(uy,Nr),mr(h0,Nr),mr(dy,xo),dy.prototype.g=function(){return new XMLHttpRequest},dy.prototype.i=function(){return{}},f0=new dy;var rm=45e3,p0={},sm={};function m0(n,t,e){n.K=1,n.v=vy(jl(t)),n.s=e,n.U=!0,g0(n,null)}function g0(n,t){n.F=Date.now(),gf(n),n.A=jl(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),C0(e.h,"t",i),n.C=0,e=n.l.H,n.h=new hy,n.g=IS(n.l,e?t:null,!n.s),0<n.O&&(n.L=new LD(rr(n.Ia,n,n.g),n.O)),d0(n.V,n.g,"readystatechange",n.gb),t=n.H?cS(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),pf(1),function BD(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),_=0;_<h.length;_++){var w=h[_].split("=");if(1<w.length){var D=w[0];w=w[1];var S=D.split("_");u=2<=S.length&&"type"==S[1]?u+(D+"=")+w+"&":u+(D+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function _0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function om(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=mS(n,e),r==sm){4==t&&(n.o=4,gr(14),i=!1),ad(n.j,n.m,null,"[Incomplete Response]");break}if(r==p0){n.o=4,gr(15),ad(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}ad(n.j,n.m,r,null),fy(n,r)}_0(n)&&r!=sm&&r!=p0&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,gr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),xy(t),t.L=!0,gr(11))):(ad(n.j,n.m,e,"[Invalid Chunked Response]"),Nc(n),Fc(n))}function mS(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?sm:(e=Number(t.substring(e,i)),isNaN(e)?p0:(i+=1)+e>t.length?sm:(t=t.substr(i,e),n.C=i+e,t))}function gf(n){n.Y=Date.now()+n.P,y0(n,n.P)}function y0(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ms(rr(n.eb,n),t)}function _f(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Fc(n){0==n.l.G||n.I||aE(n.l,n)}function Nc(n){_f(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,FD(n.W),VD(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function fy(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||E0(e.i,n)))if(e.I=n.N,!n.J&&E0(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(w){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Ms(rr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;_m(e),pm(e)}My(e),gr(18)}if(1>=QD(e.i)&&e.ka){try{e.ka()}catch(w){}e.ka=void 0}}else bf(e,11)}else if((n.J||e.g==n)&&_m(e),!uf(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let w=r[t];if(e.U=w[0],w=w[1],2==e.G)if("c"==w[0]){e.J=w[1],e.la=w[2];const D=w[3];null!=D&&(e.ma=D,e.h.info("VER="+e.ma));const S=w[4];null!=S&&(e.za=S,e.h.info("SVER="+e.za));const O=w[5];null!=O&&"number"==typeof O&&0<O&&(e.K=i=1.5*O,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const L=n.g;if(L){const H=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var o=i.i;!o.g&&(Yr(H,"spdy")||Yr(H,"quic")||Yr(H,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(Bc(o,o.h),o.h=null))}if(i.D){const Q=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(i.sa=Q,ti(i.F,i.D,Q))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=SS(i,i.H?i.la:null,i.W),u.J){CS(i.i,u);var h=u,_=i.K;_&&h.setTimeout(_),h.B&&(_f(h),gf(h)),i.g=u}else R0(i);0<e.l.length&&Hc(e)}else"stop"!=w[0]&&"close"!=w[0]||bf(e,7);else 3==e.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?bf(e,7):Ty(e):"noop"!=w[0]&&e.j&&e.j.wa(w),e.A=0)}pf(4)}catch(w){}}function py(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(j_(n)||"string"==typeof n)wD(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(j_(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function GD(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(j_(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function cd(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof cd)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function my(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Lc(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Lc(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Lc(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(rt=im.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const t=this.L;t&&3==Gl(n)?t.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const D=Gl(this.g);var t=this.g.Da();const S=this.g.ba();if(!(3>D)&&(3!=D||$b||this.g&&(this.h.h||this.g.ga()||vf(this.g)))){this.I||4!=D||7==t||pf(8==t||0>=S?3:2),_f(this);var e=this.g.ba();this.N=e;t:if(_0(this)){var i=vf(this.g);n="";var r=i.length,o=4==Gl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Nc(this),Fc(this);var u="";break t}this.h.i=new Ot.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function fS(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,D,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uf(h)){var w=h;break t}}w=null}if(!(e=w)){this.i=!1,this.o=3,gr(12),Nc(this),Fc(this);break e}ad(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fy(this,e)}this.U?(om(this,D,u),$b&&this.i&&3==D&&(d0(this.V,this.W,"tick",this.fb),this.W.start())):(ad(this.j,this.m,u,null),fy(this,u)),4==D&&Nc(this),this.i&&!this.I&&(4==D?aE(this.l,this):(this.i=!1,gf(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,gr(12)):(this.o=0,gr(13)),Nc(this),Fc(this)}}}catch(D){}},rt.fb=function(){if(this.g){var n=Gl(this.g),t=this.g.ga();this.C<t.length&&(_f(this),om(this,n,t),this.i&&4!=n&&gf(this))}},rt.cancel=function(){this.I=!0,Nc(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function UD(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(pf(3),gr(17)),Nc(this),this.o=2,Fc(this)):y0(this,this.Y-n)},(rt=cd.prototype).R=function(){my(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},rt.T=function(){return my(this),this.g.concat()},rt.get=function(n,t){return Lc(this.h,n)?this.h[n]:t},rt.set=function(n,t){Lc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},rt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var v0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ud(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ud){this.g=void 0!==t?t:n.g,gy(this,n.j),this.s=n.s,_y(this,n.i),yy(this,n.m),this.l=n.l,t=n.h;var e=new yf;e.i=t.i,t.g&&(e.g=new cd(t.g),e.h=t.h),zD(this,e),this.o=n.o}else n&&(e=String(n).match(v0))?(this.g=!!t,gy(this,e[1]||"",!0),this.s=am(e[2]||""),_y(this,e[3]||"",!0),yy(this,e[4]),this.l=am(e[5]||"",!0),zD(this,e[6]||"",!0),this.o=am(e[7]||"")):(this.g=!!t,this.h=new yf(null,this.g))}function jl(n){return new ud(n)}function gy(n,t,e){n.j=e?am(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function _y(n,t,e){n.i=e?am(t,!0):t}function yy(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function zD(n,t,e){t instanceof yf?(n.h=t,function WD(n,t){t&&!n.j&&(ql(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(b0(this,i),C0(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=lm(t,wS)),n.h=new yf(t,n.g))}function ti(n,t,e){n.h.set(t,e)}function vy(n){return ti(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function am(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function lm(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,yS),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function yS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ud.prototype.toString=function(){var n=[],t=this.j;t&&n.push(lm(t,$D,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(lm(t,$D,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(lm(e,"/"==e.charAt(0)?bS:vS,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",lm(e,YD)),n.join("")};var $D=/[#\/\?@]/g,vS=/[#\?:]/g,bS=/[#\?]/g,wS=/[#\?@]/g,YD=/#/g;function yf(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function ql(n){n.g||(n.g=new cd,n.h=0,n.i&&function ZD(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function b0(n,t){ql(n),t=dd(n,t),Lc(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Lc((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&my(n)))}function w0(n,t){return ql(n),t=dd(n,t),Lc(n.g.h,t)}function C0(n,t,e){b0(n,t),0<e.length&&(n.i=null,n.g.set(dd(n,t),Zb(e)),n.h+=e.length)}function dd(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function by(n){this.l=n||D0,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=yf.prototype).add=function(n,t){ql(this),this.i=null,n=dd(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},rt.forEach=function(n,t){ql(this),this.g.forEach(function(e,i){wD(e,function(r){n.call(t,r,i,this)},this)},this)},rt.T=function(){ql(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},rt.R=function(n){ql(this);var t=[];if("string"==typeof n)w0(this,n)&&(t=aS(t,this.g.get(dd(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=aS(t,n[e])}return t},rt.set=function(n,t){return ql(this),this.i=null,w0(this,n=dd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},rt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var u=r;""!==i[o]&&(u+="="+encodeURIComponent(String(i[o]))),n.push(u)}}return this.i=n.join("&")};var D0=10;function Vc(n){return!!n.h||!!n.g&&n.g.size>=n.j}function QD(n){return n.h?1:n.g?n.g.size:0}function E0(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Bc(n,t){n.g?n.g.add(t):n.h=t}function CS(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function wy(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Zb(n.i)}function XD(){}function JD(){this.g=new XD}function eE(n,t,e){const i=e||"";try{py(n,function(r,o){let u=r;cf(r)&&(u=o0(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function gt(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(o){}}function cm(n){this.l=n.$b||null,this.j=n.ib||!1}function Cy(n,t){zi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=T0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}by.prototype.cancel=function(){if(this.i=wy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},XD.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},XD.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},mr(cm,xo),cm.prototype.g=function(){return new Cy(this.l,this.j)},cm.prototype.i=function(n){return function(){return n}}({}),mr(Cy,zi);var T0=0;function um(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function dm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Uc(n)}function Uc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=Cy.prototype).open=function(n,t){if(this.readyState!=T0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Uc(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ot).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dm(this)),this.readyState=T0},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Uc(this)),this.g&&(this.readyState=3,Uc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;um(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?dm(this):Uc(this),3==this.readyState&&um(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,dm(this))},rt.Ta=function(n){this.g&&(this.response=n,dm(this))},rt.ha=function(){this.g&&dm(this)},rt.setRequestHeader=function(n,t){this.v.append(n,t)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Cy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Dy=Ot.JSON.parse;function jt(n){zi.call(this),this.headers=new cd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=DS,this.K=this.L=!1}mr(jt,zi);var DS="",tE=/^https?$/i,ES=["POST","PUT"];function nE(n){return"content-type"==n.toLowerCase()}function M0(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,x0(n),Ey(n)}function x0(n){n.D||(n.D=!0,$i(n,"complete"),$i(n,"error"))}function S0(n){if(n.h&&void 0!==H_&&(!n.C[1]||4!=Gl(n)||2!=n.ba()))if(n.v&&4==Gl(n))u0(n.Fa,0,n);else if($i(n,"readystatechange"),4==Gl(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(v0)[1]||null;if(!r&&Ot.self&&Ot.self.location){var o=Ot.self.location.protocol;r=o.substr(0,o.length-1)}i=!tE.test(r?r.toLowerCase():"")}e=i}if(e)$i(n,"complete"),$i(n,"success");else{n.m=6;try{var u=2<Gl(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",x0(n)}}finally{Ey(n)}}}function Ey(n,t){if(n.g){iE(n);const e=n.g,i=n.C[0]?$p:null;n.g=null,n.C=null,t||$i(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function iE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function Gl(n){return n.g?n.g.readyState:0}function vf(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case DS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function I0(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function MS(n){let t="";return Z_(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ti(n,t,e))}function hm(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function fm(n){this.za=0,this.l=[],this.h=new ay,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=hm("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=hm("baseRetryDelayMs",5e3,n),this.$a=hm("retryDelaySeedMs",1e4,n),this.Ya=hm("forwardChannelMaxRetries",2,n),this.ra=hm("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new by(n&&n.concurrentRequestLimit),this.Ca=new JD,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Ty(n){if(A0(n),3==n.G){var t=n.V++,e=jl(n.F);ti(e,"SID",n.J),ti(e,"RID",t),ti(e,"TYPE","terminate"),gm(n,e),(t=new im(n,n.h,t,void 0)).K=2,t.v=vy(jl(e)),e=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(e=Ot.navigator.sendBeacon(t.v.toString(),"")),!e&&Ot.Image&&((new Image).src=t.v,e=!0),e||(t.g=IS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),gf(t)}xS(n)}function pm(n){n.g&&(xy(n),n.g.cancel(),n.g=null)}function A0(n){pm(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),_m(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function k0(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Hc(n)}function Hc(n){Vc(n.i)||n.m||(n.m=!0,ry(n.Ha,n),n.C=0)}function rE(n,t){var e;e=t?t.m:n.V++;const i=jl(n.F);ti(i,"SID",n.J),ti(i,"RID",e),ti(i,"AID",n.U),gm(n,i),n.o&&n.s&&I0(i,n.o,n.s),e=new im(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=sE(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Bc(n.i,e),m0(e,i,t)}function gm(n,t){n.j&&py({},function(e,i){ti(t,i,e)})}function sE(n,t,e){e=Math.min(n.l.length,e);var i=n.j?rr(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let _=0;_<e;_++){let w=r[_].h;const D=r[_].g;if(w-=o,0>w)o=Math.max(0,r[_].h-100),h=!1;else try{eE(D,u,"req"+w+"_")}catch(S){i&&i(D)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function R0(n){n.g||n.u||(n.Y=1,ry(n.Ga,n),n.A=0)}function My(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ms(rr(n.Ga,n),lE(n,n.A)),n.A++,0))}function xy(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function oE(n){n.g=new im(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=jl(n.oa);ti(t,"RID","rpc"),ti(t,"SID",n.J),ti(t,"CI",n.N?"0":"1"),ti(t,"AID",n.U),gm(n,t),ti(t,"TYPE","xmlhttp"),n.o&&n.s&&I0(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=vy(jl(t)),e.s=null,e.U=!0,g0(e,n)}function _m(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function aE(n,t){var e=null;if(n.g==t){_m(n),xy(n),n.g=null;var i=2}else{if(!E0(n.i,t))return;e=t.D,CS(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;$i(i=nm(),new ly(i,e,t,r)),Hc(n)}else R0(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function mm(n,t){return!(QD(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ms(rr(n.Ha,n,t),lE(n,n.C)),n.C++,0)))}(n,t)||2==i&&My(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:bf(n,5);break;case 4:bf(n,10);break;case 3:bf(n,6);break;default:bf(n,2)}}function lE(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function bf(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=rr(n.jb,n);e||(e=new ud("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||gy(e,"https"),vy(e)),function pR(n,t){const e=new ay;if(Ot.Image){const i=new Image;i.onload=Yp(gt,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Yp(gt,e,i,"TestLoadImage: error",!1,t),i.onabort=Yp(gt,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Yp(gt,e,i,"TestLoadImage: timeout",!1,t),Ot.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else gr(2);n.G=0,n.j&&n.j.va(t),xS(n),A0(n)}function xS(n){n.G=0,n.I=-1,n.j&&((0!=wy(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Zb(n.l),n.l.length=0),n.j.ua())}function SS(n,t,e){let i=function gS(n){return n instanceof ud?jl(n):new ud(n,void 0)}(e);if(""!=i.i)t&&_y(i,t+"."+i.i),yy(i,i.m);else{const r=Ot.location;i=function _S(n,t,e,i){var r=new ud(null,void 0);return n&&gy(r,n),t&&_y(r,t),e&&yy(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&Z_(n.aa,function(r,o){ti(i,o,r)}),e=n.sa,(t=n.D)&&e&&ti(i,t,e),ti(i,"VER",n.ma),gm(n,i),i}function IS(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new jt(e&&n.Ba&&!n.qa?new cm({ib:!0}):n.qa)).L=n.H,t}function O0(){}function hd(){if(od&&!(10<=Number(fR)))throw Error("Environmental error: no available transport.")}function $s(n,t){zi.call(this),this.g=new fm(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!uf(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!uf(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Ka(this)}function cE(n){uy.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function P0(){h0.call(this),this.status=1}function Ka(n){this.g=n}(rt=jt.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():f0.g(),this.C=function So(n){return n.h||(n.h=n.i())}(this.u?this.u:f0),this.g.onreadystatechange=rr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void M0(this,o)}n=e||"";const r=new cd(this.headers);i&&py(i,function(o,u){r.set(u,o)}),i=function oS(n){e:{var t=nE;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Ot.FormData&&n instanceof Ot.FormData,!(0<=Gb(ES,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{iE(this),0<this.B&&((this.K=function TS(n){return od&&function xD(){return function TD(n){var t=hS;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=G_(String(z_)).split("."),e=G_("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=CD(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||CD(0==r[2].length,0==o[2].length)||CD(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rr(this.pa,this)):this.A=u0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){M0(this,o)}},rt.pa=function(){void 0!==H_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$i(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$i(this,"complete"),$i(this,"abort"),Ey(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ey(this,!0)),jt.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?S0(this):this.cb())},rt.cb=function(){S0(this)},rt.ba=function(){try{return 2<Gl(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Dy(t)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=fm.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new im(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=cS(o),sd(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=sE(this,r,t),ti(e=jl(this.F),"RID",n),ti(e,"CVER",22),this.D&&ti(e,"X-HTTP-Session-Id",this.D),gm(this,e),this.o&&o&&I0(e,this.o,o),Bc(this.i,r),this.Ra&&ti(e,"TYPE","init"),this.ja?(ti(e,"$req",t),ti(e,"SID","null"),r.$=!0,m0(r,e,null)):m0(r,e,t),this.G=2}}else 3==this.G&&(n?rE(this,n):0==this.l.length||Vc(this.i)||rE(this))},rt.Ga=function(){if(this.u=null,oE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ms(rr(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,gr(10),pm(this),oE(this))},rt.ab=function(){null!=this.v&&(this.v=null,pm(this),My(this),gr(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),gr(2)):(this.h.info("Failed to ping google.com"),gr(1))},(rt=O0.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},hd.prototype.g=function(n,t){return new $s(n,t)},mr($s,zi),$s.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),ry(rr(n.hb,n,t))),gr(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=SS(n,null,n.W),Hc(n)},$s.prototype.close=function(){Ty(this.g)},$s.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,k0(this.g,t)}else this.v?((t={}).__data__=o0(n),k0(this.g,t)):k0(this.g,n)},$s.prototype.M=function(){this.g.j=null,delete this.j,Ty(this.g),delete this.g,$s.Z.M.call(this)},mr(cE,uy),mr(P0,h0),mr(Ka,O0),Ka.prototype.xa=function(){$i(this.g,"a")},Ka.prototype.wa=function(n){$i(this.g,new cE(n))},Ka.prototype.va=function(n){$i(this.g,new P0(n))},Ka.prototype.ua=function(){$i(this.g,"b")},hd.prototype.createWebChannel=hd.prototype.g,$s.prototype.send=$s.prototype.u,$s.prototype.open=$s.prototype.m,$s.prototype.close=$s.prototype.close,cy.NO_ERROR=0,cy.TIMEOUT=8,cy.HTTP_ERROR=6,qD.COMPLETE="complete",Io.EventType=mf,mf.OPEN="a",mf.CLOSE="b",mf.ERROR="c",mf.MESSAGE="d",zi.prototype.listen=zi.prototype.N,jt.prototype.listenOnce=jt.prototype.O,jt.prototype.getLastError=jt.prototype.La,jt.prototype.getLastErrorCode=jt.prototype.Da,jt.prototype.getStatus=jt.prototype.ba,jt.prototype.getResponseJson=jt.prototype.Qa,jt.prototype.getResponseText=jt.prototype.ga,jt.prototype.send=jt.prototype.ea;var AS=Wa.createWebChannelTransport=function(){return new hd},kS=Wa.getStatEventTarget=function(){return nm()},F0=Wa.ErrorCode=cy,RS=Wa.EventType=qD,OS=Wa.Event=ld,N0=Wa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},PS=Wa.FetchXmlHttpFactory=cm,Sy=Wa.WebChannel=Io,wf=Wa.XhrIo=jt;const uE="@firebase/firestore";class Yi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Yi.UNAUTHENTICATED=new Yi(null),Yi.GOOGLE_CREDENTIALS=new Yi("google-credentials-uid"),Yi.FIRST_PARTY=new Yi("first-party-uid"),Yi.MOCK_USER=new Yi("mock-user");let Cf="9.9.0";const Zl=new Bl.Yd("@firebase/firestore");function L0(){return Zl.logLevel}function Fe(n,...t){if(Zl.logLevel<=Bl.in.DEBUG){const e=t.map(Iy);Zl.debug(`Firestore (${Cf}): ${n}`,...e)}}function _i(n,...t){if(Zl.logLevel<=Bl.in.ERROR){const e=t.map(Iy);Zl.error(`Firestore (${Cf}): ${n}`,...e)}}function ym(n,...t){if(Zl.logLevel<=Bl.in.WARN){const e=t.map(Iy);Zl.warn(`Firestore (${Cf}): ${n}`,...e)}}function Iy(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function st(n="Unexpected state"){const t=`FIRESTORE (${Cf}) INTERNAL ASSERTION FAILED: `+n;throw _i(t),new Error(t)}function St(n,t){n||st()}function Qe(n,t){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Tt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class hE{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Yi.UNAUTHENTICATED))}shutdown(){}}class LS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class VS{constructor(t){this.t=t,this.currentUser=Yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=w=>this.i!==r?(r=this.i,e(w)):Promise.resolve();let u=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wi,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const w=u;t.enqueueRetryable((0,me.Z)(function*(){yield w.promise,yield o(i.currentUser)}))},_=w=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wi)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St("string"==typeof i.accessToken),new hE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return St(null===t||"string"==typeof t),new Yi(t)}}class BS{constructor(t,e,i){this.type="FirstParty",this.user=Yi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class US{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new BS(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HS{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.p;return this.p=o.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(St("string"==typeof e.token),this.p=e.token,new fE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pE(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class mE{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=pE(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Vt(n,t){return n<t?-1:n>t?1:0}function fd(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function gE(n){return n+"\0"}class ni{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ni.fromMillis(Date.now())}static fromDate(t){return ni.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ni(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new xt(t)}static min(){return new xt(new ni(0,0))}static max(){return new xt(new ni(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pd{constructor(t,e,i){void 0===e?e=0:e>t.length&&st(),void 0===i?i=t.length-e:i>t.length-e&&st(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===pd.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof pd?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Yt extends pd{construct(t,e,i){return new Yt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ie(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Yt(e)}static emptyPath(){return new Yt([])}}const _E=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class di extends pd{construct(t,e,i){return new di(t,e,i)}static isValidIdentifier(t){return _E.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),di.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new di(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ie(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Ie(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ie(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Ie(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new di(e)}static emptyPath(){return new di([])}}class $e{constructor(t){this.path=t}static fromPath(t){return new $e(Yt.fromString(t))}static fromName(t){return new $e(Yt.fromString(t).popFirst(5))}static empty(){return new $e(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Yt.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Yt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $e(new Yt(t.slice()))}}class Ay{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function vm(n){return n.fields.find(t=>2===t.kind)}function md(n){return n.fields.filter(t=>2!==t.kind)}Ay.UNKNOWN_ID=-1;class bm{constructor(t,e){this.fieldPath=t,this.kind=e}}class wm{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new wm(0,xs.min())}}function V0(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xt.fromTimestamp(1e9===i?new ni(e+1,0):new ni(e,i));return new xs(r,$e.empty(),t)}function yE(n){return new xs(n.readTime,n.key,-1)}class xs{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new xs(xt.min(),$e.empty(),-1)}static max(){return new xs(xt.max(),$e.empty(),-1)}}function vE(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=$e.comparator(n.documentKey,t.documentKey),0!==e?e:Vt(n.largestBatchId,t.largestBatchId))}const bE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Df{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function jc(n){return qc.apply(this,arguments)}function qc(){return qc=(0,me.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==bE)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),qc.apply(this,arguments)}class se{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new se((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof se?e:se.resolve(e)}catch(e){return se.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):se.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):se.reject(e)}static resolve(t){return new se((e,i)=>{e(t)})}static reject(t){return new se((e,i)=>{i(t)})}static waitFor(t){return new se((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},_=>i(_))}),u=!0,o===r&&e()})}static or(t){let e=se.resolve(!1);for(const i of t)e=e.next(r=>r?se.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new se((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let _=0;_<o;_++){const w=_;e(t[w]).next(D=>{u[w]=D,++h,h===o&&i(u)},D=>r(D))}})}static doWhile(t,e){return new se((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class ky{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new Wi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new Cm(t,e.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=Ry(i.target.error);this.T.reject(new Cm(t,r))}}static open(t,e,i,r){try{return new ky(e,t.transaction(r,i))}catch(o){throw new Cm(e,o)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(Fe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new qS(e)}}class Qa{constructor(t,e,i){this.name=t,this.version=e,this.P=i,12.2===Qa.v((0,Tt.z$)())&&_i("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Fe("SimpleDb","Removing database:",t),gd(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,Tt.hl)())return!1;if(Qa.S())return!0;const t=(0,Tt.z$)(),e=Qa.v(t),i=0<e&&e<10,r=Qa.D(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static S(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(t){var e=this;return(0,me.Z)(function*(){return e.db||(Fe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new Cm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Ie(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ie(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Cm(t,h))},o.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.P.O(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.M&&(e.db.onversionchange=i=>e.M(i)),e.db})()}F(t){this.M=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,me.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.k(t);const _=ky.open(o.db,t,u?"readonly":"readwrite",i),w=r(_).next(D=>(_.R(),D)).catch(D=>(_.abort(D),se.reject(D))).toPromise();return w.catch(()=>{}),yield _.A,w}catch(_){const w=_,D="FirebaseError"!==w.name&&h<3;if(Fe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),o.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wE{constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return gd(this.$.delete())}}class Cm extends Ie{constructor(t,e){super(de.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Gc(n){return"IndexedDbTransactionError"===n.name}class qS{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Fe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),gd(i)}add(t){return Fe("SimpleDb","ADD",this.store.name,t,t),gd(this.store.add(t))}get(t){return gd(this.store.get(t)).next(e=>(void 0===e&&(e=null),Fe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Fe("SimpleDb","DELETE",this.store.name,t),gd(this.store.delete(t))}count(){return Fe("SimpleDb","COUNT",this.store.name),gd(this.store.count())}K(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new se((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new se((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}W(t,e){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.G(r,(o,u,h)=>h.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Y(t){const e=this.cursor({});return new se((i,r)=>{e.onerror=o=>{const u=Ry(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}G(t,e){const i=[];return new se((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const _=new wE(h),w=e(h.primaryKey,h.value,_);if(w instanceof se){const D=w.catch(S=>(_.done(),se.reject(S)));i.push(D)}_.isDone?r():null===_.U?h.continue():h.continue(_.U)}}).next(()=>se.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function gd(n){return new se((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Ry(i.target.error);e(r)}})}let B0=!1;function Ry(n){const t=Qa.v((0,Tt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return B0||(B0=!0,setTimeout(()=>{throw i},0)),i}}return n}class U0{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;Fe("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,me.Z)(function*(){e.task=null;try{Fe("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(i){Gc(i)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield jc(i)}yield e.Z(1)}))}}class Oy{constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,me.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.et(i,t))})()}et(t,e){const i=new Set;let r=e,o=!0;return se.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Fe("IndexBackiller",`Processing collection: ${u}`),this.nt(t,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>e-r)}nt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.st(r,o)).next(h=>(Fe("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}st(t,e){let i=t;return e.changes.forEach((r,o)=>{const u=yE(o);vE(u,i)>0&&(i=u)}),new xs(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class sr{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function CE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Zc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function H0(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}sr.ot=-1;class yi{constructor(t,e){this.comparator=t,this.root=e||_r.EMPTY}insert(t,e){return new yi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(t){return new yi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_r.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Py(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Py(this.root,t,this.comparator,!1)}getReverseIterator(){return new Py(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Py(this.root,t,this.comparator,!0)}}class Py{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class _r{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=null!=i?i:_r.RED,this.left=null!=r?r:_r.EMPTY,this.right=null!=o?o:_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new _r(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return _r.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const t=this.left.check();if(t!==this.right.check())throw st();return t+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1,_r.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,t,e,i,r){return this}insert(n,t,e){return new _r(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(t){this.comparator=t,this.data=new yi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new DE(this.data.getIterator())}getIteratorFrom(t){return new DE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Cn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Cn(this.comparator);return e.data=t,e}}class DE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Dm(n){return n.hasNext()?n.getNext():void 0}class Ys{constructor(t){this.fields=t,t.sort(di.comparator)}static empty(){return new Ys([])}unionWith(t){let e=new Cn(di.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ys(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return fd(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class ii{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ii(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new ii(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const EE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(n){if(St(!!n),"string"==typeof n){let t=0;const e=EE.exec(n);if(St(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Mi(n.seconds),nanos:Mi(n.nanos)}}function Mi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zc(n){return"string"==typeof n?ii.fromBase64String(n):ii.fromUint8Array(n)}function j0(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function ZS(n){const t=n.mapValue.fields.__previous_value__;return j0(t)?ZS(t):t}function Ef(n){const t=Ws(n.mapValue.fields.__local_write_time__.timestampValue);return new ni(t.seconds,t.nanos)}class mR{constructor(t,e,i,r,o,u,h,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class Xa{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Xa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Xa&&t.projectId===this.projectId&&t.database===this.database}}function _d(n){return null==n}function Tf(n){return 0===n&&1/n==-1/0}function q0(n){return"number"==typeof n&&Number.isInteger(n)&&!Tf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const $c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fy={nullValue:"NULL_VALUE"};function yd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?j0(n)?4:z0(n)?9007199254740991:10:st()}function Ja(n,t){if(n===t)return!0;const e=yd(n);if(e!==yd(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ef(n).isEqual(Ef(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Ws(i.timestampValue),u=Ws(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,zc(n.bytesValue).isEqual(zc(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Mi(i.geoPointValue.latitude)===Mi(r.geoPointValue.latitude)&&Mi(i.geoPointValue.longitude)===Mi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Mi(i.integerValue)===Mi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Mi(i.doubleValue),u=Mi(r.doubleValue);return o===u?Tf(o)===Tf(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return fd(n.arrayValue.values||[],t.arrayValue.values||[],Ja);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(CE(o)!==CE(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!Ja(o[h],u[h])))return!1;return!0}(n,t);default:return st()}var r}function Em(n,t){return void 0!==(n.values||[]).find(e=>Ja(e,t))}function Yc(n,t){if(n===t)return 0;const e=yd(n),i=yd(t);if(e!==i)return Vt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=Mi(r.integerValue||r.doubleValue),h=Mi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return TE(n.timestampValue,t.timestampValue);case 4:return TE(Ef(n),Ef(t));case 5:return Vt(n.stringValue,t.stringValue);case 6:return function(r,o){const u=zc(r),h=zc(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let _=0;_<u.length&&_<h.length;_++){const w=Vt(u[_],h[_]);if(0!==w)return w}return Vt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=Vt(Mi(r.latitude),Mi(o.latitude));return 0!==u?u:Vt(Mi(r.longitude),Mi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let _=0;_<u.length&&_<h.length;++_){const w=Yc(u[_],h[_]);if(w)return w}return Vt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===$c.mapValue&&o===$c.mapValue)return 0;if(r===$c.mapValue)return 1;if(o===$c.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),_=o.fields||{},w=Object.keys(_);h.sort(),w.sort();for(let D=0;D<h.length&&D<w.length;++D){const S=Vt(h[D],w[D]);if(0!==S)return S;const O=Yc(u[h[D]],_[w[D]]);if(0!==O)return O}return Vt(h.length,w.length)}(n.mapValue,t.mapValue);default:throw st()}}function TE(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Vt(n,t);const e=Ws(n),i=Ws(t),r=Vt(e.seconds,i.seconds);return 0!==r?r:Vt(e.nanos,i.nanos)}function Mf(n){return vd(n)}function vd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ws(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zc(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=vd(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${vd(i.fields[h])}`;return o+"}"}(n.mapValue):st();var t}function Wc(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ny(n){return!!n&&"integerValue"in n}function xf(n){return!!n&&"arrayValue"in n}function G0(n){return!!n&&"nullValue"in n}function Z0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tm(n){return!!n&&"mapValue"in n}function Mm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Zc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Mm(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Mm(n.arrayValue.values[e]);return t}return Object.assign({},n)}function z0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function zS(n){return"nullValue"in n?Fy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Wc(Xa.empty(),$e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function $S(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Wc(Xa.empty(),$e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?$c:st()}function ME(n,t){const e=Yc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function xE(n,t){const e=Yc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class xi{constructor(t){this.value=t}static empty(){return new xi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Tm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mm(e)}setAll(t){let e=di.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Mm(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Tm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ja(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Tm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Zc(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new xi(Mm(this.value))}}function SE(n){const t=[];return Zc(n.fields,(e,i)=>{const r=new di([e]);if(Tm(i)){const o=SE(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new Ys(t)}class Sn{constructor(t,e,i,r,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=u}static newInvalidDocument(t){return new Sn(t,0,xt.min(),xt.min(),xi.empty(),0)}static newFoundDocument(t,e,i){return new Sn(t,1,e,xt.min(),i,0)}static newNoDocument(t,e){return new Sn(t,2,e,xt.min(),xi.empty(),0)}static newUnknownDocument(t,e){return new Sn(t,3,e,xt.min(),xi.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class el{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.ut=null}}function IE(n,t=null,e=[],i=[],r=null,o=null,u=null){return new el(n,t,e,i,r,o,u)}function tl(n){const t=Qe(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Mf(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),_d(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Mf(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Mf(i)).join(",")),t.ut=e}return t.ut}function Sm(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!OE(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Ja(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Hy(n.startAt,t.startAt)&&Hy(n.endAt,t.endAt)}function Ly(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Vy(n,t){return n.filters.filter(e=>e instanceof yr&&e.field.isEqual(t))}function Im(n,t,e){let i=Fy,r=!0;for(const o of Vy(n,t)){let u=Fy,h=!0;switch(o.op){case"<":case"<=":u=zS(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Fy}ME({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];ME({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function Am(n,t,e){let i=$c,r=!0;for(const o of Vy(n,t)){let u=$c,h=!0;switch(o.op){case">=":case">":u=$S(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=$c}xE({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];xE({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class yr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new YS(t,e,i):"array-contains"===e?new RE(t,i):"in"===e?new WS(t,i):"not-in"===e?new KS(t,i):"array-contains-any"===e?new gR(t,i):new yr(t,e,i)}static ct(t,e,i){return"in"===e?new AE(t,i):new kE(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(Yc(e,this.value)):null!==e&&yd(this.value)===yd(e)&&this.at(Yc(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return st()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class YS extends yr{constructor(t,e,i){super(t,e,i),this.key=$e.fromName(i.referenceValue)}matches(t){const e=$e.comparator(t.key,this.key);return this.at(e)}}class AE extends yr{constructor(t,e){super(t,"in",e),this.keys=By(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class kE extends yr{constructor(t,e){super(t,"not-in",e),this.keys=By(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function By(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>$e.fromName(i.referenceValue))}class RE extends yr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return xf(e)&&Em(e.arrayValue,this.value)}}class WS extends yr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Em(this.value.arrayValue,e)}}class KS extends yr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Em(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Em(this.value.arrayValue,e)}}class gR extends yr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!xf(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Em(this.value.arrayValue,i))}}class nl{constructor(t,e){this.position=t,this.inclusive=e}}class Kc{constructor(t,e="asc"){this.field=t,this.dir=e}}function OE(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function Uy(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?$e.comparator($e.fromName(u.referenceValue),e.key):Yc(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Hy(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ja(n.position[e],t.position[e]))return!1;return!0}class zl{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=_,this.lt=null,this.ft=null}}function PE(n,t,e,i,r,o,u,h){return new zl(n,t,e,i,r,o,u,h)}function Sf(n){return new zl(n)}function jy(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function km(n){for(const t of n.filters)if(t.ht())return t.field;return null}function qy(n){return null!==n.collectionGroup}function bd(n){const t=Qe(n);if(null===t.lt){t.lt=[];const e=km(t),i=jy(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new Kc(e)),t.lt.push(new Kc(di.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.lt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Kc(di.keyField(),o))}}}return t.lt}function Ks(n){const t=Qe(n);if(!t.ft)if("F"===t.limitType)t.ft=IE(t.path,t.collectionGroup,bd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of bd(t))e.push(new Kc(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new nl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nl(t.startAt.position,t.startAt.inclusive):null;t.ft=IE(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.ft}function $0(n,t,e){return new zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Rm(n,t){return Sm(Ks(n),Ks(t))&&n.limitType===t.limitType}function Y0(n){return`${tl(Ks(n))}|lt:${n.limitType}`}function Gy(n){return`Query(target=${function xm(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Mf(i.value)}`;var i}).join(", ")}]`),_d(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Mf(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Mf(e)).join(",")),`Target(${t})`}(Ks(n))}; limitType=${n.limitType})`}function W0(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):$e.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=Uy(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,bd(e),i)||e.endAt&&!function(r,o,u){const h=Uy(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,bd(e),i)));var e,i}function K0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function FE(n){return(t,e)=>{let i=!1;for(const r of bd(n)){const o=Wr(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Wr(n,t,e){const i=n.field.isKeyField()?$e.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),_=u.data.field(r);return null!==h&&null!==_?Yc(h,_):st()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return st()}}function wd(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(t)?"-0":t}}function NE(n){return{integerValue:""+n}}function LE(n,t){return q0(t)?NE(t):wd(n,t)}class Q0{constructor(){this._=void 0}}function Om(n,t,e){return n instanceof If?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Qc?VE(n,t):n instanceof Cd?zy(n,t):function(i,r){const o=Zy(i,r),u=X0(o)+X0(i._t);return Ny(o)&&Ny(i._t)?NE(u):wd(i.wt,u)}(n,t)}function XS(n,t,e){return n instanceof Qc?VE(n,t):n instanceof Cd?zy(n,t):e}function Zy(n,t){return n instanceof Dd?Ny(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class If extends Q0{}class Qc extends Q0{constructor(t){super(),this.elements=t}}function VE(n,t){const e=Pm(t);for(const i of n.elements)e.some(r=>Ja(r,i))||e.push(i);return{arrayValue:{values:e}}}class Cd extends Q0{constructor(t){super(),this.elements=t}}function zy(n,t){let e=Pm(t);for(const i of n.elements)e=e.filter(r=>!Ja(r,i));return{arrayValue:{values:e}}}class Dd extends Q0{constructor(t,e){super(),this.wt=t,this._t=e}}function X0(n){return Mi(n.integerValue||n.doubleValue)}function Pm(n){return xf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ed{constructor(t,e){this.field=t,this.transform=e}}class BE{constructor(t,e){this.version=t,this.transformResults=e}}class hi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fm(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Td{}function J0(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new xd(n.key,hi.none()):new Af(n.key,n.data,hi.none());{const e=n.data,i=xi.empty();let r=new Cn(di.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new $l(n.key,i,new Ys(r.toArray()),hi.none())}}function JS(n,t,e){n instanceof Af?function(i,r,o){const u=i.value.clone(),h=nw(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof $l?function(i,r,o){if(!Fm(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=nw(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(tw(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Md(n,t,e,i){return n instanceof Af?function(r,o,u,h){if(!Fm(r.precondition,o))return u;const _=r.value.clone(),w=UE(r.fieldTransforms,h,o);return _.setAll(w),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null}(n,t,e,i):n instanceof $l?function(r,o,u,h){if(!Fm(r.precondition,o))return u;const _=UE(r.fieldTransforms,h,o),w=o.data;return w.setAll(tw(r)),w.setAll(_),o.convertToFoundDocument(o.version,w).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(D=>D.field))}(n,t,e,i):(u=e,Fm(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function ew(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Zy(i.transform,r||null);null!=o&&(null===e&&(e=xi.empty()),e.set(i.field,o))}return e||null}function eI(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&fd(e,i,(r,o)=>function _R(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Qc&&i instanceof Qc||e instanceof Cd&&i instanceof Cd?fd(e.elements,i.elements,Ja):e instanceof Dd&&i instanceof Dd?Ja(e._t,i._t):e instanceof If&&i instanceof If);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Af extends Td{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $l extends Td{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function tw(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function nw(n,t,e){const i=new Map;St(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,XS(u,h,e[r]))}return i}function UE(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,Om(o,u,t))}return i}class xd extends Td{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $y extends Td{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tI{constructor(t){this.count=t}}var Ui,Xt;function HE(n){switch(n){default:return st();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function iw(n){if(void 0===n)return _i("GRPC error has no .code"),de.UNKNOWN;switch(n){case Ui.OK:return de.OK;case Ui.CANCELLED:return de.CANCELLED;case Ui.UNKNOWN:return de.UNKNOWN;case Ui.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Ui.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Ui.INTERNAL:return de.INTERNAL;case Ui.UNAVAILABLE:return de.UNAVAILABLE;case Ui.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Ui.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Ui.NOT_FOUND:return de.NOT_FOUND;case Ui.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Ui.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Ui.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Ui.ABORTED:return de.ABORTED;case Ui.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Ui.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Ui.DATA_LOSS:return de.DATA_LOSS;default:return st()}}(Xt=Ui||(Ui={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";class Yl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Zc(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return H0(this.inner)}size(){return this.innerSize}}const jE=new yi($e.comparator);function Kr(){return jE}const qE=new yi($e.comparator);function Nm(...n){let t=qE;for(const e of n)t=t.insert(e.key,e);return t}function nI(n){let t=qE;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function aa(){return Yy()}function iI(){return Yy()}function Yy(){return new Yl(n=>n.toString(),(n,t)=>n.isEqual(t))}const yR=new yi($e.comparator),vR=new Cn($e.comparator);function Gt(...n){let t=vR;for(const e of n)t=t.add(e);return t}const bR=new Cn(Vt);function rw(){return bR}class Wy{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Xc.createSynthesizedTargetChangeForCurrentChange(t,e)),new Wy(xt.min(),i,rw(),Kr(),Gt())}}class Xc{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Xc(ii.EMPTY_BYTE_STRING,e,Gt(),Gt(),Gt())}}class sw{constructor(t,e,i,r){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=r}}class Ky{constructor(t,e){this.targetId=t,this.It=e}}class Sd{constructor(t,e,i=ii.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class ow{constructor(){this.Tt=0,this.Et=Qy(),this.At=ii.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=Gt(),e=Gt(),i=Gt();return this.Et.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:st()}}),new Xc(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=Qy()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class rI{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=Kr(),this.Bt=GE(),this.Lt=new Cn(Vt)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Ot(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:st()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,r)=>{this.jt(r)&&e(r)})}zt(t){const e=t.targetId,i=t.It.count,r=this.Ht(e);if(r){const o=r.target;if(Ly(o))if(0===i){const u=new $e(o.path);this.Kt(e,u,Sn.newNoDocument(u,xt.min()))}else St(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((o,u)=>{const h=this.Ht(u);if(h){if(o.current&&Ly(h.target)){const _=new $e(h.target.path);null!==this.$t.get(_)||this.Xt(u,_)||this.Kt(u,_,Sn.newNoDocument(_,t))}o.vt&&(e.set(u,o.St()),o.Dt())}});let i=Gt();this.Bt.forEach((o,u)=>{let h=!0;u.forEachWhile(_=>{const w=this.Ht(_);return!w||2===w.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.$t.forEach((o,u)=>u.setReadTime(t));const r=new Wy(t,e,this.Lt,this.$t,i);return this.$t=Kr(),this.Bt=GE(),this.Lt=new Cn(Vt),r}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new ow,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new Cn(Vt),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||Fe("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new ow),this.Mt.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Mt.getRemoteKeysForTarget(t).has(e)}}function GE(){return new yi($e.comparator)}function Qy(){return new yi($e.comparator)}const ZE={asc:"ASCENDING",desc:"DESCENDING"},zE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $E{constructor(t,e){this.databaseId=t,this.dt=e}}function Xy(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aw(n,t){return n.dt?t.toBase64():t.toUint8Array()}function Jy(n,t){return Xy(n,t.toTimestamp())}function Ki(n){return St(!!n),xt.fromTimestamp(function(t){const e=Ws(t);return new ni(e.seconds,e.nanos)}(n))}function YE(n,t){return(e=n,new Yt(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function sI(n){const t=Yt.fromString(n);return St(JE(t)),t}function ev(n,t){return YE(n.databaseId,t.path)}function il(n,t){const e=sI(t);if(e.get(1)!==n.databaseId.projectId)throw new Ie(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ie(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new $e(KE(e))}function Lm(n,t){return YE(n.databaseId,t)}function WE(n){const t=sI(n);return 4===t.length?Yt.emptyPath():KE(t)}function tv(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KE(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nv(n,t,e){return{name:ev(n,t),fields:e.value.mapValue.fields}}function QE(n,t,e){const i=il(n,t.name),r=Ki(t.updateTime),o=new xi({mapValue:{fields:t.fields}}),u=Sn.newFoundDocument(i,r,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Id(n,t){let e;if(t instanceof Af)e={update:nv(n,t.key,t.value)};else if(t instanceof xd)e={delete:ev(n,t.key)};else if(t instanceof $l)e={update:nv(n,t.key,t.data),updateMask:wR(t.fieldMask)};else{if(!(t instanceof $y))return st();e={verify:ev(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof If)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Qc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Cd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Dd)return{fieldPath:o.field.canonicalString(),increment:u._t};throw st()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Jy(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:st()),e;var r}function lw(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?hi.updateTime(Ki(r.updateTime)):void 0!==r.exists?hi.exists(r.exists):hi.none():hi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(St("REQUEST_TIME"===u.setToServerValue),h=new If):"appendMissingElements"in u?h=new Qc(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Cd(u.removeAllFromArray.values||[]):"increment"in u?h=new Dd(o,u.increment):st();const _=di.fromServerFormat(u.fieldPath);return new Ed(_,h)}(n,r)):[];var r;if(t.update){const r=il(n,t.update.name),o=new xi({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Ys((t.updateMask.fieldPaths||[]).map(w=>di.fromServerFormat(w)));return new $l(r,o,u,e,i)}return new Af(r,o,e,i)}if(t.delete){const r=il(n,t.delete);return new xd(r,e)}if(t.verify){const r=il(n,t.verify);return new $y(r,e)}return st()}function iv(n,t){return{documents:[Lm(n,t.path)]}}function cw(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Lm(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Lm(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const w=_.map(D=>function(S){if("=="===S.op){if(Z0(S.value))return{unaryFilter:{field:kf(S.field),op:"IS_NAN"}};if(G0(S.value))return{unaryFilter:{field:kf(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(Z0(S.value))return{unaryFilter:{field:kf(S.field),op:"IS_NOT_NAN"}};if(G0(S.value))return{unaryFilter:{field:kf(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kf(S.field),op:cI(S.op),value:S.value}}}(D));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(_){if(0!==_.length)return _.map(w=>{return{field:kf((D=w).field),direction:XE(D.dir)};var D})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(w=t.limit,n.dt||_d(w)?w:{value:w});var w,h,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function uw(n){let t=WE(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){St(1===i);const D=e.from[0];D.allDescendants?r=D.collectionId:t=t.child(D.collectionId)}let o=[];e.where&&(o=dw(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(D=>{return new Kc(Jc((S=D).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;e.limit&&(h=function(D){let S;return S="object"==typeof D?D.value:D,_d(S)?null:S}(e.limit));let _=null;var D;e.startAt&&(_=new nl((D=e.startAt).values||[],!!D.before));let w=null;return e.endAt&&(w=function(D){return new nl(D.values||[],!D.before)}(e.endAt)),PE(t,r,u,o,h,"F",_,w)}function dw(n){return n?void 0!==n.unaryFilter?[uI(n)]:void 0!==n.fieldFilter?[la(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>dw(t)).reduce((t,e)=>t.concat(e)):st():[]}function XE(n){return ZE[n]}function cI(n){return zE[n]}function kf(n){return{fieldPath:n.canonicalString()}}function Jc(n){return di.fromServerFormat(n.fieldPath)}function la(n){return yr.create(Jc(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function uI(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Jc(n.unaryFilter.field);return yr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Jc(n.unaryFilter.field);return yr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Jc(n.unaryFilter.field);return yr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Jc(n.unaryFilter.field);return yr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function wR(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function JE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Lr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=eT(t)),t=dI(n.get(e),t);return eT(t)}function dI(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function eT(n){return n+"\x01\x01"}function ca(n){const t=n.length;if(St(t>=2),2===t)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Yt.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&st(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:st()}o=u+2}return new Yt(i)}const tT=["userId","batchId"];function hw(n,t){return[n,Lr(t)]}function fw(n,t,e){return[n,Lr(t),e]}const nT={},hI=["prefixPath","collectionGroup","readTime","documentId"],fI=["prefixPath","collectionGroup","documentId"],iT=["collectionGroup","readTime","prefixPath","documentId"],Vm=["canonicalId","targetId"],pw=["targetId","path"],rT=["path","targetId"],pI=["collectionId","parent"],sT=["indexId","uid"],oT=["uid","sequenceNumber"],mI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gI=["indexId","uid","orderedDocumentKey"],CR=["userId","collectionPath","documentId"],DR=["userId","collectionPath","largestBatchId"],aT=["userId","collectionGroup","largestBatchId"],lT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_I=[...lT,"documentOverlays"],cT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yI=cT,ER=[...yI,"indexConfiguration","indexState","indexEntries"];class uT extends Df{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function vr(n,t){const e=Qe(n);return Qa.N(e.ee,t)}class dT{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&JS(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Md(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Md(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=iI();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const _=J0(u,h);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(xt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Gt())}isEqual(t){return this.batchId===t.batchId&&fd(this.mutations,t.mutations,(e,i)=>eI(e,i))&&fd(this.baseMutations,t.baseMutations,(e,i)=>eI(e,i))}}class mw{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){St(t.mutations.length===i.length);let r=yR;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new mw(t,e,i,r)}}class Rf{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class eu{constructor(t,e,i,r,o=xt.min(),u=xt.min(),h=ii.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new eu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class hT{constructor(t){this.ne=t}}function tu(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Bm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:ev(r=n.ne,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Xy(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Wl(t.version)};else{if(!t.isUnknownDocument())return st();i.unknownDocument={path:e.path.toArray(),version:Wl(t.version)}}var r,o;return i}function Bm(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Wl(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Kl(n){const t=new ni(n.seconds,n.nanoseconds);return xt.fromTimestamp(t)}function Ad(n,t){const e=(t.baseMutations||[]).map(o=>lw(n.ne,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>lw(n.ne,o)),r=ni.fromMillis(t.localWriteTimeMs);return new dT(t.batchId,r,e,i)}function kd(n){const t=Kl(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Kl(n.lastLimboFreeSnapshotVersion):xt.min();let i;var r;return void 0!==n.query.documents?(St(1===(r=n.query).documents.length),i=Ks(Sf(WE(r.documents[0])))):i=Ks(uw(n.query)),new eu(i,n.targetId,0,n.lastListenSequenceNumber,t,e,ii.fromBase64String(n.resumeToken))}function rv(n,t){const e=Wl(t.snapshotVersion),i=Wl(t.lastLimboFreeSnapshotVersion);let r;r=Ly(t.target)?iv(n.ne,t.target):cw(n.ne,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:tl(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function sv(n){const t=uw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$0(t,t.limit,"L"):t}function ov(n,t){return new Rf(t.largestBatchId,lw(n.ne,t.overlayMutation))}function vI(n,t){const e=t.path.lastSegment();return[n,Lr(t.path.popLast()),e]}function bI(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Wl(i.readTime),documentKey:Lr(i.documentKey.path),largestBatchId:i.largestBatchId}}class TR{getBundleMetadata(t,e){return wI(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Kl(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return wI(t).put({bundleId:(i=e).id,createTime:Wl(Ki(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return CI(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:sv(r.bundledQuery),readTime:Kl(r.readTime)};var r})}saveNamedQuery(t,e){return CI(t).put({name:(i=e).name,readTime:Wl(Ki(i.readTime)),bundledQuery:i.bundledQuery});var i}}function wI(n){return vr(n,"bundles")}function CI(n){return vr(n,"namedQueries")}class gw{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new gw(t,e.uid||"")}getOverlay(t,e){return av(t).get(vI(this.userId,e)).next(i=>i?ov(this.wt,i):null)}getOverlays(t,e){const i=aa();return se.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new Rf(e,u);r.push(this.ie(t,h))}),se.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Lr(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(av(t).W("collectionPathOverlayIndex",h))}),se.waitFor(o)}getOverlaysForCollection(t,e,i){const r=aa(),o=Lr(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return av(t).K("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const w=ov(this.wt,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=aa();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return av(t).J({index:"collectionGroupOverlayIndex",range:h},(_,w,D)=>{const S=ov(this.wt,w);o.size()<r||S.largestBatchId===u?(o.set(S.getKey(),S),u=S.largestBatchId):D.done()}).next(()=>o)}ie(t,e){return av(t).put(function(i,r,o){const[u,h,_]=vI(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:_,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Id(i.ne,o.mutation)}}(this.wt,this.userId,e))}}function av(n){return vr(n,"documentOverlays")}class nu{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Mi(t.integerValue));else if("doubleValue"in t){const i=Mi(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),Tf(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(zc(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?z0(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):st()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const r of Object.keys(i))this.le(r,e),this.oe(i[r],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const r of i)this.oe(r,e)}_e(t,e){this.ce(e,37),$e.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function DI(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function pT(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=DI(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}nu.ye=new nu;class EI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ie(i.value),i=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=e.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(t){const e=this.Ve(t),i=pT(e);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}De(t){const e=this.Ve(t),i=pT(e);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Oe(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class TI{constructor(t){this.Me=t}de(t){this.Me.pe(t)}he(t){this.Me.be(t)}ae(t){this.Me.ve(t)}ue(){this.Me.Ce()}}class mT{constructor(t){this.Me=t}de(t){this.Me.Ee(t)}he(t){this.Me.Pe(t)}ae(t){this.Me.De(t)}ue(){this.Me.Ne()}}class Of{constructor(){this.Me=new EI,this.Fe=new TI(this.Me),this.$e=new mT(this.Me)}seed(t){this.Me.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class iu{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new iu(this.indexId,this.documentKey,this.arrayValue,i)}}function Rd(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=gT(n.arrayValue,t.arrayValue),0!==e?e:(e=gT(n.directionalValue,t.directionalValue),0!==e?e:$e.comparator(n.documentKey,t.documentKey)))}function gT(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class _T{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const i=e;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(t){const e=vm(t);if(void 0!==e&&!this.Qe(e))return!1;const i=md(t);let r=0,o=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const u=i[r];if(!this.je(this.Ke,u)||!this.We(this.Ue[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Ue.length||!this.We(this.Ue[o++],u))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class lv{constructor(){this.ze=new yT}addToCollectionParentIndex(t,e){return this.ze.add(e),se.resolve()}getCollectionParents(t,e){return se.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return se.resolve()}deleteFieldIndex(t,e){return se.resolve()}getDocumentsMatchingTarget(t,e){return se.resolve(null)}getIndexType(t,e){return se.resolve(0)}getFieldIndexes(t,e){return se.resolve([])}getNextCollectionGroupToUpdate(t){return se.resolve(null)}getMinOffset(t,e){return se.resolve(xs.min())}getMinOffsetFromCollectionGroup(t,e){return se.resolve(xs.min())}updateCollectionGroup(t,e,i){return se.resolve()}updateIndexEntries(t,e){return se.resolve()}}class yT{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Cn(Yt.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Cn(Yt.comparator)).toArray()}}const Um=new Uint8Array(0);class cv{constructor(t,e){this.user=t,this.databaseId=e,this.He=new yT,this.Je=new Yl(i=>tl(i),(i,r)=>Sm(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const o={collectionId:i,parent:Lr(r)};return vT(t).put(o)}return se.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[gE(e),""],!1,!0);return vT(t).K(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(ca(u.parent))}return i})}addFieldIndex(t,e){const i=uv(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(e.indexState){const u=jm(t);return o.next(h=>{u.put(bI(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=uv(t),r=jm(t),o=Hm(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Hm(t);let r=!0;const o=new Map;return se.forEach(this.Ye(e),u=>this.Xe(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=Gt();const h=[];return se.forEach(o,(_,w)=>{var D;Fe("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(je=>`${je.fieldPath}:${je.kind}`).join(",")}`} to execute ${tl(e)}`);const S=function(je,He){const Dt=vm(He);if(void 0===Dt)return null;for(const Rt of Vy(je,Dt.fieldPath))switch(Rt.op){case"array-contains-any":return Rt.value.arrayValue.values||[];case"array-contains":return[Rt.value]}return null}(w,_),O=function(je,He){const Dt=new Map;for(const Rt of md(He))for(const on of Vy(je,Rt.fieldPath))switch(on.op){case"==":case"in":Dt.set(Rt.fieldPath.canonicalString(),on.value);break;case"not-in":case"!=":return Dt.set(Rt.fieldPath.canonicalString(),on.value),Array.from(Dt.values())}return null}(w,_),L=function(je,He){const Dt=[];let Rt=!0;for(const on of md(He)){const Qi=0===on.kind?Im(je,on.fieldPath,je.startAt):Am(je,on.fieldPath,je.startAt);Dt.push(Qi.value),Rt&&(Rt=Qi.inclusive)}return new nl(Dt,Rt)}(w,_),H=function(je,He){const Dt=[];let Rt=!0;for(const on of md(He)){const Qi=0===on.kind?Am(je,on.fieldPath,je.endAt):Im(je,on.fieldPath,je.endAt);Dt.push(Qi.value),Rt&&(Rt=Qi.inclusive)}return new nl(Dt,Rt)}(w,_),Q=this.Ze(_,w,L),ie=this.Ze(_,w,H),Ue=this.tn(_,w,O),Ke=this.en(_.indexId,S,Q,L.inclusive,ie,H.inclusive,Ue);return se.forEach(Ke,je=>i.j(je,e.limit).next(He=>{He.forEach(Dt=>{const Rt=$e.fromSegments(Dt.documentKey);u.has(Rt)||(u=u.add(Rt),h.push(Rt))})}))}).next(()=>h)}return se.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,i,r,o,u,h){const _=(null!=e?e.length:1)*Math.max(i.length,o.length),w=_/(null!=e?e.length:1),D=[];for(let S=0;S<_;++S){const O=e?this.nn(e[S/w]):Um,L=this.sn(t,O,i[S%w],r),H=this.rn(t,O,o[S%w],u),Q=h.map(ie=>this.sn(t,O,ie,!0));D.push(...this.createRange(L,H,Q))}return D}sn(t,e,i,r){const o=new iu(t,$e.empty(),e,i);return r?o:o.Le()}rn(t,e,i,r){const o=new iu(t,$e.empty(),e,i);return r?o.Le():o}Xe(t,e){const i=new _T(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const h of o)i.Ge(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return se.forEach(this.Ye(e),r=>this.Xe(t,r).next(o=>{o?0!==i&&o.fields.length<function(u){let h=new Cn(di.comparator),_=!1;for(const w of u.filters){const D=w;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?_=!0:h=h.add(D.field))}for(const w of u.orderBy)w.field.isKeyField()||(h=h.add(w.field));return h.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(t,e){const i=new Of;for(const r of md(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.Be(r.kind);nu.ye.re(o,u)}return i.Oe()}nn(t){const e=new Of;return nu.ye.re(t,e.Be(0)),e.Oe()}un(t,e){const i=new Of;return nu.ye.re(Wc(this.databaseId,e),i.Be(function(r){const o=md(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Oe()}tn(t,e,i){if(null===i)return[];let r=[];r.push(new Of);let o=0;for(const u of md(t)){const h=i[o++];for(const _ of r)if(this.cn(e,u.fieldPath)&&xf(h))r=this.an(r,u,h);else{const w=_.Be(u.kind);nu.ye.re(h,w)}}return this.hn(r)}Ze(t,e,i){return this.tn(t,e,i.position)}hn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Oe();return e}an(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const _=new Of;_.seed(h.Oe()),nu.ye.re(u,_.Be(e.kind)),o.push(_)}return o}cn(t,e){return!!t.filters.find(i=>i instanceof yr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=uv(t),r=jm(t);return(e?i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.K()).next(o=>{const u=[];return se.forEach(o,h=>r.get([h.indexId,this.uid]).next(_=>{u.push(function(w,D){const S=D?new wm(D.sequenceNumber,new xs(Kl(D.readTime),new $e(ca(D.documentKey)),D.largestBatchId)):wm.empty(),O=w.fields.map(([L,H])=>new bm(di.fromServerFormat(L),H));return new Ay(w.indexId,w.collectionGroup,O,S)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Vt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=uv(t),o=jm(t);return this.ln(t).next(u=>r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>se.forEach(h,_=>o.put(bI(_.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return se.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?se.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),se.forEach(h,_=>this.fn(t,r,_).next(w=>{const D=this.dn(o,_);return w.isEqual(D)?se.resolve():this._n(t,o,_,w,D)}))))})}wn(t,e,i,r){return Hm(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,e.key),documentKey:e.key.path.toArray()})}mn(t,e,i,r){return Hm(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,e.key),e.key.path.toArray()])}fn(t,e,i){const r=Hm(t);let o=new Cn(Rd);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,e)])},(u,h)=>{o=o.add(new iu(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}dn(t,e){let i=new Cn(Rd);const r=this.on(e,t);if(null==r)return i;const o=vm(e);if(null!=o){const u=t.data.field(o.fieldPath);if(xf(u))for(const h of u.arrayValue.values||[])i=i.add(new iu(e.indexId,t.key,this.nn(h),r))}else i=i.add(new iu(e.indexId,t.key,Um,r));return i}_n(t,e,i,r,o){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,_,w,D,S){const O=h.getIterator(),L=_.getIterator();let H=Dm(O),Q=Dm(L);for(;H||Q;){let ie=!1,Ue=!1;if(H&&Q){const Ke=w(H,Q);Ke<0?Ue=!0:Ke>0&&(ie=!0)}else null!=H?Ue=!0:ie=!0;ie?(D(Q),Q=Dm(L)):Ue?(S(H),H=Dm(O)):(H=Dm(O),Q=Dm(L))}}(r,o,Rd,h=>{u.push(this.wn(t,e,i,h))},h=>{u.push(this.mn(t,e,i,h))}),se.waitFor(u)}ln(t){let e=1;return jm(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>Rd(u,h)).filter((u,h,_)=>!h||0!==Rd(u,_[h-1]));const r=[];r.push(t);for(const u of i){const h=Rd(u,t),_=Rd(u,e);if(0===h)r[0]=t.Le();else if(h>0&&_<0)r.push(u),r.push(u.Le());else if(_>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2)o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,Um,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,Um,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(MI)}getMinOffset(t,e){return se.mapArray(this.Ye(e),i=>this.Xe(t,i).next(r=>r||st())).next(MI)}}function vT(n){return vr(n,"collectionParents")}function Hm(n){return vr(n,"indexEntries")}function uv(n){return vr(n,"indexConfiguration")}function jm(n){return vr(n,"indexState")}function MI(n){St(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;vE(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new xs(t.readTime,t.documentKey,e)}const bT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ss{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ss(t,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wT(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const _=i.J({range:u},(D,S,O)=>(h++,O.delete()));o.push(_.next(()=>{St(1===h)}));const w=[];for(const D of e.mutations){const S=fw(t,D.key.path,e.batchId);o.push(r.delete(S)),w.push(D.key)}return se.waitFor(o).next(()=>w)}function dv(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw st();t=n.noDocument}return JSON.stringify(t).length}Ss.DEFAULT_COLLECTION_PERCENTILE=10,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ss.DEFAULT=new Ss(41943040,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ss.DISABLED=new Ss(-1,0,0);class hv{constructor(t,e,i,r){this.userId=t,this.wt=e,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(t,e,i,r){St(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new hv(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ru(t).J({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=Pf(t),u=ru(t);return u.add({}).next(h=>{St("number"==typeof h);const _=new dT(h,e,i,r),w=function(O,L,H){const Q=H.baseMutations.map(Ue=>Id(O.ne,Ue)),ie=H.mutations.map(Ue=>Id(O.ne,Ue));return{userId:L,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:Q,mutations:ie}}(this.wt,this.userId,_),D=[];let S=new Cn((O,L)=>Vt(O.canonicalString(),L.canonicalString()));for(const O of r){const L=fw(this.userId,O.key.path,h);S=S.add(O.key.path.popLast()),D.push(u.put(w)),D.push(o.put(L,nT))}return S.forEach(O=>{D.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.gn[h]=_.keys()}),se.waitFor(D).next(()=>_)})}lookupMutationBatch(t,e){return ru(t).get(e).next(i=>i?(St(i.userId===this.userId),Ad(this.wt,i)):null)}yn(t,e){return this.gn[e]?se.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.gn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return ru(t).J({index:"userMutationsIndex",range:r},(u,h,_)=>{h.userId===this.userId&&(St(h.batchId>=i),o=Ad(this.wt,h)),_.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ru(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ru(t).K("userMutationsIndex",e).next(i=>i.map(r=>Ad(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=hw(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Pf(t).J({range:r},(u,h,_)=>{const[w,D,S]=u,O=ca(D);if(w===this.userId&&e.path.isEqual(O))return ru(t).get(S).next(L=>{if(!L)throw st();St(L.userId===this.userId),o.push(Ad(this.wt,L))});_.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Cn(Vt);const r=[];return e.forEach(o=>{const u=hw(this.userId,o.path),h=IDBKeyRange.lowerBound(u),_=Pf(t).J({range:h},(w,D,S)=>{const[O,L,H]=w,Q=ca(L);O===this.userId&&o.path.isEqual(Q)?i=i.add(H):S.done()});r.push(_)}),se.waitFor(r).next(()=>this.pn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=hw(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new Cn(Vt);return Pf(t).J({range:u},(_,w,D)=>{const[S,O,L]=_,H=ca(O);S===this.userId&&i.isPrefixOf(H)?H.length===r&&(h=h.add(L)):D.done()}).next(()=>this.pn(t,h))}pn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(ru(t).get(o).next(u=>{if(null===u)throw st();St(u.userId===this.userId),i.push(Ad(this.wt,u))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return wT(t.ee,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Pf(t).J({range:i},(o,u,h)=>{if(o[0]===this.userId){const _=ca(o[1]);r.push(_)}else h.done()}).next(()=>{St(0===r.length)})})}containsKey(t,e){return CT(t,this.userId,e)}Tn(t){return xI(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function CT(n,t,e){const i=hw(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return Pf(n).J({range:o,H:!0},(h,_,w)=>{const[D,S,O]=h;D===t&&S===r&&(u=!0),w.done()}).next(()=>u)}function ru(n){return vr(n,"mutations")}function Pf(n){return vr(n,"documentMutations")}function xI(n){return vr(n,"mutationQueues")}class Ff{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new Ff(0)}static Rn(){return new Ff(-1)}}class MR{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const i=new Ff(e.highestTargetId);return e.highestTargetId=i.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>xt.fromTimestamp(new ni(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Pn(t,r)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(i=>(i.targetCount+=1,this.Vn(e,i),this.Pn(t,i))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>qm(t).delete(e.targetId)).next(()=>this.bn(t)).next(i=>(St(i.targetCount>0),i.targetCount-=1,this.Pn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return qm(t).J((u,h)=>{const _=kd(h);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,o.push(this.removeTargetData(t,_)))}).next(()=>se.waitFor(o)).next(()=>r)}forEachTarget(t,e){return qm(t).J((i,r)=>{const o=kd(r);e(o)})}bn(t){return SI(t).get("targetGlobalKey").next(e=>(St(null!==e),e))}Pn(t,e){return SI(t).put("targetGlobalKey",e)}vn(t,e){return qm(t).put(rv(this.wt,e))}Vn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=tl(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return qm(t).J({range:r,index:"queryTargetsIndex"},(u,h,_)=>{const w=kd(h);Sm(e,w.target)&&(o=w,_.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=su(t);return e.forEach(u=>{const h=Lr(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),se.waitFor(r)}removeMatchingKeys(t,e,i){const r=su(t);return se.forEach(e,o=>{const u=Lr(o.path);return se.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=su(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=su(t);let o=Gt();return r.J({range:i,H:!0},(u,h,_)=>{const w=ca(u[1]),D=new $e(w);o=o.add(D)}).next(()=>o)}containsKey(t,e){const i=Lr(e.path),r=IDBKeyRange.bound([i],[gE(i)],!1,!0);let o=0;return su(t).J({index:"documentTargetsIndex",H:!0,range:r},([u,h],_,w)=>{0!==u&&(o++,w.done())}).next(()=>o>0)}te(t,e){return qm(t).get(e).next(i=>i?kd(i):null)}}function qm(n){return vr(n,"targets")}function SI(n){return vr(n,"targetGlobal")}function su(n){return vr(n,"targetDocuments")}function II([n,t],[e,i]){const r=Vt(n,e);return 0===r?Vt(t,i):r}class xR{constructor(t){this.Sn=t,this.buffer=new Cn(II),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();II(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class SR{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,me.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Gc(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield jc(i)}yield e.kn(3e5)}))}}class IR{constructor(t,e){this.On=t,this.params=e}calculateTargetCount(t,e){return this.On.Mn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return se.resolve(sr.ot);const i=new xR(e);return this.On.forEachTarget(t,r=>i.xn(r.sequenceNumber)).next(()=>this.On.Fn(t,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.On.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.On.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(bT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bT):this.$n(t,e))}getCacheSize(t){return this.On.getCacheSize(t)}$n(t,e){let i,r,o,u,h,_,w;const D=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,u=Date.now(),this.nthSequenceNumber(t,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(t,i,e))).next(S=>(o=S,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(S=>(w=Date.now(),L0()<=Bl.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(_-h)+`ms\n\tRemoved ${S} documents in `+(w-_)+`ms\nTotal Duration: ${w-D}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:S})))}}class a{constructor(t,e){this.db=t,this.garbageCollector=new IR(this,e)}Mn(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Bn(t){let e=0;return this.Fn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(i,r)=>e(r))}addReference(t,e,i){return l(t,i)}removeReference(t,e,i){return l(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return l(t,e)}Un(t,e){return function(i,r){let o=!1;return xI(i).Y(u=>CT(i,u,r).next(h=>(h&&(o=!0),se.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Ln(t,(u,h)=>{if(h<=e){const _=this.Un(t,u).next(w=>{if(!w)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,xt.min()),su(t).delete([0,Lr(u.path)])))});r.push(_)}}).next(()=>se.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return l(t,e)}Ln(t,e){const i=su(t);let r,o=sr.ot;return i.J({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:w})=>{0===u?(o!==sr.ot&&e(new $e(ca(r)),o),o=w,r=_):o=sr.ot}).next(()=>{o!==sr.ot&&e(new $e(ca(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function l(n,t){return su(n).put((i=n.currentSequenceNumber,{targetId:0,path:Lr(t.path),sequenceNumber:i}));var i}class c{constructor(){this.changes=new Yl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?se.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class d{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return C(t).put(i)}removeEntry(t,e,i){return C(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Bm(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.qn(t,i)))}getEntry(t,e){let i=Sn.newInvalidDocument(e);return C(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(E(e))},(r,o)=>{i=this.Kn(e,o)}).next(()=>i)}Gn(t,e){let i={size:0,document:Sn.newInvalidDocument(e)};return C(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(E(e))},(r,o)=>{i={document:this.Kn(e,o),size:dv(o)}}).next(()=>i)}getEntries(t,e){let i=Kr();return this.Qn(t,e,(r,o)=>{const u=this.Kn(r,o);i=i.insert(r,u)}).next(()=>i)}jn(t,e){let i=Kr(),r=new yi($e.comparator);return this.Qn(t,e,(o,u)=>{const h=this.Kn(o,u);i=i.insert(o,h),r=r.insert(o,dv(u))}).next(()=>({documents:i,Wn:r}))}Qn(t,e,i){if(e.isEmpty())return se.resolve();let r=new Cn(k);e.forEach(_=>r=r.add(_));const o=IDBKeyRange.bound(E(r.first()),E(r.last())),u=r.getIterator();let h=u.getNext();return C(t).J({index:"documentKeyIndex",range:o},(_,w,D)=>{const S=$e.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;h&&k(h,S)<0;)i(h,null),h=u.getNext();h&&h.isEqual(S)&&(i(h,w),h=u.hasNext()?u.getNext():null),h?D.q(E(h)):D.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),Bm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return C(t).K(IDBKeyRange.bound(r,o,!0)).next(u=>{let h=Kr();for(const _ of u){const w=this.Kn($e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);h=h.insert(w.key,w)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=Kr();const u=I(e,i),h=I(e,xs.max());return C(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,w,D)=>{const S=this.Kn($e.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);o=o.insert(S.key,S),o.size===r&&D.done()}).next(()=>o)}newChangeBuffer(t){return new g(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return v(t).get("remoteDocumentGlobalKey").next(e=>(St(!!e),e))}qn(t,e){return v(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const i=function fT(n,t){let e;if(t.document)e=QE(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=$e.fromSegments(t.noDocument.path),r=Kl(t.noDocument.readTime);e=Sn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return st();{const i=$e.fromSegments(t.unknownDocument.path),r=Kl(t.unknownDocument.version);e=Sn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ni(i[0],i[1]);return xt.fromTimestamp(r)}(t.readTime)),e}(this.wt,e);if(!i.isNoDocument()||!i.version.isEqual(xt.min()))return i}return Sn.newInvalidDocument(t)}}function f(n){return new d(n)}class g extends c{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new Yl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Cn((o,u)=>Vt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Hn.get(o);if(e.push(this.zn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const _=tu(this.zn.wt,u);r=r.add(o.path.popLast()),i+=dv(_)-h.size,e.push(this.zn.addEntry(t,o,_))}else if(i-=h.size,this.trackRemovals){const _=tu(this.zn.wt,u.convertToNoDocument(xt.min()));e.push(this.zn.addEntry(t,o,_))}}),r.forEach(o=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.zn.updateMetadata(t,i)),se.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(i=>(this.Hn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:i,Wn:r})=>(r.forEach((o,u)=>{this.Hn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function v(n){return vr(n,"remoteDocumentGlobal")}function C(n){return vr(n,"remoteDocumentsV14")}function E(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function I(n,t){const e=t.documentKey.path.toArray();return[n,Bm(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function k(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Vt(e[o],i[o]),r)return r;return r=Vt(e.length,i.length),r||(r=Vt(e[e.length-2],i[i.length-2]),r||Vt(e[e.length-1],i[i.length-1]))}class N{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Z{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Md(i.mutation,r,Ys.empty(),ni.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Gt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Gt()){const r=aa();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=Nm();return o.forEach((h,_)=>{u=u.insert(h,_.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=aa();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Gt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=Kr();const u=Yy(),h=Yy();return e.forEach((_,w)=>{const D=i.get(w.key);r.has(w.key)&&(void 0===D||D.mutation instanceof $l)?o=o.insert(w.key,w):void 0!==D&&(u.set(w.key,D.mutation.getFieldMask()),Md(D.mutation,w,D.mutation.getFieldMask(),ni.now()))}),this.recalculateAndSaveOverlays(t,o).next(_=>(_.forEach((w,D)=>u.set(w,D)),e.forEach((w,D)=>{var S;return h.set(w,new N(D,null!==(S=u.get(w))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Yy();let r=new yi((u,h)=>u-h),o=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(_=>{const w=e.get(_);if(null===w)return;let D=i.get(_)||Ys.empty();D=h.applyToLocalView(w,D),i.set(_,D);const S=(r.get(h.batchId)||Gt()).add(_);r=r.insert(h.batchId,S)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),w=_.key,D=_.value,S=iI();D.forEach(O=>{if(!o.has(O)){const L=J0(e.get(O),i.get(O));null!==L&&S.set(O,L),o=o.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(t,w,S))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return $e.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):qy(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):se.resolve(aa());let h=-1,_=o;return u.next(w=>se.forEach(w,(D,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(D)?se.resolve():this.getBaseDocument(t,D,S).next(O=>{_=_.insert(D,O)}))).next(()=>this.populateOverlays(t,w,o)).next(()=>this.computeViews(t,_,w,Gt())).next(D=>({batchId:h,changes:nI(D)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new $e(e)).next(i=>{let r=Nm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=Nm();return this.indexManager.getCollectionParents(t,r).next(u=>se.forEach(u,h=>{const _=(w=e,D=h.child(r),new zl(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(t,_,i).next(w=>{w.forEach((D,S)=>{o=o.insert(D,S)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((h,_)=>{const w=_.getKey();null===r.get(w)&&(r=r.insert(w,Sn.newInvalidDocument(w)))});let u=Nm();return r.forEach((h,_)=>{const w=o.get(h);void 0!==w&&Md(w.mutation,_,Ys.empty(),ni.now()),W0(e,_)&&(u=u.insert(h,_))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):se.resolve(Sn.newInvalidDocument(e))}}class X{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return se.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:Ki(i.createTime)}),se.resolve()}getNamedQuery(t,e){return se.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:sv(i.bundledQuery),readTime:Ki(i.readTime)}),se.resolve();var i}}class be{constructor(){this.overlays=new yi($e.comparator),this.Xn=new Map}getOverlay(t,e){return se.resolve(this.overlays.get(e))}getOverlays(t,e){const i=aa();return se.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ie(t,e,o)}),se.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Xn.delete(i)),se.resolve()}getOverlaysForCollection(t,e,i){const r=aa(),o=e.length+1,u=new $e(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,w=_.getKey();if(!e.isPrefixOf(w.path))break;w.path.length===o&&_.largestBatchId>i&&r.set(_.getKey(),_)}return se.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new yi((w,D)=>w-D);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===e&&w.largestBatchId>i){let D=o.get(w.largestBatchId);null===D&&(D=aa(),o=o.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const h=aa(),_=o.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,D)=>h.set(w,D)),!(h.size()>=r)););return se.resolve(h)}ie(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Rf(e,i));let o=this.Xn.get(e);void 0===o&&(o=Gt(),this.Xn.set(e,o)),this.Xn.set(e,o.add(i.key))}}class Ve{constructor(){this.Zn=new Cn(Ne.ts),this.es=new Cn(Ne.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new Ne(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new Ne(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new $e(new Yt([])),i=new Ne(e,t),r=new Ne(e,t+1),o=[];return this.es.forEachInRange([i,r],u=>{this.rs(u),o.push(u.key)}),o}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new $e(new Yt([])),i=new Ne(e,t),r=new Ne(e,t+1);let o=Gt();return this.es.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Ne(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ne{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return $e.comparator(t.key,e.key)||Vt(t.ls,e.ls)}static ns(t,e){return Vt(t.ls,e.ls)||$e.comparator(t.key,e.key)}}class ot{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new Cn(Ne.ts)}checkEmpty(t){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.fs;this.fs++;const u=new dT(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.ds=this.ds.add(new Ne(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(t,e){return se.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ws(e+1),o=r<0?0:r;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ne(e,0),r=new Ne(e,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([i,r],u=>{const h=this._s(u.ls);o.push(h)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Cn(Vt);return e.forEach(r=>{const o=new Ne(r,0),u=new Ne(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([o,u],h=>{i=i.add(h.ls)})}),se.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;$e.isDocumentKey(o)||(o=o.child(""));const u=new Ne(new $e(o),0);let h=new Cn(Vt);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(h=h.add(_.ls)),!0)},u),se.resolve(this.gs(h))}gs(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){St(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return se.forEach(e.mutations,r=>{const o=new Ne(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new Ne(e,0),r=this.ds.firstAfterOrEqual(i);return se.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return se.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class De{constructor(t){this.ps=t,this.docs=new yi($e.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return se.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(e))}getEntries(t,e){let i=Kr();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Sn.newInvalidDocument(r))}),se.resolve(i)}getAllFromCollection(t,e,i){let r=Kr();const o=new $e(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:_}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||vE(yE(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return se.resolve(r)}getAllFromCollectionGroup(t,e,i,r){st()}Is(t,e){return se.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new _t(this)}getSize(t){return se.resolve(this.size)}}class _t extends c{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(i)}),se.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class $t{constructor(t){this.persistence=t,this.Ts=new Yl(e=>tl(e),Sm),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Es=0,this.As=new Ve,this.targetCount=0,this.Rs=Ff.An()}forEachTarget(t,e){return this.Ts.forEach((i,r)=>e(r)),se.resolve()}getLastRemoteSnapshotVersion(t){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return se.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),se.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Ff(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,se.resolve()}updateTargetData(t,e){return this.vn(e),se.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,se.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Ts.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Ts.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),se.waitFor(o).next(()=>r)}getTargetCount(t){return se.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return se.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),se.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),se.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),se.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return se.resolve(i)}containsKey(t,e){return se.resolve(this.As.containsKey(e))}}class gn{constructor(t,e){this.bs={},this.overlays={},this.Ps=new sr(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new $t(this),this.indexManager=new lv,this.remoteDocumentCache=new De(i=>this.referenceDelegate.Ss(i)),this.wt=new hT(e),this.Ds=new X(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new be,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new ot(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){Fe("MemoryPersistence","Starting transaction:",t);const r=new Xs(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(o=>this.referenceDelegate.xs(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ns(t,e){return se.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class Xs extends Df{constructor(t){super(),this.currentSequenceNumber=t}}class rl{constructor(t){this.persistence=t,this.ks=new Ve,this.Os=null}static Ms(t){return new rl(t)}get Fs(){if(this.Os)return this.Os;throw st()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),se.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),se.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),se.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Fs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Os=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Fs,i=>{const r=$e.fromPath(i);return this.$s(t,r).next(o=>{o||e.removeEntry(r,xt.min())})}).next(()=>(this.Os=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return se.or([()=>se.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class _w{constructor(t){this.wt=t}O(t,e,i,r){const o=new ky("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tT,{unique:!0}),h.createObjectStore("documentMutations"),fv(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=se.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),fv(t)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,_){return _.store("mutations").K().next(w=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tT,{unique:!0});const D=_.store("mutations"),S=w.map(O=>D.put(O));return se.waitFor(S)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Bs(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(o)))),i<7&&r>=7&&(u=u.next(()=>this.Us(o))),i<8&&r>=8&&(u=u.next(()=>this.qs(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Ks(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:CR});_.createIndex("collectionPathOverlayIndex",DR,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",aT,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:hI});_.createIndex("documentKeyIndex",fI),_.createIndex("collectionGroupIndex",iT)}(t)).next(()=>this.Gs(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.Qs(t,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:sT}).createIndex("sequenceNumberIndex",oT,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:mI}).createIndex("documentKeyIndex",gI,{unique:!1})}(t))),u}Ls(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=dv(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.K().next(r=>se.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",u).next(h=>se.forEach(h,_=>{St(_.userId===o.userId);const w=Ad(this.wt,_);return wT(t,o.userId,w).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((u,h)=>{const _=new Yt(u),w=[0,Lr(_)];o.push(e.get(w).next(D=>D?se.resolve():e.put({targetId:0,path:Lr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(o))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:pI});const i=e.store("collectionParents"),r=new yT,o=u=>{if(r.add(u)){const h=u.lastSegment(),_=u.popLast();return i.put({collectionId:h,parent:Lr(_)})}};return e.store("remoteDocuments").J({H:!0},(u,h)=>{const _=new Yt(u);return o(_.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([u,h,_],w)=>{const D=ca(h);return o(D.popLast())}))}Ks(t){const e=t.store("targets");return e.J((i,r)=>{const o=kd(r),u=rv(this.wt,o);return e.put(u)})}Gs(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,u)=>{const h=e.store("remoteDocumentsV14"),_=(w=u,w.document?new $e(Yt.fromString(w.document.name).popFirst(5)):w.noDocument?$e.fromSegments(w.noDocument.path):w.unknownDocument?$e.fromSegments(w.unknownDocument.path):st()).path.toArray();var w;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(D))}).next(()=>se.waitFor(r))}Qs(t,e){const i=e.store("mutations"),r=f(this.wt),o=new gn(rl.Ms,this.wt.ne);return i.K().next(u=>{const h=new Map;return u.forEach(_=>{var w;let D=null!==(w=h.get(_.userId))&&void 0!==w?w:Gt();Ad(this.wt,_).keys().forEach(S=>D=D.add(S)),h.set(_.userId,D)}),se.forEach(h,(_,w)=>{const D=new Yi(w),S=gw.se(this.wt,D),O=o.getIndexManager(D),L=hv.se(D,this.wt,O,o.referenceDelegate);return new Z(r,L,S,O).recalculateAndSaveOverlaysForDocumentKeys(new uT(e,sr.ot),_).next()})})}}function fv(n){n.createObjectStore("targetDocuments",{keyPath:pw}).createIndex("documentTargetsIndex",rT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Vm,{unique:!0}),n.createObjectStore("targetGlobal")}const Gm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Zm{constructor(t,e,i,r,o,u,h,_,w,D,S=14){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.js=o,this.window=u,this.document=h,this.Ws=w,this.zs=D,this.Hs=S,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=O=>Promise.resolve(),!Zm.V())throw new Ie(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new a(this,r),this.ei=e+"main",this.wt=new hT(_),this.ni=new Qa(this.ei,this.Hs,new _w(this.wt)),this.Vs=new MR(this.referenceDelegate,this.wt),this.remoteDocumentCache=f(this.wt),this.Ds=new TR,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===D&&_i("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ie(de.FAILED_PRECONDITION,Gm);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new sr(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var i=(0,me.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,me.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,me.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Nf(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(Gc(t))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return Od(t).get("owner").next(e=>se.resolve(this.di(e)))}_i(t){return Nf(t).delete(this.clientId)}wi(){var t=this;return(0,me.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=vr(i,"clientMetadata");return r.K().next(o=>{const u=t.gi(o,18e5),h=o.filter(_=>-1===u.indexOf(_));return se.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(t.si)for(const i of e)t.si.removeItem(t.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?se.resolve(!0):Od(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new Ie(de.FAILED_PRECONDITION,Gm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Nf(t).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Fe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,me.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new uT(e,sr.ot);return t.li(i).next(()=>t._i(i))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(i=>this.mi(i.updateTimeMs,e)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>Nf(t).K().next(e=>this.gi(e,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return hv.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new cv(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return gw.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,i){Fe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(u=this.Hs)?ER:14===u?yI:13===u?cT:12===u?_I:11===u?lT:void st();var u;let h;return this.ni.runTransaction(t,r,o,_=>(h=new uT(_,this.Ps?this.Ps.next():sr.ot),"readwrite-primary"===e?this.ai(h).next(w=>!!w||this.hi(h)).next(w=>{if(!w)throw _i(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ie(de.FAILED_PRECONDITION,bE);return i(h)}).next(w=>this.fi(h).next(()=>w)):this.bi(h).next(()=>i(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}bi(t){return Od(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ie(de.FAILED_PRECONDITION,Gm)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Od(t).put("owner",e)}static V(){return Qa.V()}li(t){const e=Od(t);return e.get("owner").next(i=>this.di(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):se.resolve())}mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(_i(`Detected an update time that is in the future: ${t} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Tt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const i=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return Fe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return _i("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){_i("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(t){}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Od(n){return vr(n,"owner")}function Nf(n){return vr(n,"clientMetadata")}function zm(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class $m{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=r}static Vi(t,e){let i=Gt(),r=Gt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new $m(t,e.fromCache,i,r)}}class pv{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ci(t,e).next(o=>o||this.xi(t,e,r,i)).next(o=>o||this.Ni(t,e))}Ci(t,e){return se.resolve(null)}xi(t,e,i,r){return function QS(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(xt.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(o=>{const u=this.ki(e,o);return this.Oi(e,u,i,r)?this.Ni(t,e):(L0()<=Bl.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gy(e)),this.Mi(t,u,e,V0(r,-1)))})}ki(t,e){let i=new Cn(FE(t));return e.forEach((r,o)=>{W0(t,o)&&(i=i.add(o))}),i}Oi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ni(t,e){return L0()<=Bl.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Gy(e)),this.Di.getDocumentsMatchingQuery(t,e,xs.min())}Mi(t,e,i,r){return this.Di.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class rV{constructor(t,e,i,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new yi(Vt),this.Bi=new Yl(o=>tl(o),Sm),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Z(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function AR(n,t,e,i){return new rV(n,t,e,i)}function kR(n,t){return AI.apply(this,arguments)}function AI(){return AI=(0,me.Z)(function*(n,t){const e=Qe(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let _=Gt();for(const w of r){u.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}for(const w of o){h.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}return e.localDocuments.getDocuments(i,_).next(w=>({Ki:w,removedBatchIds:u,addedBatchIds:h}))})})}),AI.apply(this,arguments)}function sV(n,t){const e=Qe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Ui.newChangeBuffer({trackRemovals:!0});return function(u,h,_,w){const D=_.batch,S=D.keys();let O=se.resolve();return S.forEach(L=>{O=O.next(()=>w.getEntry(h,L)).next(H=>{const Q=_.docVersions.get(L);St(null!==Q),H.version.compareTo(Q)<0&&(D.applyToRemoteDocument(H,_),H.isValidDocument()&&(H.setReadTime(_.commitVersion),w.addEntry(H)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(h,D))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Gt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(h=h.add(u.batch.mutations[_].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function RR(n){const t=Qe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function oV(n,t){const e=Qe(n),i=t.snapshotVersion;let r=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Ui.newChangeBuffer({trackRemovals:!0});r=e.$i;const h=[];t.targetChanges.forEach((D,S)=>{const O=r.get(S);if(!O)return;h.push(e.Vs.removeMatchingKeys(o,D.removedDocuments,S).next(()=>e.Vs.addMatchingKeys(o,D.addedDocuments,S)));let L=O.withSequenceNumber(o.currentSequenceNumber);var H,Q,ie;t.targetMismatches.has(S)?L=L.withResumeToken(ii.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):D.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(D.resumeToken,i)),r=r.insert(S,L),Q=L,ie=D,(0===(H=O).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&h.push(e.Vs.updateTargetData(o,L))});let _=Kr(),w=Gt();if(t.documentUpdates.forEach(D=>{t.resolvedLimboDocuments.has(D)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,D))}),h.push(OR(o,u,t.documentUpdates).next(D=>{_=D.Gi,w=D.Qi})),!i.isEqual(xt.min())){const D=e.Vs.getLastRemoteSnapshotVersion(o).next(S=>e.Vs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(D)}return se.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,_,w)).next(()=>_)}).then(o=>(e.$i=r,o))}function OR(n,t,e){let i=Gt(),r=Gt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=Kr();return e.forEach((h,_)=>{const w=o.get(h);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(h)),_.isNoDocument()&&_.version.isEqual(xt.min())?(t.removeEntry(h,_.readTime),u=u.insert(h,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(t.addEntry(_),u=u.insert(h,_)):Fe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",w.version," Watch version:",_.version)}),{Gi:u,Qi:r}})}function aV(n,t){const e=Qe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function mv(n,t){const e=Qe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Vs.getTargetData(i,t).next(o=>o?(r=o,se.resolve(r)):e.Vs.allocateTargetId(i).next(u=>(r=new eu(t,u,0,i.currentSequenceNumber),e.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function gv(n,t,e){return kI.apply(this,arguments)}function kI(){return kI=(0,me.Z)(function*(n,t,e){const i=Qe(n),r=i.$i.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Gc(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.$i=i.$i.remove(t),i.Bi.delete(r.target)}),kI.apply(this,arguments)}function DT(n,t,e){const i=Qe(n);let r=xt.min(),o=Gt();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,_,w){const D=Qe(h),S=D.Bi.get(w);return void 0!==S?se.resolve(D.$i.get(S)):D.Vs.getTargetData(_,w)}(i,u,Ks(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(u,h.targetId).next(_=>{o=_})}).next(()=>i.Fi.getDocumentsMatchingQuery(u,t,e?r:xt.min(),e?o:Gt())).next(h=>(NR(i,K0(t),h),{documents:h,ji:o})))}function PR(n,t){const e=Qe(n),i=Qe(e.Vs),r=e.$i.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.te(o,t).next(u=>u?u.target:null))}function FR(n,t){const e=Qe(n),i=e.Li.get(t)||xt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Ui.getAllFromCollectionGroup(r,t,V0(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(NR(e,t,r),r))}function NR(n,t,e){let i=xt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Li.set(t,i)}function RI(){return RI=(0,me.Z)(function*(n,t,e,i){const r=Qe(n);let o=Gt(),u=Kr();for(const w of e){const D=t.Wi(w.metadata.name);w.document&&(o=o.add(D));const S=t.zi(w);S.setReadTime(t.Hi(w.metadata.readTime)),u=u.insert(D,S)}const h=r.Ui.newChangeBuffer({trackRemovals:!0}),_=yield mv(r,(w=i,Ks(Sf(Yt.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>OR(w,h,u).next(D=>(h.apply(w),D)).next(D=>r.Vs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Vs.addMatchingKeys(w,o,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,D.Gi,D.Qi)).next(()=>D.Gi)))}),RI.apply(this,arguments)}function cV(n,t){return OI.apply(this,arguments)}function OI(){return OI=(0,me.Z)(function*(n,t,e=Gt()){const i=yield mv(n,Ks(sv(t.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Ki(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ds.saveNamedQuery(o,t);const h=i.withResumeToken(ii.EMPTY_BYTE_STRING,u);return r.$i=r.$i.insert(h.targetId,h),r.Vs.updateTargetData(o,h).next(()=>r.Vs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Vs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ds.saveNamedQuery(o,t))})}),OI.apply(this,arguments)}function LR(n,t){return`firestore_clients_${n}_${t}`}function VR(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function PI(n,t){return`firestore_targets_${n}_${t}`}class ET{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ie(r.error.code,r.error.message))),u?new ET(t,e,r.state,o):(_i("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class yw{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ie(i.error.code,i.error.message))),o?new yw(t,i.state,r):(_i("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class TT{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=rw();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=q0(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new TT(t,o):(_i("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class FI{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new FI(e.clientId,e.onlineState):(_i("SharedClientState",`Failed to parse online state: ${t}`),null)}}class NI{constructor(){this.activeTargetIds=rw()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LI{constructor(t,e,i,r,o){this.window=t,this.js=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new yi(Vt),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=LR(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new NI),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,me.Z)(function*(){const e=yield t.syncEngine.Ri();for(const r of e){if(r===t.tr)continue;const o=t.getItem(LR(t.persistenceKey,r));if(o){const u=TT.Ji(r,o);u&&(t.sr=t.sr.insert(u.clientId,u))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(PI(this.persistenceKey,t));if(i){const r=yw.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(PI(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Fe("SharedClientState","READ",t,e),e}setItem(t,e){Fe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Fe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void _i("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,me.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.ar.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(o){let u=sr.ot;if(null!=o)try{const h=JSON.parse(o);St("number"==typeof h),u=h}catch(h){_i("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==sr.ot&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Nr(o)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new ET(this.currentUser,t,e,i),o=VR(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Yi())}pr(t){const e=VR(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=PI(this.persistenceKey,t),o=new yw(t,e,i);this.setItem(r,o.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return TT.Ji(i,e)}vr(t,e){const i=this.ar.exec(t),r=Number(i[1]);return ET.Ji(new Yi(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return yw.Ji(r,e)}wr(t){return FI.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,me.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Or(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),o=this.gr(i),u=[],h=[];return o.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{o.has(_)||h.push(_)}),this.syncEngine.Mr(u,h).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=rw();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class BR{constructor(){this.Fr=new NI,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new NI,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class uV{Br(t){}shutdown(){}}class UR{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const dV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class hV{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class fV extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,o){const u=this.oo(t,e);Fe("RestConnection","Sending: ",u,i);const h={};return this.uo(h,r,o),this.co(t,u,h,i).then(_=>(Fe("RestConnection","Received: ",_),_),_=>{throw ym("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}ao(t,e,i,r,o,u){return this.ro(t,e,i,r,o)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Cf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}oo(t,e){return`${this.so}/v1/${e}:${dV[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((o,u)=>{const h=new wf;h.listenOnce(RS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case F0.NO_ERROR:const w=h.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(w)),o(w);break;case F0.TIMEOUT:Fe("Connection",'RPC "'+t+'" timed out'),u(new Ie(de.DEADLINE_EXCEEDED,"Request time out"));break;case F0.HTTP_ERROR:const D=h.getStatus();if(Fe("Connection",'RPC "'+t+'" failed with status:',D,"response text:",h.getResponseText()),D>0){const S=h.getResponseJson().error;if(S&&S.status&&S.message){const O=function(L){const H=L.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(H)>=0?H:de.UNKNOWN}(S.status);u(new Ie(O,S.message))}else u(new Ie(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ie(de.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Fe("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);h.send(e,"POST",_,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=AS(),u=kS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new PS({})),this.uo(h.initMessageHeaders,e,i),(0,Tt.uI)()||(0,Tt.b$)()||(0,Tt.d)()||(0,Tt.w1)()||(0,Tt.Mn)()||(0,Tt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Fe("Connection","Creating WebChannel: "+_,h);const w=o.createWebChannel(_,h);let D=!1,S=!1;const O=new hV({jr:H=>{S?Fe("Connection","Not sending because WebChannel is closed:",H):(D||(Fe("Connection","Opening WebChannel transport."),w.open(),D=!0),Fe("Connection","WebChannel sending:",H),w.send(H))},Wr:()=>w.close()}),L=(H,Q,ie)=>{H.listen(Q,Ue=>{try{ie(Ue)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return L(w,Sy.EventType.OPEN,()=>{S||Fe("Connection","WebChannel transport opened.")}),L(w,Sy.EventType.CLOSE,()=>{S||(S=!0,Fe("Connection","WebChannel transport closed"),O.eo())}),L(w,Sy.EventType.ERROR,H=>{S||(S=!0,ym("Connection","WebChannel transport errored:",H),O.eo(new Ie(de.UNAVAILABLE,"The operation could not be completed")))}),L(w,Sy.EventType.MESSAGE,H=>{var Q;if(!S){const ie=H.data[0];St(!!ie);const Ue=ie,Ke=Ue.error||(null===(Q=Ue[0])||void 0===Q?void 0:Q.error);if(Ke){Fe("Connection","WebChannel received error:",Ke);const je=Ke.status;let He=function(Rt){const on=Ui[Rt];if(void 0!==on)return iw(on)}(je),Dt=Ke.message;void 0===He&&(He=de.INTERNAL,Dt="Unknown error status: "+je+" with message "+Ke.message),S=!0,O.eo(new Ie(He,Dt)),w.close()}else Fe("Connection","WebChannel received:",ie),O.no(ie)}}),L(u,OS.STAT_EVENT,H=>{H.stat===N0.PROXY?Fe("Connection","Detected buffering proxy"):H.stat===N0.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.Zr()},0),O}}function HR(){return"undefined"!=typeof window?window:null}function MT(){return"undefined"!=typeof document?document:null}function vw(n){return new $E(n,!0)}class VI{constructor(t,e,i=1e3,r=1.5,o=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=r,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class jR{constructor(t,e,i,r,o,u,h,_){this.js=t,this.Ao=i,this.Ro=r,this.bo=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new VI(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,me.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(t){this.Fo(),this.stream.send(t)}Oo(){var t=this;return(0,me.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,me.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(_i(e.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Ie(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,me.Z)(function*(){t.state=0,t.start()}))}qo(t){return Fe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pV extends jR{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.wt=o}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function oI(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:st(),r=t.targetChange.targetIds||[],o=function(_,w){return _.dt?(St(void 0===w||"string"==typeof w),ii.fromBase64String(w||"")):(St(void 0===w||w instanceof Uint8Array),ii.fromUint8Array(w||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(_){const w=void 0===_.code?de.UNKNOWN:iw(_.code);return new Ie(w,_.message||"")}(u);e=new Sd(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=il(n,i.document.name),o=Ki(i.document.updateTime),u=new xi({mapValue:{fields:i.document.fields}}),h=Sn.newFoundDocument(r,o,u);e=new sw(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=il(n,i.document),o=i.readTime?Ki(i.readTime):xt.min(),u=Sn.newNoDocument(r,o);e=new sw([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=il(n,i.document);e=new sw([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return st();{const i=t.filter,o=new tI(i.count||0);e=new Ky(i.targetId,o)}}var _;return e}(this.wt,t),i=function(r){if(!("targetChange"in r))return xt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?xt.min():o.readTime?Ki(o.readTime):xt.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=tv(this.wt),e.addTarget=function(r,o){let u;const h=o.target;return u=Ly(h)?{documents:iv(r,h)}:{query:cw(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=aw(r,o.resumeToken):o.snapshotVersion.compareTo(xt.min())>0&&(u.readTime=Xy(r,o.snapshotVersion.toTimestamp())),u}(this.wt,t);const i=function lI(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Mo(e)}jo(t){const e={};e.database=tv(this.wt),e.removeTarget=t,this.Mo(e)}}class mV extends jR{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.wt=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(St(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function aI(n,t){return n&&n.length>0?(St(void 0!==t),n.map(e=>function(i,r){let o=Ki(i.updateTime?i.updateTime:r);return o.isEqual(xt.min())&&(o=Ki(r)),new BE(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Ki(t.commitTime);return this.listener.Jo(i,e)}return St(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=tv(this.wt),this.Mo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Id(this.wt,i))};this.Mo(e)}}class gV extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.ro(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ie(de.UNKNOWN,r.toString())})}ao(t,e,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ao(t,e,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(de.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class _V{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(_i(e),this.su=!1):Fe("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class yV{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(h=>{i.enqueueAndForget((0,me.Z)(function*(){var _;Lf(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,me.Z)(function*(w){const D=Qe(w);D.lu.add(4),yield _v(D),D._u.set("Unknown"),D.lu.delete(4),yield bw(D)}),function(w){return _.apply(this,arguments)})(u))}))}),this._u=new _V(i,r)}}function bw(n){return BI.apply(this,arguments)}function BI(){return BI=(0,me.Z)(function*(n){if(Lf(n))for(const t of n.fu)yield t(!0)}),BI.apply(this,arguments)}function _v(n){return UI.apply(this,arguments)}function UI(){return UI=(0,me.Z)(function*(n){for(const t of n.fu)yield t(!1)}),UI.apply(this,arguments)}function xT(n,t){const e=Qe(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),qI(e)?jI(e):vv(e).Co()&&HI(e,t))}function ww(n,t){const e=Qe(n),i=vv(e);e.hu.delete(t),i.Co()&&qR(e,t),0===e.hu.size&&(i.Co()?i.ko():Lf(e)&&e._u.set("Unknown"))}function HI(n,t){n.wu.Nt(t.targetId),vv(n).Qo(t)}function qR(n,t){n.wu.Nt(t),vv(n).jo(t)}function jI(n){n.wu=new rI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),vv(n).start(),n._u.iu()}function qI(n){return Lf(n)&&!vv(n).Do()&&n.hu.size>0}function Lf(n){return 0===Qe(n).lu.size}function GR(n){n.wu=void 0}function vV(n){return GI.apply(this,arguments)}function GI(){return GI=(0,me.Z)(function*(n){n.hu.forEach((t,e)=>{HI(n,t)})}),GI.apply(this,arguments)}function bV(n,t){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,me.Z)(function*(n,t){GR(n),qI(n)?(n._u.uu(t),jI(n)):n._u.set("Unknown")}),ZI.apply(this,arguments)}function wV(n,t,e){return zI.apply(this,arguments)}function zI(){return zI=(0,me.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof Sd&&2===t.state&&t.cause)try{yield(i=(0,me.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.hu.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.hu.delete(h),r.wu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield ST(n,i)}else if(t instanceof sw?n.wu.Ut(t):t instanceof Ky?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(xt.min()))try{const i=yield RR(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.wu.Yt(o);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const w=r.hu.get(_);w&&r.hu.set(_,w.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const _=r.hu.get(h);if(!_)return;r.hu.set(h,_.withResumeToken(ii.EMPTY_BYTE_STRING,_.snapshotVersion)),qR(r,h);const w=new eu(_.target,h,1,_.sequenceNumber);HI(r,w)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield ST(n,i)}var i}),zI.apply(this,arguments)}function ST(n,t,e){return $I.apply(this,arguments)}function $I(){return $I=(0,me.Z)(function*(n,t,e){if(!Gc(t))throw t;n.lu.add(1),yield _v(n),n._u.set("Offline"),e||(e=()=>RR(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield bw(n)}))}),$I.apply(this,arguments)}function ZR(n,t){return t().catch(e=>ST(n,e,t))}function yv(n){return YI.apply(this,arguments)}function YI(){return YI=(0,me.Z)(function*(n){const t=Qe(n),e=Vf(t);let i=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;CV(t);)try{const r=yield aV(t.localStore,i);if(null===r){0===t.au.length&&e.ko();break}i=r.batchId,DV(t,r)}catch(r){yield ST(t,r)}zR(t)&&$R(t)}),YI.apply(this,arguments)}function CV(n){return Lf(n)&&n.au.length<10}function DV(n,t){n.au.push(t);const e=Vf(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function zR(n){return Lf(n)&&!Vf(n).Do()&&n.au.length>0}function $R(n){Vf(n).start()}function EV(n){return WI.apply(this,arguments)}function WI(){return WI=(0,me.Z)(function*(n){Vf(n).Xo()}),WI.apply(this,arguments)}function TV(n){return KI.apply(this,arguments)}function KI(){return KI=(0,me.Z)(function*(n){const t=Vf(n);for(const e of n.au)t.Ho(e.mutations)}),KI.apply(this,arguments)}function MV(n,t,e){return QI.apply(this,arguments)}function QI(){return QI=(0,me.Z)(function*(n,t,e){const i=n.au.shift(),r=mw.from(i,t,e);yield ZR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield yv(n)}),QI.apply(this,arguments)}function xV(n,t){return XI.apply(this,arguments)}function XI(){return XI=(0,me.Z)(function*(n,t){var e;t&&Vf(n).zo&&(yield(e=(0,me.Z)(function*(i,r){if(HE(o=r.code)&&o!==de.ABORTED){const u=i.au.shift();Vf(i).No(),yield ZR(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield yv(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),zR(n)&&$R(n)}),XI.apply(this,arguments)}function YR(n,t){return JI.apply(this,arguments)}function JI(){return JI=(0,me.Z)(function*(n,t){const e=Qe(n);e.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=Lf(e);e.lu.add(3),yield _v(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield bw(e)}),JI.apply(this,arguments)}function eA(n,t){return tA.apply(this,arguments)}function tA(){return tA=(0,me.Z)(function*(n,t){const e=Qe(n);t?(e.lu.delete(2),yield bw(e)):t||(e.lu.add(2),yield _v(e),e._u.set("Unknown"))}),tA.apply(this,arguments)}function vv(n){return n.mu||(n.mu=function(t,e,i){const r=Qe(t);return r.tu(),new pV(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:vV.bind(null,n),Jr:bV.bind(null,n),Go:wV.bind(null,n)}),n.fu.push(function(){var t=(0,me.Z)(function*(e){e?(n.mu.No(),qI(n)?jI(n):n._u.set("Unknown")):(yield n.mu.stop(),GR(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function Vf(n){return n.gu||(n.gu=function(t,e,i){const r=Qe(t);return r.tu(),new mV(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:EV.bind(null,n),Jr:xV.bind(null,n),Yo:TV.bind(null,n),Jo:MV.bind(null,n)}),n.fu.push(function(){var t=(0,me.Z)(function*(e){e?(n.gu.No(),yield yv(n)):(yield n.gu.stop(),n.au.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class nA{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new nA(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bv(n,t){if(_i("AsyncQueue",`${t}: ${n}`),Gc(n))return new Ie(de.UNAVAILABLE,`${t}: ${n}`);throw n}class wv{constructor(t){this.comparator=t?(e,i)=>t(e,i)||$e.comparator(e.key,i.key):(e,i)=>$e.comparator(e.key,i.key),this.keyedMap=Nm(),this.sortedSet=new yi(this.comparator)}static emptySet(t){return new wv(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof wv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new wv;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class WR{constructor(){this.yu=new yi($e.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):st():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Cv{constructor(t,e,i,r,o,u,h,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new Cv(t,e,wv.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class SV{constructor(){this.Iu=void 0,this.listeners=[]}}class IV{constructor(){this.queries=new Yl(t=>Y0(t),Rm),this.onlineState="Unknown",this.Tu=new Set}}function iA(n,t){return rA.apply(this,arguments)}function rA(){return rA=(0,me.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new SV),r)try{o.Iu=yield e.onListen(i)}catch(u){const h=bv(u,`Initialization of query '${Gy(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Eu(e.onlineState),o.Iu&&t.Au(o.Iu)&&aA(e)}),rA.apply(this,arguments)}function sA(n,t){return oA.apply(this,arguments)}function oA(){return oA=(0,me.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),oA.apply(this,arguments)}function AV(n,t){const e=Qe(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Au(r)&&(i=!0);u.Iu=r}}i&&aA(e)}function kV(n,t,e){const i=Qe(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function aA(n){n.Tu.forEach(t=>{t.next()})}class lA{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Cv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=Cv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class RV{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class KR{constructor(t){this.wt=t}Wi(t){return il(this.wt,t)}zi(t){return t.metadata.exists?QE(this.wt,t.document,!1):Sn.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return Ki(t)}}class OV{constructor(t,e,i){this.xu=t,this.localStore=e,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=QR(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=Yt.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new KR(this.wt);for(const r of t)if(r.metadata.queries){const o=i.Wi(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Gt()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,me.Z)(function*(){const e=yield function lV(n,t,e,i){return RI.apply(this,arguments)}(t.localStore,new KR(t.wt),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield cV(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Ou:t.collectionGroups,Mu:e}})()}}function QR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class XR{constructor(t){this.key=t}}class JR{constructor(t){this.key=t}}class eO{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=Gt(),this.mutatedKeys=Gt(),this.Lu=FE(t),this.Uu=new wv(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new WR,r=e?e.Uu:this.Uu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((D,S)=>{const O=r.get(D),L=W0(this.query,S)?S:null,H=!!O&&this.mutatedKeys.has(O.key),Q=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let ie=!1;O&&L?O.data.isEqual(L.data)?H!==Q&&(i.track({type:3,doc:L}),ie=!0):this.Qu(O,L)||(i.track({type:2,doc:L}),ie=!0,(_&&this.Lu(L,_)>0||w&&this.Lu(L,w)<0)&&(h=!0)):!O&&L?(i.track({type:0,doc:L}),ie=!0):O&&!L&&(i.track({type:1,doc:O}),ie=!0,(_||w)&&(h=!0)),ie&&(L?(u=u.add(L),o=Q?o.add(D):o.delete(D)):(u=u.delete(D),o=o.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),o=o.delete(D.key),i.track({type:1,doc:D})}return{Uu:u,Gu:i,Oi:h,mutatedKeys:o}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const o=t.Gu.pu();o.sort((w,D)=>function(S,O){const L=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return L(S)-L(O)}(w.type,D.type)||this.Lu(w.doc,D.doc)),this.ju(i);const u=e?this.Wu():[],h=0===this.Bu.size&&this.current?1:0,_=h!==this.$u;return this.$u=h,0!==o.length||_?{snapshot:new Cv(this.query,t.Uu,r,o,t.mutatedKeys,0===h,_,!1),zu:u}:{zu:u}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new WR,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Gt(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new JR(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new XR(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=Gt();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return Cv.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class PV{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class FV{constructor(t){this.key=t,this.Xu=!1}}class NV{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Zu={},this.tc=new Yl(h=>Y0(h),Rm),this.ec=new Map,this.nc=new Set,this.sc=new yi($e.comparator),this.ic=new Map,this.rc=new Ve,this.oc={},this.uc=new Map,this.cc=Ff.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function LV(n,t){return cA.apply(this,arguments)}function cA(){return cA=(0,me.Z)(function*(n,t){const e=RA(n);let i,r;const o=e.tc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Yu();else{const u=yield mv(e.localStore,Ks(t));e.isPrimaryClient&&xT(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield uA(e,t,i,"current"===h)}return r}),cA.apply(this,arguments)}function uA(n,t,e,i){return dA.apply(this,arguments)}function dA(){return dA=(0,me.Z)(function*(n,t,e,i){n.hc=(D,S,O)=>{return(L=(0,me.Z)(function*(H,Q,ie,Ue){let Ke=Q.view.Ku(ie);Ke.Oi&&(Ke=yield DT(H.localStore,Q.query,!1).then(({documents:Dt})=>Q.view.Ku(Dt,Ke)));const je=Ue&&Ue.targetChanges.get(Q.targetId),He=Q.view.applyChanges(Ke,H.isPrimaryClient,je);return wA(H,Q.targetId,He.zu),He.snapshot}),function(H,Q,ie,Ue){return L.apply(this,arguments)})(n,D,S,O);var L};const r=yield DT(n.localStore,t,!0),o=new eO(t,r.ji),u=o.Ku(r.documents),h=Xc.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),_=o.applyChanges(u,n.isPrimaryClient,h);wA(n,e,_.zu);const w=new PV(t,e,o);return n.tc.set(t,w),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),_.snapshot}),dA.apply(this,arguments)}function VV(n,t){return hA.apply(this,arguments)}function hA(){return hA=(0,me.Z)(function*(n,t){const e=Qe(n),i=e.tc.get(t),r=e.ec.get(i.targetId);if(r.length>1)return e.ec.set(i.targetId,r.filter(o=>!Rm(o,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gv(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),ww(e.remoteStore,i.targetId),Dv(e,i.targetId)}).catch(jc))):(Dv(e,i.targetId),yield gv(e.localStore,i.targetId,!0))}),hA.apply(this,arguments)}function fA(){return fA=(0,me.Z)(function*(n,t,e){const i=OA(n);try{const r=yield function(o,u){const h=Qe(o),_=ni.now(),w=u.reduce((O,L)=>O.add(L.key),Gt());let D,S;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let L=Kr(),H=Gt();return h.Ui.getEntries(O,w).next(Q=>{L=Q,L.forEach((ie,Ue)=>{Ue.isValidDocument()||(H=H.add(ie))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,L)).next(Q=>{D=Q;const ie=[];for(const Ue of u){const Ke=ew(Ue,D.get(Ue.key).overlayedDocument);null!=Ke&&ie.push(new $l(Ue.key,Ke,SE(Ke.value.mapValue),hi.exists(!0)))}return h.mutationQueue.addMutationBatch(O,_,ie,u)}).next(Q=>{S=Q;const ie=Q.applyToLocalDocumentSet(D,H);return h.documentOverlayCache.saveOverlays(O,Q.batchId,ie)})}).then(()=>({batchId:S.batchId,changes:nI(D)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let _=o.oc[o.currentUser.toKey()];_||(_=new yi(Vt)),_=_.insert(u,h),o.oc[o.currentUser.toKey()]=_}(i,r.batchId,e),yield Pd(i,r.changes),yield yv(i.remoteStore)}catch(r){const o=bv(r,"Failed to persist write");e.reject(o)}}),fA.apply(this,arguments)}function tO(n,t){return pA.apply(this,arguments)}function pA(){return pA=(0,me.Z)(function*(n,t){const e=Qe(n);try{const i=yield oV(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.ic.get(o);u&&(St(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?St(u.Xu):r.removedDocuments.size>0&&(St(u.Xu),u.Xu=!1))}),yield Pd(e,i,t)}catch(i){yield jc(i)}}),pA.apply(this,arguments)}function nO(n,t,e){const i=Qe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.tc.forEach((o,u)=>{const h=u.view.Eu(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=Qe(o);h.onlineState=u;let _=!1;h.queries.forEach((w,D)=>{for(const S of D.listeners)S.Eu(u)&&(_=!0)}),_&&aA(h)}(i.eventManager,t),r.length&&i.Zu.Go(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function UV(n,t,e){return mA.apply(this,arguments)}function mA(){return mA=(0,me.Z)(function*(n,t,e){const i=Qe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ic.get(t),o=r&&r.key;if(o){let u=new yi($e.comparator);u=u.insert(o,Sn.newNoDocument(o,xt.min()));const h=Gt().add(o),_=new Wy(xt.min(),new Map,new Cn(Vt),u,h);yield tO(i,_),i.sc=i.sc.remove(o),i.ic.delete(t),CA(i)}else yield gv(i.localStore,t,!1).then(()=>Dv(i,t,e)).catch(jc)}),mA.apply(this,arguments)}function HV(n,t){return gA.apply(this,arguments)}function gA(){return gA=(0,me.Z)(function*(n,t){const e=Qe(n),i=t.batch.batchId;try{const r=yield sV(e.localStore,t);bA(e,i,null),vA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Pd(e,r)}catch(r){yield jc(r)}}),gA.apply(this,arguments)}function jV(n,t,e){return _A.apply(this,arguments)}function _A(){return _A=(0,me.Z)(function*(n,t,e){const i=Qe(n);try{const r=yield function(o,u){const h=Qe(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return h.mutationQueue.lookupMutationBatch(_,u).next(D=>(St(null!==D),w=D.keys(),h.mutationQueue.removeMutationBatch(_,D))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>h.localDocuments.getDocuments(_,w))})}(i.localStore,t);bA(i,t,e),vA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Pd(i,r)}catch(r){yield jc(r)}}),_A.apply(this,arguments)}function yA(){return yA=(0,me.Z)(function*(n,t){const e=Qe(n);Lf(e.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Qe(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.uc.get(i)||[];r.push(t),e.uc.set(i,r)}catch(i){const r=bv(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),yA.apply(this,arguments)}function vA(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function bA(n,t,e){const i=Qe(n);let r=i.oc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.oc[i.currentUser.toKey()]=r}}function Dv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||iO(n,i)})}function iO(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(ww(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),CA(n))}function wA(n,t,e){for(const i of e)i instanceof XR?(n.rc.addReference(i.key,t),GV(n,i)):i instanceof JR?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||iO(n,i.key)):st()}function GV(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||(Fe("SyncEngine","New document in limbo: "+e),n.nc.add(i),CA(n))}function CA(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new $e(Yt.fromString(t)),i=n.cc.next();n.ic.set(i,new FV(e)),n.sc=n.sc.insert(e,i),xT(n.remoteStore,new eu(Ks(Sf(e.path)),i,2,sr.ot))}}function Pd(n,t,e){return DA.apply(this,arguments)}function DA(){return DA=(0,me.Z)(function*(n,t,e){const i=Qe(n),r=[],o=[],u=[];var h;i.tc.isEmpty()||(i.tc.forEach((h,_)=>{u.push(i.hc(_,t,e).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),r.push(w);const D=$m.Vi(_.targetId,w);o.push(D)}}))}),yield Promise.all(u),i.Zu.Go(r),yield(h=(0,me.Z)(function*(_,w){const D=Qe(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>se.forEach(w,O=>se.forEach(O.Pi,L=>D.persistence.referenceDelegate.addReference(S,O.targetId,L)).next(()=>se.forEach(O.vi,L=>D.persistence.referenceDelegate.removeReference(S,O.targetId,L)))))}catch(S){if(!Gc(S))throw S;Fe("LocalStore","Failed to update sequence numbers: "+S)}for(const S of w){const O=S.targetId;if(!S.fromCache){const L=D.$i.get(O),Q=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);D.$i=D.$i.insert(O,Q)}}}),function(_,w){return h.apply(this,arguments)})(i.localStore,o))}),DA.apply(this,arguments)}function ZV(n,t){return EA.apply(this,arguments)}function EA(){return EA=(0,me.Z)(function*(n,t){const e=Qe(n);if(!e.currentUser.isEqual(t)){Fe("SyncEngine","User change. New user:",t.toKey());const i=yield kR(e.localStore,t);e.currentUser=t,(r=e).uc.forEach(u=>{u.forEach(h=>{h.reject(new Ie(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Pd(e,i.Ki)}var r}),EA.apply(this,arguments)}function zV(n,t){const e=Qe(n),i=e.ic.get(t);if(i&&i.Xu)return Gt().add(i.key);{let r=Gt();const o=e.ec.get(t);if(!o)return r;for(const u of o){const h=e.tc.get(u);r=r.unionWith(h.view.qu)}return r}}function $V(n,t){return TA.apply(this,arguments)}function TA(){return TA=(0,me.Z)(function*(n,t){const e=Qe(n),i=yield DT(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&wA(e,t.targetId,r.zu),r}),TA.apply(this,arguments)}function YV(n,t){return MA.apply(this,arguments)}function MA(){return MA=(0,me.Z)(function*(n,t){const e=Qe(n);return FR(e.localStore,t).then(i=>Pd(e,i))}),MA.apply(this,arguments)}function WV(n,t,e,i){return xA.apply(this,arguments)}function xA(){return xA=(0,me.Z)(function*(n,t,e,i){const r=Qe(n),o=yield function(u,h){const _=Qe(u),w=Qe(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.yn(D,h).next(S=>S?_.localDocuments.getDocuments(D,S):se.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield yv(r.remoteStore):"acknowledged"===e||"rejected"===e?(bA(r,t,i||null),vA(r,t),h=t,Qe(Qe(r.localStore).mutationQueue).In(h)):st(),yield Pd(r,o)):Fe("SyncEngine","Cannot apply mutation batch with id: "+t)}),xA.apply(this,arguments)}function SA(){return SA=(0,me.Z)(function*(n,t){const e=Qe(n);if(RA(e),OA(e),!0===t&&!0!==e.ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield rO(e,i.toArray());e.ac=!0,yield eA(e.remoteStore,!0);for(const o of r)xT(e.remoteStore,o)}else if(!1===t&&!1!==e.ac){const i=[];let r=Promise.resolve();e.ec.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Dv(e,u),gv(e.localStore,u,!0))),ww(e.remoteStore,u)}),yield r,yield rO(e,i),function(o){const u=Qe(o);u.ic.forEach((h,_)=>{ww(u.remoteStore,_)}),u.rc.cs(),u.ic=new Map,u.sc=new yi($e.comparator)}(e),e.ac=!1,yield eA(e.remoteStore,!1)}}),SA.apply(this,arguments)}function rO(n,t,e){return IA.apply(this,arguments)}function IA(){return IA=(0,me.Z)(function*(n,t,e){const i=Qe(n),r=[],o=[];for(const u of t){let h;const _=i.ec.get(u);if(_&&0!==_.length){h=yield mv(i.localStore,Ks(_[0]));for(const w of _){const D=i.tc.get(w),S=yield $V(i,D);S.snapshot&&o.push(S.snapshot)}}else{const w=yield PR(i.localStore,u);h=yield mv(i.localStore,w),yield uA(i,sO(w),u,!1)}r.push(h)}return i.Zu.Go(o),r}),IA.apply(this,arguments)}function sO(n){return PE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function QV(n){const t=Qe(n);return Qe(Qe(t.localStore).persistence).Ri()}function XV(n,t,e,i){return AA.apply(this,arguments)}function AA(){return AA=(0,me.Z)(function*(n,t,e,i){const r=Qe(n);if(r.ac)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const o=r.ec.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield FR(r.localStore,K0(o[0])),h=Wy.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Pd(r,u,h);break}case"rejected":yield gv(r.localStore,t,!0),Dv(r,t,i);break;default:st()}}),AA.apply(this,arguments)}function JV(n,t,e){return kA.apply(this,arguments)}function kA(){return kA=(0,me.Z)(function*(n,t,e){const i=RA(n);if(i.ac){for(const r of t){if(i.ec.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const o=yield PR(i.localStore,r),u=yield mv(i.localStore,o);yield uA(i,sO(o),u.targetId,!1),xT(i.remoteStore,u)}for(const r of e)i.ec.has(r)&&(yield gv(i.localStore,r,!1).then(()=>{ww(i.remoteStore,r),Dv(i,r)}).catch(jc))}}),kA.apply(this,arguments)}function RA(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=tO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UV.bind(null,t),t.Zu.Go=AV.bind(null,t.eventManager),t.Zu.lc=kV.bind(null,t.eventManager),t}function OA(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jV.bind(null,t),t}class oO{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,me.Z)(function*(){e.wt=vw(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return AR(this.persistence,new pv,t.initialUser,this.wt)}_c(t){return new gn(rl.Ms,this.wt)}dc(t){return new BR}terminate(){var t=this;return(0,me.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class aO extends oO{constructor(t,e,i){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,me.Z)(function*(){yield e().call(i,t),yield i.yc.initialize(i,t),yield OA(i.yc.syncEngine),yield yv(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return AR(this.persistence,new pv,t.initialUser,this.wt)}mc(t,e){return new SR(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const i=new Oy(e,this.persistence);return new U0(t.asyncQueue,i)}_c(t){const e=zm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ss.withCacheSize(this.cacheSizeBytes):Ss.DEFAULT;return new Zm(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,HR(),MT(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new BR}}class tB extends aO{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,me.Z)(function*(){yield e().call(i,t);const r=i.yc.syncEngine;i.sharedClientState instanceof LI&&(i.sharedClientState.syncEngine={kr:WV.bind(null,r),Or:XV.bind(null,r),Mr:JV.bind(null,r),Ri:QV.bind(null,r),Nr:YV.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var o=(0,me.Z)(function*(u){yield function KV(n,t){return SA.apply(this,arguments)}(i.yc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}dc(t){const e=HR();if(!LI.V(e))throw new Ie(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=zm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new LI(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class PA{initialize(t,e){var i=this;return(0,me.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>nO(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=ZV.bind(null,i.syncEngine),yield eA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new IV}createDatastore(t){const e=vw(t.databaseInfo.databaseId),i=new fV(t.databaseInfo);return new gV(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>nO(this.syncEngine,h,0),u=UR.V()?new UR:new uV,new yV(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,_,w){const D=new NV(i,r,o,u,h,_);return w&&(D.ac=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,me.Z)(function*(e){const i=Qe(e);Fe("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield _v(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function lO(n,t=10240){let e=0;return{read:()=>(0,me.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class IT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class nB{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new Wi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,me.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,me.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,me.Z)(function*(){const e=yield t.bc();if(null===e)return null;const i=t.Ac.decode(e),r=Number(i);isNaN(r)&&t.Pc(`length string (${i}) is not valid number`);const o=yield t.vc(r);return new RV(JSON.parse(o),e.length+r)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,me.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}vc(t){var e=this;return(0,me.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const i=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,me.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class iB{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ie(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,me.Z)(function*(o,u){const h=Qe(o),_=tv(h.wt)+"/documents",w={documents:u.map(L=>ev(h.wt,L))},D=yield h.ao("BatchGetDocuments",_,w,u.length),S=new Map;D.forEach(L=>{const H=function Qs(n,t){return"found"in t?function(e,i){St(!!i.found);const r=il(e,i.found.name),o=Ki(i.found.updateTime),u=new xi({mapValue:{fields:i.found.fields}});return Sn.newFoundDocument(r,o,u)}(n,t):"missing"in t?function(e,i){St(!!i.missing),St(!!i.readTime);const r=il(e,i.missing),o=Ki(i.readTime);return Sn.newNoDocument(r,o)}(n,t):st()}(h.wt,L);S.set(H.key.toString(),H)});const O=[];return u.forEach(L=>{const H=S.get(L.toString());St(!!H),O.push(H)}),O}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new xd(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=$e.fromPath(r);t.mutations.push(new $y(o,t.precondition(o)))}),yield(i=(0,me.Z)(function*(r,o){const u=Qe(r),h=tv(u.wt)+"/documents",_={writes:o.map(w=>Id(u.wt,w))};yield u.ro("Commit",h,_)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw st();e=xt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ie(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?hi.updateTime(e):hi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(xt.min()))throw new Ie(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hi.updateTime(e)}return hi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class rB{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Dc=i.maxAttempts,this.So=new VI(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,me.Z)(function*(){const e=new iB(t.datastore),i=t.xc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Nc(o)}))}).catch(r=>{t.Nc(r)})}))}xc(t){try{const e=this.updateFunction(t);return!_d(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!HE(e)}return!1}}class sB{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Yi.UNAUTHENTICATED,this.clientId=mE.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,me.Z)(function*(h){Fe("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,me.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=bv(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function cO(n,t){return FA.apply(this,arguments)}function FA(){return FA=(0,me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,me.Z)(function*(o){i.isEqual(o)||(yield kR(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),FA.apply(this,arguments)}function uO(n,t){return NA.apply(this,arguments)}function NA(){return NA=(0,me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield LA(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>YR(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>YR(t.remoteStore,o)),n.onlineComponents=t}),NA.apply(this,arguments)}function LA(n){return VA.apply(this,arguments)}function VA(){return VA=(0,me.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield cO(n,new oO)),n.offlineComponents}),VA.apply(this,arguments)}function AT(n){return BA.apply(this,arguments)}function BA(){return BA=(0,me.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield uO(n,new PA)),n.onlineComponents}),BA.apply(this,arguments)}function dO(n){return LA(n).then(t=>t.persistence)}function UA(n){return LA(n).then(t=>t.localStore)}function hO(n){return AT(n).then(t=>t.remoteStore)}function HA(n){return AT(n).then(t=>t.syncEngine)}function Ev(n){return jA.apply(this,arguments)}function jA(){return jA=(0,me.Z)(function*(n){const t=yield AT(n),e=t.eventManager;return e.onListen=LV.bind(null,t.syncEngine),e.onUnlisten=VV.bind(null,t.syncEngine),e}),jA.apply(this,arguments)}function fO(n,t,e={}){const i=new Wi;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(r,o,u,h,_){const w=new IT({next:S=>{o.enqueueAndForget(()=>sA(r,D));const O=S.docs.has(u);!O&&S.fromCache?_.reject(new Ie(de.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&h&&"server"===h.source?_.reject(new Ie(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),D=new lA(Sf(u.path),w,{includeMetadataChanges:!0,Du:!0});return iA(r,D)}(yield Ev(n),n.asyncQueue,t,e,i)})),i.promise}function pO(n,t,e={}){const i=new Wi;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(r,o,u,h,_){const w=new IT({next:S=>{o.enqueueAndForget(()=>sA(r,D)),S.fromCache&&"server"===h.source?_.reject(new Ie(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),D=new lA(u,w,{includeMetadataChanges:!0,Du:!0});return iA(r,D)}(yield Ev(n),n.asyncQueue,t,e,i)})),i.promise}const mO=new Map;function qA(n,t,e){if(!e)throw new Ie(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function gO(n,t,e,i){if(!0===t&&!0===i)throw new Ie(de.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function _O(n){if(!$e.isDocumentKey(n))throw new Ie(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yO(n){if($e.isDocumentKey(n))throw new Ie(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":st()}function an(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ie(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=kT(n);throw new Ie(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function vO(n,t){if(t<=0)throw new Ie(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class bO{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ie(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ie(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,gO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cw{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bO({}),this._settingsFrozen=!1,t instanceof Xa?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ie(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ie(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ie(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bO(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new NS;switch(e.type){case"gapi":const i=e.client;return St(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new US(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ie(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=mO.get(t);e&&(Fe("ComponentProvider","Removing Datastore"),mO.delete(t),e.terminate())}(this),Promise.resolve()}}class fi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fi(this.firestore,t,this._key)}}class Is{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Is(this.firestore,t,this._query)}}class ou extends Is{constructor(t,e,i){super(t,e,Sf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fi(this.firestore,null,new $e(t))}withConverter(t){return new ou(this.firestore,t,this._path)}}function wO(n,t,...e){if(n=(0,Tt.m9)(n),qA("collection","path",t),n instanceof Cw){const i=Yt.fromString(t,...e);return yO(i),new ou(n,null,i)}{if(!(n instanceof fi||n instanceof ou))throw new Ie(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Yt.fromString(t,...e));return yO(i),new ou(n.firestore,null,i)}}function RT(n,t,...e){if(n=(0,Tt.m9)(n),1===arguments.length&&(t=mE.I()),qA("doc","path",t),n instanceof Cw){const i=Yt.fromString(t,...e);return _O(i),new fi(n,null,new $e(i))}{if(!(n instanceof fi||n instanceof ou))throw new Ie(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Yt.fromString(t,...e));return _O(i),new fi(n.firestore,n instanceof ou?n.converter:null,new $e(i))}}function CO(n,t){return n=(0,Tt.m9)(n),t=(0,Tt.m9)(t),(n instanceof fi||n instanceof ou)&&(t instanceof fi||t instanceof ou)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function DO(n,t){return n=(0,Tt.m9)(n),t=(0,Tt.m9)(t),n instanceof Is&&t instanceof Is&&n.firestore===t.firestore&&Rm(n._query,t._query)&&n.converter===t.converter}class gB{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new VI(this,"async_queue_retry"),this.Kc=()=>{const e=MT();e&&Fe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=MT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=MT();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new Wi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Mc.push(t),this.jc()))}jc(){var t=this;return(0,me.Z)(function*(){if(0!==t.Mc.length){try{yield t.Mc[0](),t.Mc.shift(),t.So.reset()}catch(e){if(!Gc(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}t.Mc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Oc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,_i("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=nA.createAndSchedule(this,t,e,i,o=>this.Wc(o));return this.$c.push(r),r}Gc(){this.Bc&&st()}verifyOperationInProgress(){}zc(){var t=this;return(0,me.Z)(function*(){let e;do{e=t.Oc,yield e}while(e!==t.Oc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function GA(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class _B{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class vi extends Cw{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new gB,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||EO(this),this._firestoreClient.terminate()}}function or(n){return n._firestoreClient||EO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function EO(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new mR(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new sB(n._authCredentials,n._appCheckCredentials,n._queue,i)}function TO(n,t,e){const i=new Wi;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield cO(n,e),yield uO(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(u=o).name?u.code===de.FAILED_PRECONDITION||u.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function MO(n){if(n._initialized||n._terminated)throw new Ie(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Fd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ie(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new di(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class au{constructor(t){this._byteString=t}static fromBase64String(t){try{return new au(ii.fromBase64String(t))}catch(e){throw new Ie(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new au(ii.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Ym{constructor(t){this._methodName=t}}class OT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ie(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ie(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}const xB=/^__.*__$/;class SB{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new $l(t,this.data,this.fieldMask,e,this.fieldTransforms):new Af(t,this.data,e,this.fieldTransforms)}}class xO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new $l(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function SO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class PT{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.wt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new PT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.sa(t),r}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return LT(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(SO(this.Zc)&&xB.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class IB{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=i||vw(t)}aa(t,e,i,r=!1){return new PT({Zc:t,methodName:e,ca:i,path:di.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Wm(n){const t=n._freezeSettings(),e=vw(n._databaseId);return new IB(n._databaseId,!!t.ignoreUndefinedProperties,e)}function FT(n,t,e,i,r,o={}){const u=n.aa(o.merge||o.mergeFields?2:0,t,e,r);YA("Data must be an object, but it was:",u,i);const h=kO(i,u);let _,w;if(o.merge)_=new Ys(u.fieldMask),w=u.fieldTransforms;else if(o.mergeFields){const D=[];for(const S of o.mergeFields){const O=WA(t,S,e);if(!u.contains(O))throw new Ie(de.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);OO(D,O)||D.push(O)}_=new Ys(D),w=u.fieldTransforms.filter(S=>_.covers(S.field))}else _=null,w=u.fieldTransforms;return new SB(new xi(h),_,w)}class Dw extends Ym{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dw}}function IO(n,t,e){return new PT({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class ZA extends Ym{_toFieldTransform(t){return new Ed(t.path,new If)}isEqual(t){return t instanceof ZA}}class AB extends Ym{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=IO(this,t,!0),i=this.ha.map(o=>Km(o,e)),r=new Qc(i);return new Ed(t.path,r)}isEqual(t){return this===t}}class kB extends Ym{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=IO(this,t,!0),i=this.ha.map(o=>Km(o,e)),r=new Cd(i);return new Ed(t.path,r)}isEqual(t){return this===t}}class RB extends Ym{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new Dd(t.wt,LE(t.wt,this.la));return new Ed(t.path,e)}isEqual(t){return this===t}}function zA(n,t,e,i){const r=n.aa(1,t,e);YA("Data must be an object, but it was:",r,i);const o=[],u=xi.empty();Zc(i,(_,w)=>{const D=NT(t,_,e);w=(0,Tt.m9)(w);const S=r.ia(D);if(w instanceof Dw)o.push(D);else{const O=Km(w,S);null!=O&&(o.push(D),u.set(D,O))}});const h=new Ys(o);return new xO(u,h,r.fieldTransforms)}function $A(n,t,e,i,r,o){const u=n.aa(1,t,e),h=[WA(t,i,e)],_=[r];if(o.length%2!=0)throw new Ie(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<o.length;O+=2)h.push(WA(t,o[O])),_.push(o[O+1]);const w=[],D=xi.empty();for(let O=h.length-1;O>=0;--O)if(!OO(w,h[O])){const L=h[O];let H=_[O];H=(0,Tt.m9)(H);const Q=u.ia(L);if(H instanceof Dw)w.push(L);else{const ie=Km(H,Q);null!=ie&&(w.push(L),D.set(L,ie))}}const S=new Ys(w);return new xO(D,S,u.fieldTransforms)}function AO(n,t,e,i=!1){return Km(e,n.aa(i?4:3,t))}function Km(n,t){if(RO(n=(0,Tt.m9)(n)))return YA("Unsupported field value:",t,n),kO(n,t);if(n instanceof Ym)return function(e,i){if(!SO(i.Zc))throw i.oa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=Km(u,i.ra(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Tt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return LE(i.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ni.fromDate(e);return{timestampValue:Xy(i.wt,r)}}if(e instanceof ni){const r=new ni(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xy(i.wt,r)}}if(e instanceof OT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof au)return{bytesValue:aw(i.wt,e._byteString)};if(e instanceof fi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.oa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:YE(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.oa(`Unsupported field value: ${kT(e)}`)}(n,t)}function kO(n,t){const e={};return H0(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zc(n,(i,r)=>{const o=Km(r,t.ea(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function RO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ni||n instanceof OT||n instanceof au||n instanceof fi||n instanceof Ym)}function YA(n,t,e){if(!RO(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=kT(e);throw t.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function WA(n,t,e){if((t=(0,Tt.m9)(t))instanceof Fd)return t._internalPath;if("string"==typeof t)return NT(n,t);throw LT("Field path arguments must be of type string or ",n,!1,void 0,e)}const OB=new RegExp("[~\\*/\\[\\]]");function NT(n,t,e){if(t.search(OB)>=0)throw LT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Fd(...t.split("."))._internalPath}catch(i){throw LT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function LT(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(o||u)&&(_+=" (found",o&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Ie(de.INVALID_ARGUMENT,h+n+_)}function OO(n,t){return n.some(e=>e.isEqual(t))}class Ew{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new PB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(VT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class PB extends Ew{data(){return super.data()}}function VT(n,t){return"string"==typeof t?NT(n,t):t instanceof Fd?t._internalPath:t._delegate._internalPath}class Qm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Nd extends Ew{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Tw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(VT("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Tw extends Nd{data(t={}){return super.data(t)}}class Bf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Qm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Tw(this._firestore,this._userDataWriter,i.key,i,new Qm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ie(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Tw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Qm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new Tw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Qm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),w=o.indexOf(u.doc.key)),{type:FB(u.type),doc:h,oldIndex:_,newIndex:w}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function FB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function PO(n,t){return n instanceof Nd&&t instanceof Nd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Bf&&t instanceof Bf&&n._firestore===t._firestore&&DO(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function FO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ie(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mw{}function Uf(n,...t){for(const e of t)n=e._apply(n);return n}class NB extends Mw{constructor(t,e,i){super(),this.fa=t,this.da=e,this._a=i,this.type="where"}_apply(t){const e=Wm(t.firestore),i=function(r,o,u,h,_,w,D){let S;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){HO(D,w);const L=[];for(const H of D)L.push(UO(h,r,H));S={arrayValue:{values:L}}}else S=UO(h,r,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||HO(D,w),S=AO(u,"where",D,"in"===w||"not-in"===w);const O=yr.create(_,w,S);return function(L,H){if(H.ht()){const ie=km(L);if(null!==ie&&!ie.isEqual(H.field))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ie.toString()}' and '${H.field.toString()}'`);const Ue=jy(L);null!==Ue&&jO(0,H.field,Ue)}const Q=function(ie,Ue){for(const Ke of ie.filters)if(Ue.indexOf(Ke.op)>=0)return Ke.op;return null}(L,function(ie){switch(ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(H.op));if(null!==Q)throw new Ie(de.INVALID_ARGUMENT,Q===H.op?`Invalid query. You cannot use more than one '${H.op.toString()}' filter.`:`Invalid query. You cannot use '${H.op.toString()}' filters with '${Q.toString()}' filters.`)}(r,O),O}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new Is(t.firestore,t.converter,function(r,o){const u=r.filters.concat([o]);return new zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class VB extends Mw{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Kc(r,o);return function(h,_){if(null===jy(h)){const w=km(h);null!==w&&jO(0,w,_.field)}}(i,u),u}(t._query,this.fa,this.wa);return new Is(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new zl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class NO extends Mw{constructor(t,e,i){super(),this.type=t,this.ma=e,this.ga=i}_apply(t){return new Is(t.firestore,t.converter,$0(t._query,this.ma,this.ga))}}class LO extends Mw{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=BO(t,this.type,this.ya,this.pa);return new Is(t.firestore,t.converter,(r=e,new zl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class VO extends Mw{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=BO(t,this.type,this.ya,this.pa);return new Is(t.firestore,t.converter,(r=e,new zl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function BO(n,t,e,i){if(e[0]=(0,Tt.m9)(e[0]),e[0]instanceof Ew)return function(r,o,u,h,_){if(!h)throw new Ie(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const D of bd(r))if(D.field.isKeyField())w.push(Wc(o,h.key));else{const S=h.data.field(D.field);if(j0(S))throw new Ie(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const O=D.field.canonicalString();throw new Ie(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}w.push(S)}return new nl(w,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Wm(n.firestore);return function(o,u,h,_,w,D){const S=o.explicitOrderBy;if(w.length>S.length)throw new Ie(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let L=0;L<w.length;L++){const H=w[L];if(S[L].field.isKeyField()){if("string"!=typeof H)throw new Ie(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof H}`);if(!qy(o)&&-1!==H.indexOf("/"))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${H}' contains a slash.`);const Q=o.path.child(Yt.fromString(H));if(!$e.isDocumentKey(Q))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const ie=new $e(Q);O.push(Wc(u,ie))}else{const Q=AO(h,_,H);O.push(Q)}}return new nl(O,D)}(n._query,n.firestore._databaseId,r,t,e,i)}}function UO(n,t,e){if("string"==typeof(e=(0,Tt.m9)(e))){if(""===e)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qy(t)&&-1!==e.indexOf("/"))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Yt.fromString(e));if(!$e.isDocumentKey(i))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Wc(n,new $e(i))}if(e instanceof fi)return Wc(n,e._key);throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kT(e)}.`)}function HO(n,t){if(!Array.isArray(n)||0===n.length)throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function jO(n,t,e){if(!e.isEqual(t))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const zB={maxAttempts:5};class KA{convertValue(t,e="none"){switch(yd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(zc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw st()}}convertObject(t,e){const i={};return Zc(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new OT(Mi(t.latitude),Mi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ZS(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Ef(t));default:return null}}convertTimestamp(t){const e=Ws(t);return new ni(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Yt.fromString(t);St(JE(i));const r=new Xa(i.get(1),i.get(3)),o=new $e(i.popFirst(5));return r.isEqual(e)||_i(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function BT(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class $B extends KA{constructor(t){super(),this.firestore=t}convertBytes(t){return new au(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}class qO{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Wm(t)}set(t,e,i){this._verifyNotCommitted();const r=Hf(t,this._firestore),o=BT(r.converter,e,i),u=FT(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,hi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Hf(t,this._firestore);let u;return u="string"==typeof(e=(0,Tt.m9)(e))||e instanceof Fd?$A(this._dataReader,"WriteBatch.update",o._key,e,i,r):zA(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,hi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Hf(t,this._firestore);return this._mutations=this._mutations.concat(new xd(e._key,hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hf(n,t){if((n=(0,Tt.m9)(n)).firestore!==t)throw new Ie(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Xm extends KA{constructor(t){super(),this.firestore=t}convertBytes(t){return new au(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}function GO(n,t,e){n=an(n,fi);const i=an(n.firestore,vi),r=BT(n.converter,t,e);return Tv(i,[FT(Wm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,hi.none())])}function ZO(n,t,e,...i){n=an(n,fi);const r=an(n.firestore,vi),o=Wm(r);let u;return u="string"==typeof(t=(0,Tt.m9)(t))||t instanceof Fd?$A(o,"updateDoc",n._key,t,e,i):zA(o,"updateDoc",n._key,t),Tv(r,[u.toMutation(n._key,hi.exists(!0))])}function zO(n,...t){var e,i,r;n=(0,Tt.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||GA(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(GA(t[u])){const S=t[u];t[u]=null===(e=S.next)||void 0===e?void 0:e.bind(S),t[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),t[u+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let _,w,D;if(n instanceof fi)w=an(n.firestore,vi),D=Sf(n._key.path),_={next:S=>{t[u]&&t[u](QA(w,n,S))},error:t[u+1],complete:t[u+2]};else{const S=an(n,Is);w=an(S.firestore,vi),D=S._query;const O=new Xm(w);_={next:L=>{t[u]&&t[u](new Bf(w,O,S,L))},error:t[u+1],complete:t[u+2]},FO(n._query)}return function(S,O,L,H){const Q=new IT(H),ie=new lA(O,Q,L);return S.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return iA(yield Ev(S),ie)})),()=>{Q.Tc(),S.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return sA(yield Ev(S),ie)}))}}(or(w),D,h,_)}function Tv(n,t){return function(e,i){const r=new Wi;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function BV(n,t,e){return fA.apply(this,arguments)}(yield HA(e),i,r)})),r.promise}(or(n),t)}function QA(n,t,e){const i=e.docs.get(t._key),r=new Xm(n);return new Nd(n,r,t._key,i,new Qm(e.hasPendingWrites,e.fromCache),t.converter)}class iU extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Wm(t)}get(t){const e=Hf(t,this._firestore),i=new $B(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return st();const o=r[0];if(o.isFoundDocument())return new Ew(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Ew(this._firestore,i,e._key,null,e.converter);throw st()})}set(t,e,i){const r=Hf(t,this._firestore),o=BT(r.converter,e,i),u=FT(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=Hf(t,this._firestore);let u;return u="string"==typeof(e=(0,Tt.m9)(e))||e instanceof Fd?$A(this._dataReader,"Transaction.update",o._key,e,i,r):zA(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Hf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Hf(t,this._firestore),i=new Xm(this._firestore);return super.get(t).then(r=>new Nd(this._firestore,i,e._key,r._document,new Qm(!1,!1),e.converter))}}function XA(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function YO(){if("undefined"==typeof Uint8Array)throw new Ie("unimplemented","Uint8Arrays are not available in this environment.")}function WO(){if(!function GS(){return"undefined"!=typeof atob}())throw new Ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Cf=kr.SDK_VERSION,(0,kr._registerComponent)(new Sc.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new vi(r,new VS(e.getProvider("auth-internal")),new HS(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,kr.registerVersion)(uE,"3.4.12",n),(0,kr.registerVersion)(uE,"3.4.12","esm2017")}();class xw{constructor(t){this._delegate=t}static fromBase64String(t){return WO(),new xw(au.fromBase64String(t))}static fromUint8Array(t){return YO(),new xw(au.fromUint8Array(t))}toBase64(){return WO(),this._delegate.toBase64()}toUint8Array(){return YO(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function JA(n){return function hU(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class fU{enableIndexedDbPersistence(t,e){return function vB(n,t){MO(n=an(n,vi));const e=or(n),i=n._freezeSettings(),r=new PA;return TO(e,r,new aO(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function bB(n){MO(n=an(n,vi));const t=or(n),e=n._freezeSettings(),i=new PA;return TO(t,i,new tB(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function wB(n){if(n._initialized&&!n._terminated)throw new Ie(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(e=(0,me.Z)(function*(i){if(!Qa.V())return Promise.resolve();const r=i+"main";yield Qa.delete(r)}),function(i){return e.apply(this,arguments)})(zm(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class KO{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Xa||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ym("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function pB(n,t,e,i={}){var r;const o=(n=an(n,Cw))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&ym("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Yi.MOCK_USER;else{u=(0,Tt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ie(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Yi(_)}n._authCredentials=new LS(new hE(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function DB(n){return function oB(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const t=yield dO(n),e=yield hO(n);return t.setNetworkEnabled(!0),function(i){const r=Qe(i);return r.lu.delete(0),bw(r)}(e)}))}(or(n=an(n,vi)))}(this._delegate)}disableNetwork(){return function EB(n){return function aB(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const t=yield dO(n),e=yield hO(n);return t.setNetworkEnabled(!1),(i=(0,me.Z)(function*(r){const o=Qe(r);o.lu.add(0),yield _v(o),o._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(or(n=an(n,vi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,gO("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function CB(n){return function(t){const e=new Wi;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function qV(n,t){return yA.apply(this,arguments)}(yield HA(t),e)})),e.promise}(or(n=an(n,vi)))}(this._delegate)}onSnapshotsInSync(t){return function nU(n,t){return function uB(n,t){const e=new IT(t);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return i=yield Ev(n),r=e,Qe(i).Tu.add(r),void r.next();var i,r})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return i=yield Ev(n),r=e,void Qe(i).Tu.delete(r);var i,r}))}}(or(n=an(n,vi)),GA(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Mv(this,wO(this._delegate,t))}catch(e){throw Js(e,"collection()","Firestore.collection()")}}doc(t){try{return new sl(this,RT(this._delegate,t))}catch(e){throw Js(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new eo(this,function mB(n,t){if(n=an(n,Cw),qA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ie(de.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Is(n,null,(e=t,new zl(Yt.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Js(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function rU(n,t,e){n=an(n,vi);const i=Object.assign(Object.assign({},zB),e);return function(r){if(r.maxAttempts<1)throw new Ie(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function dB(n,t,e){const i=new Wi;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const r=yield(o=n,AT(o).then(u=>u.datastore));var o;new rB(n.asyncQueue,r,e,t,i).run()})),i.promise}(or(n),r=>t(new iU(n,r)),i)}(this._delegate,e=>t(new QO(this,e)))}batch(){return or(this._delegate),new XO(new qO(this._delegate,t=>Tv(this._delegate,t)))}loadBundle(t){return function TB(n,t){const e=or(n=an(n,vi)),i=new _B;return function hB(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,_=function(_,w){if(_ instanceof Uint8Array)return lO(_,w);if(_ instanceof ArrayBuffer)return lO(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new nB(_,u);var _}(e,vw(t));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function eB(n,t,e){const i=Qe(n);var r;(r=(0,me.Z)(function*(o,u,h){try{const _=yield u.getMetadata();if(yield function(O,L){const H=Qe(O),Q=Ki(L.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",ie=>H.Ds.getBundleMetadata(ie,L.id)).then(ie=>!!ie&&ie.createTime.compareTo(Q)>=0)}(o.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=_).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(QR(_));const w=new OV(_,o.localStore,u.wt);let D=yield u.fc();for(;D;){const O=yield w.Nu(D);O&&h._updateProgress(O),D=yield u.fc()}const S=yield w.complete();return yield Pd(o,S.Mu,void 0),yield function(O,L){const H=Qe(O);return H.persistence.runTransaction("Save bundle","readwrite",Q=>H.Ds.saveBundleMetadata(Q,L))}(o.localStore,_),h._completeWith(S.progress),Promise.resolve(S.Ou)}catch(_){return ym("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var O}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield HA(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function MB(n,t){return function fB(n,t){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(e,i){const r=Qe(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ds.getNamedQuery(o,i))}(yield UA(n),t)}))}(or(n=an(n,vi)),t).then(e=>e?new Is(n,null,e.query):null)}(this._delegate,t).then(e=>e?new eo(this,e):null)}}class UT extends KA{constructor(t){super(),this.firestore=t}convertBytes(t){return new xw(new au(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return sl.forKey(e,this.firestore,null)}}class QO{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new UT(t)}get(t){const e=eg(t);return this._delegate.get(e).then(i=>new Sw(this._firestore,new Nd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=eg(t);return i?(XA("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=eg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=eg(t);return this._delegate.delete(e),this}}class XO{constructor(t){this._delegate=t}set(t,e,i){const r=eg(t);return i?(XA("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=eg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=eg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Jm{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Tw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Iw(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Jm.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Jm(t,new UT(t),e),r.set(e,o)),o}}Jm.INSTANCES=new WeakMap;class sl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new UT(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new sl(e,new fi(e._delegate,i,new $e(t)))}static forKey(t,e,i){return new sl(e,new fi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Mv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Mv(this.firestore,wO(this._delegate,t))}catch(e){throw Js(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Tt.m9)(t))instanceof fi&&CO(this._delegate,t)}set(t,e){e=XA("DocumentReference.set",e);try{return e?GO(this._delegate,t,e):GO(this._delegate,t)}catch(i){throw Js(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?ZO(this._delegate,t):ZO(this._delegate,t,e,...i)}catch(r){throw Js(r,"updateDoc()","DocumentReference.update()")}}delete(){return function eU(n){return Tv(an(n.firestore,vi),[new xd(n._key,hi.none())])}(this._delegate)}onSnapshot(...t){const e=JO(t),i=eP(t,r=>new Sw(this.firestore,new Nd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return zO(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function WB(n){n=an(n,fi);const t=an(n.firestore,vi),e=or(t),i=new Xm(t);return function lB(n,t){const e=new Wi;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(i=(0,me.Z)(function*(r,o,u){try{const h=yield function(_,w){const D=Qe(_);return D.persistence.runTransaction("read document","readonly",S=>D.localDocuments.getDocument(S,w))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Ie(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=bv(h,`Failed to get document '${o} from cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield UA(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Nd(t,i,n._key,r,new Qm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function KB(n){n=an(n,fi);const t=an(n.firestore,vi);return fO(or(t),n._key,{source:"server"}).then(e=>QA(t,n,e))}(this._delegate):function YB(n){n=an(n,fi);const t=an(n.firestore,vi);return fO(or(t),n._key).then(e=>QA(t,n,e))}(this._delegate),e.then(i=>new Sw(this.firestore,new Nd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new sl(this.firestore,this._delegate.withConverter(t?Jm.getInstance(this.firestore,t):null))}}function Js(n,t,e){return n.message=n.message.replace(t,e),n}function JO(n){for(const t of n)if("object"==typeof t&&!JA(t))return t;return{}}function eP(n,t){var e,i;let r;return r=JA(n[0])?n[0]:JA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Sw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new sl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return PO(this._delegate,t._delegate)}}class Iw extends Sw{data(t){const e=this._delegate.data(t);return function FS(n,t){n||st()}(void 0!==e),e}}class eo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new UT(t)}where(t,e,i){try{return new eo(this.firestore,Uf(this._delegate,function LB(n,t,e){const i=t,r=VT("where",n);return new NB(r,i,e)}(t,e,i)))}catch(r){throw Js(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new eo(this.firestore,Uf(this._delegate,function BB(n,t="asc"){const e=t,i=VT("orderBy",n);return new VB(i,e)}(t,e)))}catch(i){throw Js(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new eo(this.firestore,Uf(this._delegate,function UB(n){return vO("limit",n),new NO("limit",n,"F")}(t)))}catch(e){throw Js(e,"limit()","Query.limit()")}}limitToLast(t){try{return new eo(this.firestore,Uf(this._delegate,function HB(n){return vO("limitToLast",n),new NO("limitToLast",n,"L")}(t)))}catch(e){throw Js(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new eo(this.firestore,Uf(this._delegate,function jB(...n){return new LO("startAt",n,!0)}(...t)))}catch(e){throw Js(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new eo(this.firestore,Uf(this._delegate,function qB(...n){return new LO("startAfter",n,!1)}(...t)))}catch(e){throw Js(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new eo(this.firestore,Uf(this._delegate,function GB(...n){return new VO("endBefore",n,!1)}(...t)))}catch(e){throw Js(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new eo(this.firestore,Uf(this._delegate,function ZB(...n){return new VO("endAt",n,!0)}(...t)))}catch(e){throw Js(e,"endAt()","Query.endAt()")}}isEqual(t){return DO(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function XB(n){n=an(n,Is);const t=an(n.firestore,vi),e=or(t),i=new Xm(t);return function cB(n,t){const e=new Wi;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(i=(0,me.Z)(function*(r,o,u){try{const h=yield DT(r,o,!0),_=new eO(o,h.ji),w=_.Ku(h.documents),D=_.applyChanges(w,!1);u.resolve(D.snapshot)}catch(h){const _=bv(h,`Failed to execute query '${o} against cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield UA(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Bf(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function JB(n){n=an(n,Is);const t=an(n.firestore,vi),e=or(t),i=new Xm(t);return pO(e,n._query,{source:"server"}).then(r=>new Bf(t,i,n,r))}(this._delegate):function QB(n){n=an(n,Is);const t=an(n.firestore,vi),e=or(t),i=new Xm(t);return FO(n._query),pO(e,n._query).then(r=>new Bf(t,i,n,r))}(this._delegate),e.then(i=>new ek(this.firestore,new Bf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=JO(t),i=eP(t,r=>new ek(this.firestore,new Bf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return zO(this._delegate,e,i)}withConverter(t){return new eo(this.firestore,this._delegate.withConverter(t?Jm.getInstance(this.firestore,t):null))}}class mU{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Iw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ek{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new eo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Iw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new mU(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Iw(this._firestore,i))})}isEqual(t){return PO(this._delegate,t._delegate)}}class Mv extends eo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new sl(this.firestore,t):null}doc(t){try{return new sl(this.firestore,void 0===t?RT(this._delegate):RT(this._delegate,t))}catch(e){throw Js(e,"doc()","CollectionReference.doc()")}}add(t){return function tU(n,t){const e=an(n.firestore,vi),i=RT(n),r=BT(n.converter,t);return Tv(e,[FT(Wm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,hi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new sl(this.firestore,e))}isEqual(t){return CO(this._delegate,t._delegate)}withConverter(t){return new Mv(this.firestore,this._delegate.withConverter(t?Jm.getInstance(this.firestore,t):null))}}function eg(n){return an(n,fi)}class tk{constructor(...t){this._delegate=new Fd(...t)}static documentId(){return new tk(di.keyField().canonicalString())}isEqual(t){return(t=(0,Tt.m9)(t))instanceof Fd&&this._delegate._internalPath.isEqual(t._internalPath)}}class tg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function oU(){return new ZA("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new tg(t)}static delete(){const t=function sU(){return new Dw("deleteField")}();return t._methodName="FieldValue.delete",new tg(t)}static arrayUnion(...t){const e=function aU(...n){return new AB("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new tg(e)}static arrayRemove(...t){const e=function lU(...n){return new kB("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new tg(e)}static increment(t){const e=function cU(n){return new RB("increment",n)}(t);return e._methodName="FieldValue.increment",new tg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const gU={Firestore:KO,GeoPoint:OT,Timestamp:ni,Blob:xw,Transaction:QO,WriteBatch:XO,DocumentReference:sl,DocumentSnapshot:Sw,Query:eo,QueryDocumentSnapshot:Iw,QuerySnapshot:ek,CollectionReference:Mv,FieldPath:tk,FieldValue:tg,setLogLevel:function pU(n){!function dE(n){Zl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function yU(n){(function _U(n,t){n.INTERNAL.registerComponent(new Sc.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},gU)))})(n,(t,e)=>new KO(t,e,new fU)),n.registerVersion("@firebase/firestore-compat","0.1.21")}(kp.Z);var kt=P(7579),Ld=P(6451),HT=P(5363),vU=P(6063);class bU extends kt.x{constructor(t=1/0,e=1/0,i=vU.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)h=_;h&&i.splice(0,h+1)}}}var tP=P(3099);function nP(n,t,e){var i,r;let o,u=!1;return n&&"object"==typeof n?(o=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,u=!!n.refCount,e=n.scheduler):o=null!=n?n:1/0,(0,tP.B)({connector:()=>new bU(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}const jT=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var br=P(5698);function iP(n){return(0,qi.e)((t,e)=>{let i=!1;t.subscribe(new Di.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function rP(n=CU){return(0,qi.e)((t,e)=>{let i=!1;t.subscribe(new Di.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function CU(){return new jT}function ng(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ei((r,o)=>n(r,o,i)):Ya.y,(0,br.q)(1),e?iP(t):rP(()=>new jT))}var ol=P(576);function sP(n,t){return(0,ol.m)(t)?Xn(()=>n,t):Xn(()=>n)}var nk=P(9468);const oP=new s.OlP("angularfire2.auth.use-emulator"),aP=new s.OlP("angularfire2.auth.settings"),lP=new s.OlP("angularfire2.auth.tenant-id"),cP=new s.OlP("angularfire2.auth.langugage-code"),uP=new s.OlP("angularfire2.auth.use-device-language"),dP=new s.OlP("angularfire.auth.persistence"),hP=(n,t,e,i,r,o,u,h)=>(0,hn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,o&&_.useDeviceLanguage(),u)for(const[w,D]of Object.entries(u))_.settings[w]=D;return h&&_.setPersistence(h),_},[e,i,r,o,u,h]);let fP=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S,O,L){const H=new kt.x,Q=nt(void 0).pipe((0,HT.Q)(u.outsideAngular),Xn(()=>o.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,1121)))),(0,et.U)(()=>(0,hn.on)(e,o,i)),(0,et.U)(ie=>hP(ie,o,h,w,D,S,_,O)),nP({bufferSize:1,refCount:!1}));if(yl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{Q.pipe(ng()).subscribe();const Ue=Q.pipe(Xn(He=>He.getRedirectResult().then(Dt=>Dt,()=>null)),zn.iC,nP({bufferSize:1,refCount:!1})),Ke=Q.pipe(Xn(He=>new kn.y(Dt=>({unsubscribe:o.runOutsideAngular(()=>He.onAuthStateChanged(Rt=>Dt.next(Rt),Rt=>Dt.error(Rt),()=>Dt.complete()))})))),je=Q.pipe(Xn(He=>new kn.y(Dt=>({unsubscribe:o.runOutsideAngular(()=>He.onIdTokenChanged(Rt=>Dt.next(Rt),Rt=>Dt.error(Rt),()=>Dt.complete()))}))));this.authState=Ue.pipe(sP(Ke),(0,nk.R)(u.outsideAngular),(0,HT.Q)(u.insideAngular)),this.user=Ue.pipe(sP(je),(0,nk.R)(u.outsideAngular),(0,HT.Q)(u.insideAngular)),this.idToken=this.user.pipe(Xn(He=>He?(0,dn.D)(He.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(Xn(He=>He?(0,dn.D)(He.getIdTokenResult()):nt(null))),this.credential=(0,Ld.T)(Ue,H,this.authState.pipe(ei(He=>!He))).pipe((0,et.U)(He=>(null==He?void 0:He.user)?He:null),(0,nk.R)(u.outsideAngular),(0,HT.Q)(u.insideAngular))}return(0,hn.pX)(this,Q,o,{spy:{apply:(ie,Ue,Ke)=>{(ie.startsWith("signIn")||ie.startsWith("createUser"))&&Ke.then(je=>H.next(je))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hn.Dh),s.LFG(hn.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zn.HU),s.LFG(oP,8),s.LFG(aP,8),s.LFG(lP,8),s.LFG(cP,8),s.LFG(uP,8),s.LFG(dP,8),s.LFG(Es,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function pP(n,t){return function EU(n,t=xc.z){return new kn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function ik(n,t){return pP(n,t).pipe((0,et.U)(e=>({payload:e,type:"query"})))}function qT(n,t){return ik(n,t).pipe($r(void 0),Rc(),(0,et.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const _=r.find(D=>D.doc.ref.isEqual(u.ref)),w=null==e?void 0:e.payload.docs.find(D=>D.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function mP(n,t,e){return qT(n,e).pipe($a((i,r)=>function MU(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function xU(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return rk(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return rk(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return rk(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Oc(),(0,et.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function rk(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function gP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class _P{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=qT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,et.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe($r(void 0),Rc(),ei(([i,r])=>r.length>0||!i),(0,et.U)(([i,r])=>r),zn.iC)}auditTrail(t){return this.stateChanges(t).pipe($a((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=gP(t);return mP(this.query,e,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(t={}){return ik(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),zn.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe(zn.iC)}add(t){return this.ref.add(t)}doc(t){return new yP(this.ref.doc(t),this.afs)}}class yP{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=wP(i,e);return new _P(r,o,this.afs)}snapshotChanges(){return function TU(n,t){return pP(n,t).pipe($r(void 0),Rc(),(0,et.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,et.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,dn.D)(this.ref.get(t)).pipe(zn.iC)}}class SU{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?qT(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),ei(e=>e.length>0),zn.iC):qT(this.query,this.afs.schedulers.outsideAngular).pipe(zn.iC)}auditTrail(t){return this.stateChanges(t).pipe($a((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=gP(t);return mP(this.query,e,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(t={}){return ik(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),zn.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe(zn.iC)}}const vP=new s.OlP("angularfire2.enableFirestorePersistence"),bP=new s.OlP("angularfire2.firestore.persistenceSettings"),IU=new s.OlP("angularfire2.firestore.settings"),AU=new s.OlP("angularfire2.firestore.use-emulator");function wP(n,t=(e=>e)){return{query:t(n),ref:n}}let CP=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S,O,L,H,Q,ie,Ue,Ke){this.schedulers=_;const je=(0,hn.on)(e,h,i),He=D;S&&hP(je,h,O,H,Q,ie,L,Ue),[this.firestore,this.persistenceEnabled$]=(0,hn.cc)(`${je.name}.firestore`,"AngularFirestore",je.name,()=>{const Dt=h.runOutsideAngular(()=>je.firestore());if(o&&Dt.settings(o),He&&Dt.useEmulator(...He),r&&!yl(u)){const Rt=()=>{try{return(0,dn.D)(Dt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(on){return"undefined"!=typeof console&&console.warn(on),nt(!1)}};return[Dt,h.runOutsideAngular(Rt)]}return[Dt,nt(!1)]},[o,He,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=wP(r,i),h=this.schedulers.ngZone.run(()=>o);return new _P(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new SU(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new yP(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hn.Dh),s.LFG(hn.xv,8),s.LFG(vP,8),s.LFG(IU,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zn.HU),s.LFG(bP,8),s.LFG(AU,8),s.LFG(fP,8),s.LFG(oP,8),s.LFG(aP,8),s.LFG(lP,8),s.LFG(cP,8),s.LFG(uP,8),s.LFG(dP,8),s.LFG(Es,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kU=(()=>{class n{constructor(){_D.Z.registerVersion("angularfire",zn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:vP,useValue:!0},{provide:bP,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[CP]}),n})();const DP_firebase={apiKey:"AIzaSyA7tSfgvo9iMlmZpENiWxpWtLqEHyLXJ8w",authDomain:"withthebible-c93d6.firebaseapp.com",projectId:"withthebible-c93d6",storageBucket:"withthebible-c93d6.appspot.com",messagingSenderId:"557096516299",appId:"1:557096516299:web:6dda9d97fa91748305f94e",measurementId:"G-6RSS3RLXCL"};function Jt(n){return null!=n&&"false"!=`${n}`}function to(n,t=0){return EP(n)?Number(n):t}function EP(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function GT(n){return Array.isArray(n)?n:[n]}function ar(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Vd(n){return n instanceof s.SBq?n.nativeElement:n}function Bd(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const qU=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function GU(){return(0,s.f3M)(te)}}),ZU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ak,Ud=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function zU(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?ZU.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qU,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ow=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();try{ak="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){ak=!1}let xv,wr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Ji(n){return n===as}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ak)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function IP(){if(xv)return xv;if("object"!=typeof document||!document)return xv=new Set(SP),xv;let n=document.createElement("input");return xv=new Set(SP.filter(t=>(n.setAttribute("type",t),n.type===t))),xv}let Pw,rg,lk;function ig(n){return function $U(){if(null==Pw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Pw=!0}))}finally{Pw=Pw||!1}return Pw}()?n:!!n.capture}function YU(){if(null==rg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return rg=!1,rg;if("scrollBehavior"in document.documentElement.style)rg=!0;else{const n=Element.prototype.scrollTo;rg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return rg}function AP(n){if(function WU(){if(null==lk){const n="undefined"!=typeof document?document.head:null;lk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return lk}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ck(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function sg(n){return n.composedPath?n.composedPath()[0]:n.target}function uk(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var Qr=P(727);class As extends kt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Xr=P(8505);function kP(n){return ei((t,e)=>n<=e)}var KU=P(5032);function En(n){return(0,qi.e)((t,e)=>{(0,yo.Xf)(n).subscribe(new Di.Q(e,()=>e.complete(),KU.Z)),!e.closed&&t.subscribe(e)})}let RP=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QU=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Vd(e);return new kn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new kt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(RP))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dk=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Jt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=to(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Yu(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(QU),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Fw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[RP]}),n})();function $T(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const PP="cdk-describedby-message",YT="cdk-describedby-host";let FP=0,NP=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+FP++,this._document=e}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=hk(i,r);"string"!=typeof i?(LP(i),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){var o;if(!i||!this._isElementNode(e))return;const u=hk(i,r);if(this._isElementDescribedByMessage(e,u)&&this._removeMessageReference(e,u),"string"==typeof i){const h=this._messageRegistry.get(u);h&&0===h.referenceCount&&this._deleteMessageElement(u)}0===(null===(o=this._messagesContainer)||void 0===o?void 0:o.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var e;const i=this._document.querySelectorAll(`[${YT}="${this._id}"]`);for(let r=0;r<i.length;r++)this._removeCdkDescribedByReferenceIds(i[r]),i[r].removeAttribute(YT);null===(e=this._messagesContainer)||void 0===e||e.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");LP(r),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(hk(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){var i,r;null===(r=null===(i=this._messageRegistry.get(e))||void 0===i?void 0:i.messageElement)||void 0===r||r.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=$T(e,"aria-describedby").filter(r=>0!=r.indexOf(PP));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function XU(n,t,e){const i=$T(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(YT,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function JU(n,t,e){const r=$T(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(YT)}_isElementDescribedByMessage(e,i){const r=$T(e,"aria-describedby"),o=this._messageRegistry.get(i),u=o&&o.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(wr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hk(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function LP(n){n.id||(n.id=`${PP}-${FP++}`)}class eH extends class VP{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new kt.x,this._typeaheadSubscription=Qr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new kt.x,this.change=new kt.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Xr.b)(e=>this._pressedLetters.push(e)),Yu(t),ei(()=>this._pressedLetters.length>0),(0,et.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Bd(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let BP=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function iH(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function nH(n){try{return n.frameElement}catch(t){return null}}(function dH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===HP(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=HP(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function cH(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function uH(n){return!function sH(n){return function aH(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function rH(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function oH(n){return function lH(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||UP(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UP(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function HP(n){if(!UP(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class hH{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,br.q)(1)).subscribe(t)}}let fH=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new hH(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(BP),s.LFG(s.R0b),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jP(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function qP(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const pH=new s.OlP("cdk-input-modality-detector-options"),mH={ignoreKeys:[18,17,224,91,16]},Sv=ig({passive:!0,capture:!0});let gH=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new As(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,_;(null===(_=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===_?void 0:_.some(w=>w===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=sg(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(jP(u)?"keyboard":"mouse"),this._mostRecentTarget=sg(u))},this._onTouchstart=u=>{qP(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=sg(u))},this._options=Object.assign(Object.assign({},mH),o),this.modalityDetected=this._modality.pipe(kP(1)),this.modalityChanged=this.modalityDetected.pipe(Oc()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Sv),r.addEventListener("mousedown",this._onMousedown,Sv),r.addEventListener("touchstart",this._onTouchstart,Sv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sv),document.removeEventListener("mousedown",this._onMousedown,Sv),document.removeEventListener("touchstart",this._onTouchstart,Sv))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wr),s.LFG(s.R0b),s.LFG(te),s.LFG(pH,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _H=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function yH(){return null}}),vH=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let bH=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[o,u]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_H,8),s.LFG(s.R0b),s.LFG(te),s.LFG(vH,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wH=new s.OlP("cdk-focus-monitor-default-options"),WT=ig({passive:!0,capture:!0});let og=(()=>{class n{constructor(e,i,r,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new kt.x,this._rootNodeFocusAndBlurListener=h=>{const _=sg(h),w="focus"===h.type?this._onFocus:this._onBlur;for(let D=_;D;D=D.parentElement)w.call(this,h,D)},this._document=o,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const r=Vd(e);if(!this._platform.isBrowser||1!==r.nodeType)return nt(null);const o=AP(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new kt.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Vd(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Vd(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,_])=>this._originChanged(h,i,_)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=sg(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,WT),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,WT)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(En(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,WT),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,WT),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(wr),s.LFG(gH),s.LFG(te,8),s.LFG(wH,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZP="cdk-high-contrast-black-on-white",zP="cdk-high-contrast-white-on-black",fk="cdk-high-contrast-active";let $P=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(fk),e.remove(ZP),e.remove(zP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(fk),e.add(ZP)):2===i&&(e.add(fk),e.add(zP))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wr),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pk=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($P))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Fw]]}),n})();class YP{}const Hd="*";function ks(n,t){return{type:7,name:n,definitions:t,options:{}}}function ri(n,t=null){return{type:4,styles:t,timings:n}}function WP(n,t=null){return{type:3,steps:n,options:t}}function KP(n,t=null){return{type:2,steps:n,options:t}}function Ct(n){return{type:6,styles:n,offset:null}}function Wn(n,t,e){return{type:0,name:n,styles:t,options:e}}function ag(n){return{type:5,steps:n}}function jn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function KT(n=null){return{type:9,options:n}}function QT(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function QP(n){Promise.resolve(null).then(n)}class Iv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){QP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class XP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?QP(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function JP(){return"undefined"!=typeof window&&void 0!==window.document}function gk(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function jf(n){switch(n.length){case 0:return new Iv;case 1:return n[0];default:return new XP(n)}}function eF(n,t,e,i,r={},o={}){const u=[],h=[];let _=-1,w=null;if(i.forEach(D=>{const S=D.offset,O=S==_,L=O&&w||{};Object.keys(D).forEach(H=>{let Q=H,ie=D[H];if("offset"!==H)switch(Q=t.normalizePropertyName(Q,u),ie){case"!":ie=r[H];break;case Hd:ie=o[H];break;default:ie=t.normalizeStyleValue(H,Q,ie,u)}L[Q]=ie}),O||h.push(L),w=L,_=S}),u.length){const D="\n - ";throw new Error(`Unable to animate due to the following errors:${D}${u.join(D)}`)}return h}function _k(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&yk(e,"start",n)));break;case"done":n.onDone(()=>i(e&&yk(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&yk(e,"destroy",n)))}}function yk(n,t,e){const i=e.totalTime,o=vk(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function vk(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function ua(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function tF(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let bk=(n,t)=>!1,nF=(n,t,e)=>[];(gk()||"undefined"!=typeof Element)&&(bk=JP()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),nF=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let lg=null,iF=!1;function wk(n){lg||(lg=function EH(){return"undefined"!=typeof document?document.body:null}()||{},iF=!!lg.style&&"WebkitAppearance"in lg.style);let t=!0;return lg.style&&!function DH(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in lg.style,!t&&iF&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in lg.style)),t}const Ck=bk,Dk=nF;function rF(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let sF=(()=>{class n{validateStyleProperty(e){return wk(e)}matchesElement(e,i){return!1}containsElement(e,i){return Ck(e,i)}query(e,i,r){return Dk(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],_){return new Iv(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ek=(()=>{class n{}return n.NOOP=new sF,n})();const Tk="ng-enter",XT="ng-leave",JT="ng-trigger",eM=".ng-trigger",aF="ng-animating",Mk=".ng-animating";function cg(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:xk(parseFloat(t[1]),t[2])}function xk(n,t){return"s"===t?1e3*n:n}function tM(n,t,e){return n.hasOwnProperty("duration")?n:function xH(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=xk(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(o=xk(parseFloat(_),h[4]));const w=h[5];w&&(u=w)}else r=n;if(!e){let h=!1,_=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),h=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),h=!0),h&&t.splice(_,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:o,easing:u}}(n,t,e)}function Av(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function qf(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Av(n,e);return e}function cF(n,t,e){return e?t+":"+e+";":""}function uF(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=cF(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=cF(0,AH(e),n.style[e]));n.setAttribute("style",t)}function lu(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Ik(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),gk()&&uF(n))}function ug(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Ik(e);n.style[i]=""}),gk()&&uF(n))}function Nw(n){return Array.isArray(n)?1==n.length?n[0]:KP(n):n}const Sk=new RegExp("{{\\s*(.+?)\\s*}}","g");function dF(n){let t=[];if("string"==typeof n){let e;for(;e=Sk.exec(n);)t.push(e[1]);Sk.lastIndex=0}return t}function nM(n,t,e){const i=n.toString(),r=i.replace(Sk,(o,u)=>{let h=t[u];return t.hasOwnProperty(u)||(e.push(`Please provide a value for the animation param ${u}`),h=""),h.toString()});return r==i?n:r}function iM(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const IH=/-+([a-z0-9])/g;function Ik(n){return n.replace(IH,(...t)=>t[1].toUpperCase())}function AH(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hF(n,t){return 0===n||0===t}function fF(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],u=[];if(i.forEach(h=>{o.hasOwnProperty(h)||u.push(h),o[h]=e[h]}),u.length)for(var r=1;r<t.length;r++){let h=t[r];u.forEach(function(_){h[_]=Ak(n,_)})}}return t}function da(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Ak(n,t){return window.getComputedStyle(n)[t]}function kH(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function RH(n,t,e){if(":"==n[0]){const _=function OH(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],o=i[2],u=i[3];t.push(pF(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(pF(u,r))}(i,e,t)):e.push(n),e}const sM=new Set(["true","1"]),oM=new Set(["false","0"]);function pF(n,t){const e=sM.has(n)||oM.has(n),i=sM.has(t)||oM.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?sM.has(n):oM.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?sM.has(t):oM.has(t)),u&&h}}const PH=new RegExp("s*:selfs*,?","g");function kk(n,t,e){return new FH(n).build(t,e)}class FH{constructor(t){this._driver=t}build(t,e){const i=new VH(e);return this._resetContextStyleTimingState(i),da(this,Nw(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const _=h,w=_.name;w.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,o.push(this.visitState(_,e))}),_.name=w}else if(1==h.type){const _=this.visitTransition(h,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};if(i.styles.forEach(h=>{if(aM(h)){const _=h;Object.keys(_).forEach(w=>{dF(_[w]).forEach(D=>{u.hasOwnProperty(D)||o.add(D)})})}}),o.size){const h=iM(o.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${h.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=da(this,Nw(t.animation),e);return{type:1,matchers:kH(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:dg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>da(this,i,e)),options:dg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=da(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:dg(t.options)}}visitAnimate(t,e){const i=function UH(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Rk(tM(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Rk(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||tM(i,t),Rk(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Ct({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const w={};i.easing&&(w.easing=i.easing),u=Ct(w)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=h,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Hd?i.push(u):e.errors.push(`The provided style string value ${u} is not allowed.`):i.push(u)}):i.push(t.styles);let r=!1,o=null;return i.forEach(u=>{if(aM(u)){const h=u,_=h.easing;if(_&&(o=_,delete h.easing),!r)for(let w in h)if(h[w].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return void e.errors.push(`The provided animation property "${h}" is not a supported CSS property for animations`);const _=e.collectedStyles[e.currentQuerySelector],w=_[h];let D=!0;w&&(o!=r&&o>=w.startTime&&r<=w.endTime&&(e.errors.push(`The CSS property "${h}" that exists between the times of "${w.startTime}ms" and "${w.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${r}ms"`),D=!1),o=w.startTime),D&&(_[h]={startTime:o,endTime:r}),e.options&&function SH(n,t,e){const i=t.params||{},r=dF(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(u[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let o=0;const u=[];let h=!1,_=!1,w=0;const D=t.steps.map(Ue=>{const Ke=this._makeStyleAst(Ue,e);let je=null!=Ke.offset?Ke.offset:function BH(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(aM(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(aM(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ke.styles),He=0;return null!=je&&(o++,He=Ke.offset=je),_=_||He<0||He>1,h=h||He<w,w=He,u.push(He),Ke});_&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),h&&e.errors.push("Please ensure that all keyframe offsets are in order");const S=t.steps.length;let O=0;o>0&&o<S?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(O=1/(S-1));const L=S-1,H=e.currentTime,Q=e.currentAnimateTimings,ie=Q.duration;return D.forEach((Ue,Ke)=>{const je=O>0?Ke==L?1:O*Ke:u[Ke],He=je*ie;e.currentTime=H+Q.delay+He,Q.duration=He,this._validateStyleAst(Ue,e),Ue.offset=je,i.styles.push(Ue)}),i}visitReference(t,e){return{type:8,animation:da(this,Nw(t.animation),e),options:dg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:dg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:dg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function NH(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(PH,"")),n=n.replace(/@\*/g,eM).replace(/@\w+/g,e=>eM+"-"+e.substr(1)).replace(/:animating/g,Mk),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ua(e.collectedStyles,e.currentQuerySelector,{});const h=da(this,Nw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:dg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:tM(t.timings,e.errors,!0);return{type:12,animation:da(this,Nw(t.animation),e),timings:i,options:null}}}class VH{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function aM(n){return!Array.isArray(n)&&"object"==typeof n}function dg(n){return n?(n=Av(n)).params&&(n.params=function LH(n){return n?Av(n):null}(n.params)):n={},n}function Rk(n,t,e){return{duration:n,delay:t,easing:e}}function Ok(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class lM{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const qH=new RegExp(":enter","g"),ZH=new RegExp(":leave","g");function Pk(n,t,e,i,r,o={},u={},h,_,w=[]){return(new zH).buildKeyframes(n,t,e,i,r,o,u,h,_,w)}class zH{buildKeyframes(t,e,i,r,o,u,h,_,w,D=[]){w=w||new lM;const S=new Fk(t,e,w,r,o,D,[]);S.options=_,S.currentTimeline.setStyles([u],null,S.errors,_),da(this,i,S);const O=S.timelines.filter(L=>L.containsAnimation());if(Object.keys(h).length){let L;for(let H=O.length-1;H>=0;H--){const Q=O[H];if(Q.element===e){L=Q;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([h],null,S.errors,_)}return O.length?O.map(L=>L.buildKeyframes()):[Ok(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?cg(i.duration):null,h=null!=i.delay?cg(i.delay):null;return 0!==u&&t.forEach(_=>{const w=e.appendInstructionToTimeline(_,u,h);o=Math.max(o,w.duration+w.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),da(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=cM);const u=cg(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>da(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?cg(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),da(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return tM(e.params?nM(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(_=>{h.forwardTime((_.offset||0)*o),h.setStyles(_.styles,_.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?cg(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=cM);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let _=null;h.forEach((w,D)=>{e.currentQueryIndex=D;const S=e.createSubContext(t.options,w);o&&S.delayNextStep(o),w===e.element&&(_=S.currentTimeline),da(this,t.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const D=e.currentTimeline;_&&D.delayNextStep(_);const S=D.currentTime;da(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const cM={};class Fk{constructor(t,e,i,r,o,u,h,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new uM(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=cg(i.duration)),null!=i.delay&&(r.delay=cg(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=nM(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Fk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=cM,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new $H(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(qH,"."+this._enterClassName)).replace(ZH,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),h.push(...w)}return!o&&0==h.length&&u.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),h}}class uM{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new uM(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Hd,this._currentKeyframe[e]=Hd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},u=function YH(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Hd})):qf(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const _=nM(u[h],o,i);this._pendingStyles[h]=_,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Hd),this._updateStyle(h,_)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const w=qf(h,!0);Object.keys(w).forEach(D=>{const S=w[D];"!"==S?t.add(D):S==Hd&&e.add(D)}),i||(w.offset=_/this.duration),r.push(w)});const o=t.size?iM(t.values()):[],u=e.size?iM(e.values()):[];if(i){const h=r[0],_=Av(h);h.offset=0,_.offset=1,r=[h,_]}return Ok(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class $H extends uM{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,_=qf(t[0],!1);_.offset=0,o.push(_);const w=qf(t[0],!1);w.offset=_F(h),o.push(w);const D=t.length-1;for(let S=1;S<=D;S++){let O=qf(t[S],!1);O.offset=_F((e+O.offset*i)/u),o.push(O)}i=u,e=0,r="",t=o}return Ok(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function _F(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Nk{}class WH extends Nk{normalizePropertyName(t,e){return Ik(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(KH[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return u+o}}const KH=(()=>function QH(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function yF(n,t,e,i,r,o,u,h,_,w,D,S,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:_,preStyleProps:w,postStyleProps:D,totalTime:S,errors:O}}const Lk={};class vF{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function XH(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):u}build(t,e,i,r,o,u,h,_,w,D){const S=[],O=this.ast.options&&this.ast.options.params||Lk,H=this.buildStyles(i,h&&h.params||Lk,S),Q=_&&_.params||Lk,ie=this.buildStyles(r,Q,S),Ue=new Set,Ke=new Map,je=new Map,He="void"===r,Dt={params:Object.assign(Object.assign({},O),Q)},Rt=D?[]:Pk(t,e,this.ast.animation,o,u,H,ie,Dt,w,S);let on=0;if(Rt.forEach(pa=>{on=Math.max(pa.duration+pa.delay,on)}),S.length)return yF(e,this._triggerName,i,r,He,H,ie,[],[],Ke,je,on,S);Rt.forEach(pa=>{const Jd=pa.element,H2=ua(Ke,Jd,{});pa.preStyleProps.forEach(Sg=>H2[Sg]=!0);const lC=ua(je,Jd,{});pa.postStyleProps.forEach(Sg=>lC[Sg]=!0),Jd!==e&&Ue.add(Jd)});const Qi=iM(Ue.values());return yF(e,this._triggerName,i,r,He,H,ie,Rt,Qi,Ke,je,on)}}class JH{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Av(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!=u&&(r[o]=u)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const u=o;Object.keys(u).forEach(h=>{let _=u[h];_.length>1&&(_=nM(_,r,e));const w=this.normalizer.normalizePropertyName(h,e);_=this.normalizer.normalizeStyleValue(h,w,_,e),i[w]=_})}}),i}}class tj{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new JH(r.style,r.options&&r.options.params||{},i)}),bF(this.states,"true","1"),bF(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new vF(t,r,this.states))}),this.fallbackTransition=function nj(n,t,e){return new vF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function bF(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const ij=new lM;class rj{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=kk(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,o=eF(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let u;const h=new Map;if(o?(u=Pk(this._driver,e,o,Tk,XT,{},{},i,ij,r),u.forEach(D=>{const S=ua(h,D.element,{});D.postStyleProps.forEach(O=>S[O]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),u=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);h.forEach((D,S)=>{Object.keys(D).forEach(O=>{D[O]=this._driver.computeStyle(S,O,Hd)})});const w=jf(u.map(D=>{const S=h.get(D.element);return this._buildPlayer(D,{},S)}));return this._playersById[t]=w,w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const o=vk(e,"","","");return _k(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const wF="ng-animate-queued",Vk="ng-animate-disabled",cj=[],CF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},al="__ng_removed";class Bk{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function pj(n){return null!=n?n:null}(i?t.value:t),i){const o=Av(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Lw="void",Uk=new Bk(Lw);class dj{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ll(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function mj(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const o=ua(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=ua(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(ll(t,JT),ll(t,JT+"-"+e),h[e]=Uk),()=>{this._engine.afterFlush(()=>{const _=o.indexOf(u);_>=0&&o.splice(_,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new Hk(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(ll(t,JT),ll(t,JT+"-"+e),this._engine.statesByElement.set(t,h={}));let _=h[e];const w=new Bk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),h[e]=w,_||(_=Uk),w.value!==Lw&&_.value===w.value){if(!function yj(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(_.params,w.params)){const Q=[],ie=o.matchStyles(_.value,_.params,Q),Ue=o.matchStyles(w.value,w.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{ug(t,ie),lu(t,Ue)})}return}const O=ua(this._engine.playersByElement,t,[]);O.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==e&&Q.queued&&Q.destroy()});let L=o.matchTransition(_.value,w.value,t,w.params),H=!1;if(!L){if(!r)return;L=o.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:L,fromState:_,toState:w,player:u,isFallbackTransition:H}),H||(ll(t,wF),u.onStart(()=>{kv(t,wF)})),u.onDone(()=>{let Q=this.players.indexOf(u);Q>=0&&this.players.splice(Q,1);const ie=this._engine.playersByElement.get(t);if(ie){let Ue=ie.indexOf(u);Ue>=0&&ie.splice(Ue,1)}}),this.players.push(u),O.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,eM,!0);i.forEach(r=>{if(r[al])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(Object.keys(o).forEach(_=>{if(u.set(_,o[_].value),this._triggers[_]){const w=this.trigger(t,_,Lw,r);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&jf(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,w=i[u]||Uk,D=new Bk(Lw),S=new Hk(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:w,toState:D,player:S,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[al];(!o||o===CF)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ll(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const _=vk(o,i.triggerName,i.fromState.value,i.toState.value);_._data=t,_k(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class hj{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new dj(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,e)){this._namespaceList.splice(o+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const u=i[r[o]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(dM(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!dM(e))return;const o=e[al];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ll(t,Vk)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),kv(t,Vk))}removeNode(t,e,i,r){if(dM(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[al]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return dM(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,eM,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Mk,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return jf(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[al];if(i&&i.setForRemoval){if(t[al]=CF,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Vk))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ll(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?jf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new lM,r=[],o=new Map,u=[],h=new Map,_=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(dt=>{D.add(dt);const Et=this.driver.query(dt,".ng-animate-queued",!0);for(let It=0;It<Et.length;It++)D.add(Et[It])});const S=this.bodyNode,O=Array.from(this.statesByElement.keys()),L=TF(O,this.collectedEnterElements),H=new Map;let Q=0;L.forEach((dt,Et)=>{const It=Tk+Q++;H.set(Et,It),dt.forEach(_n=>ll(_n,It))});const ie=[],Ue=new Set,Ke=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Et=this.collectedLeaveElements[dt],It=Et[al];It&&It.setForRemoval&&(ie.push(Et),Ue.add(Et),It.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(_n=>Ue.add(_n)):Ke.add(Et))}const je=new Map,He=TF(O,Array.from(Ue));He.forEach((dt,Et)=>{const It=XT+Q++;je.set(Et,It),dt.forEach(_n=>ll(_n,It))}),t.push(()=>{L.forEach((dt,Et)=>{const It=H.get(Et);dt.forEach(_n=>kv(_n,It))}),He.forEach((dt,Et)=>{const It=je.get(Et);dt.forEach(_n=>kv(_n,It))}),ie.forEach(dt=>{this.processLeaveNode(dt)})});const Dt=[],Rt=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(e).forEach(It=>{const _n=It.player,Vr=It.element;if(Dt.push(_n),this.collectedEnterElements.length){const ro=Vr[al];if(ro&&ro.setForMove){if(ro.previousTriggersValues&&ro.previousTriggersValues.has(It.triggerName)){const Ig=ro.previousTriggersValues.get(It.triggerName),tp=this.statesByElement.get(It.element);tp&&tp[It.triggerName]&&(tp[It.triggerName].value=Ig)}return void _n.destroy()}}const gu=!S||!this.driver.containsElement(S,Vr),ma=je.get(Vr),ep=H.get(Vr),Si=this._buildInstruction(It,i,ep,ma,gu);if(Si.errors&&Si.errors.length)return void Rt.push(Si);if(gu)return _n.onStart(()=>ug(Vr,Si.fromStyles)),_n.onDestroy(()=>lu(Vr,Si.toStyles)),void r.push(_n);if(It.isFallbackTransition)return _n.onStart(()=>ug(Vr,Si.fromStyles)),_n.onDestroy(()=>lu(Vr,Si.toStyles)),void r.push(_n);const G2=[];Si.timelines.forEach(ro=>{ro.stretchStartingKeyframe=!0,this.disabledNodes.has(ro.element)||G2.push(ro)}),Si.timelines=G2,i.append(Vr,Si.timelines),u.push({instruction:Si,player:_n,element:Vr}),Si.queriedElements.forEach(ro=>ua(h,ro,[]).push(_n)),Si.preStyleProps.forEach((ro,Ig)=>{const tp=Object.keys(ro);if(tp.length){let Ag=_.get(Ig);Ag||_.set(Ig,Ag=new Set),tp.forEach(Y1=>Ag.add(Y1))}}),Si.postStyleProps.forEach((ro,Ig)=>{const tp=Object.keys(ro);let Ag=w.get(Ig);Ag||w.set(Ig,Ag=new Set),tp.forEach(Y1=>Ag.add(Y1))})});if(Rt.length){const dt=[];Rt.forEach(Et=>{dt.push(`@${Et.triggerName} has failed due to:\n`),Et.errors.forEach(It=>dt.push(`- ${It}\n`))}),Dt.forEach(Et=>Et.destroy()),this.reportError(dt)}const on=new Map,Qi=new Map;u.forEach(dt=>{const Et=dt.element;i.has(Et)&&(Qi.set(Et,Et),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,on))}),r.forEach(dt=>{const Et=dt.element;this._getPreviousPlayers(Et,!1,dt.namespaceId,dt.triggerName,null).forEach(_n=>{ua(on,Et,[]).push(_n),_n.destroy()})});const pa=ie.filter(dt=>xF(dt,_,w)),Jd=new Map;EF(Jd,this.driver,Ke,w,Hd).forEach(dt=>{xF(dt,_,w)&&pa.push(dt)});const lC=new Map;L.forEach((dt,Et)=>{EF(lC,this.driver,new Set(dt),_,"!")}),pa.forEach(dt=>{const Et=Jd.get(dt),It=lC.get(dt);Jd.set(dt,Object.assign(Object.assign({},Et),It))});const Sg=[],j2=[],q2={};u.forEach(dt=>{const{element:Et,player:It,instruction:_n}=dt;if(i.has(Et)){if(D.has(Et))return It.onDestroy(()=>lu(Et,_n.toStyles)),It.disabled=!0,It.overrideTotalTime(_n.totalTime),void r.push(It);let Vr=q2;if(Qi.size>1){let ma=Et;const ep=[];for(;ma=ma.parentNode;){const Si=Qi.get(ma);if(Si){Vr=Si;break}ep.push(ma)}ep.forEach(Si=>Qi.set(Si,Vr))}const gu=this._buildAnimation(It.namespaceId,_n,on,o,lC,Jd);if(It.setRealPlayer(gu),Vr===q2)Sg.push(It);else{const ma=this.playersByElement.get(Vr);ma&&ma.length&&(It.parentPlayer=jf(ma)),r.push(It)}}else ug(Et,_n.fromStyles),It.onDestroy(()=>lu(Et,_n.toStyles)),j2.push(It),D.has(Et)&&r.push(It)}),j2.forEach(dt=>{const Et=o.get(dt.element);if(Et&&Et.length){const It=jf(Et);dt.setRealPlayer(It)}}),r.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<ie.length;dt++){const Et=ie[dt],It=Et[al];if(kv(Et,XT),It&&It.hasAnimation)continue;let _n=[];if(h.size){let gu=h.get(Et);gu&&gu.length&&_n.push(...gu);let ma=this.driver.query(Et,Mk,!0);for(let ep=0;ep<ma.length;ep++){let Si=h.get(ma[ep]);Si&&Si.length&&_n.push(...Si)}}const Vr=_n.filter(gu=>!gu.destroyed);Vr.length?gj(this,Et,Vr):this.processLeaveNode(Et)}return ie.length=0,Sg.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Et=this.players.indexOf(dt);this.players.splice(Et,1)}),dt.play()}),Sg}elementContainsData(t,e){let i=!1;const r=e[al];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const _=!o||o==Lw;h.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const w=_.element,D=w!==o,S=ua(i,w,[]);this._getPreviousPlayers(w,D,u,h,e.toState).forEach(L=>{const H=L.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),L.destroy(),S.push(L)})}ug(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,_=e.element,w=[],D=new Set,S=new Set,O=e.timelines.map(H=>{const Q=H.element;D.add(Q);const ie=Q[al];if(ie&&ie.removedBeforeQueried)return new Iv(H.duration,H.delay);const Ue=Q!==_,Ke=function _j(n){const t=[];return MF(n,t),t}((i.get(Q)||cj).map(on=>on.getRealPlayer())).filter(on=>!!on.element&&on.element===Q),je=o.get(Q),He=u.get(Q),Dt=eF(0,this._normalizer,0,H.keyframes,je,He),Rt=this._buildPlayer(H,Dt,Ke);if(H.subTimeline&&r&&S.add(Q),Ue){const on=new Hk(t,h,Q);on.setRealPlayer(Rt),w.push(on)}return Rt});w.forEach(H=>{ua(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function fj(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,H.element,H))}),D.forEach(H=>ll(H,aF));const L=jf(O);return L.onDestroy(()=>{D.forEach(H=>kv(H,aF)),lu(_,e.toStyles)}),S.forEach(H=>{ua(r,H,[]).push(L)}),L}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Iv(t.duration,t.delay)}}class Hk{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Iv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>_k(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ua(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dM(n){return n&&1===n.nodeType}function DF(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function EF(n,t,e,i,r){const o=[];e.forEach(_=>o.push(DF(_)));const u=[];i.forEach((_,w)=>{const D={};_.forEach(S=>{const O=D[S]=t.computeStyle(w,S,r);(!O||0==O.length)&&(w[al]=uj,u.push(w))}),n.set(w,D)});let h=0;return e.forEach(_=>DF(_,o[h++])),u}function TF(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let _=o.get(h);if(_)return _;const w=h.parentNode;return _=e.has(w)?w:r.has(w)?1:u(w),o.set(h,_),_}return t.forEach(h=>{const _=u(h);1!==_&&e.get(_).push(h)}),e}function ll(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function kv(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function gj(n,t,e){jf(e).onDone(()=>n.processLeaveNode(t))}function MF(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof XP?MF(i.players,t):t.push(i)}}function xF(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class hM{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new hj(t,e,i),this._timelineEngine=new rj(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const _=[],w=kk(this._driver,o,_);if(_.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);h=function ej(n,t,e){return new tj(n,t,e)}(r,w,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=tF(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=tF(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function SF(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=jk(t[0]),t.length>1&&(i=jk(t[t.length-1]))):t&&(e=jk(t)),e||i?new vj(n,e,i):null}let vj=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&lu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lu(this._element,this._initialStyles),this._endStyles&&(lu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ug(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ug(this._element,this._endStyles),this._endStyles=null),lu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function jk(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];bj(r)&&(t=t||{},t[r]=n[r])}return t}function bj(n){return"display"===n||"position"===n}const IF="animation",AF="animationend";class Dj{constructor(t,e,i,r,o,u,h){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=o,this._fillMode=u,this._onDoneFn=h,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function Ej(n,t){const e=Gk(n,"").trim();let i=0;e.length&&(i=function Mj(n,t){let e=0;for(let i=0;i<n.length;i++)n.charAt(i)===t&&e++;return e}(e,",")+1,t=`${e}, ${t}`),fM(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),OF(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){kF(this._element,this._name,"paused")}resume(){kF(this._element,this._name,"running")}setPosition(t){const e=RF(this._element,this._name);this._position=t*this._duration,fM(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),OF(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Tj(n,t){const i=Gk(n,"").split(","),r=qk(i,t);r>=0&&(i.splice(r,1),fM(n,"",i.join(",")))}(this._element,this._name))}}function kF(n,t,e){fM(n,"PlayState",e,RF(n,t))}function RF(n,t){const e=Gk(n,"");return e.indexOf(",")>0?qk(e.split(","),t):qk([e],t)}function qk(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function OF(n,t,e){e?n.removeEventListener(AF,t):n.addEventListener(AF,t)}function fM(n,t,e,i){const r=IF+t;if(null!=i){const o=n.style[r];if(o.length){const u=o.split(",");u[i]=e,e=u.join(",")}}n.style[r]=e}function Gk(n,t){return n.style[IF+t]||""}class PF{constructor(t,e,i,r,o,u,h,_){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=h,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=u||"linear",this.totalTime=r+o,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Dj(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:Ak(this.element,i))})}this.currentSnapshot=t}}class Ij extends Iv{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=rF(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class NF{constructor(){this._count=0}validateStyleProperty(t){return wk(t)}matchesElement(t,e){return!1}containsElement(t,e){return Ck(t,e)}query(t,e,i){return Dk(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(h=>rF(h));let r=`@keyframes ${e} {\n`,o="";i.forEach(h=>{o=" ";const _=parseFloat(h.offset);r+=`${o}${100*_}% {\n`,o+=" ",Object.keys(h).forEach(w=>{const D=h[w];switch(w){case"offset":return;case"easing":return void(D&&(r+=`${o}animation-timing-function: ${D};\n`));default:return void(r+=`${o}${w}: ${D};\n`)}}),r+=`${o}}\n`}),r+="}\n";const u=document.createElement("style");return u.textContent=r,u}animate(t,e,i,r,o,u=[],h){const _=u.filter(ie=>ie instanceof PF),w={};hF(i,r)&&_.forEach(ie=>{let Ue=ie.currentSnapshot;Object.keys(Ue).forEach(Ke=>w[Ke]=Ue[Ke])});const D=function Rj(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=fF(t,e,w));if(0==i)return new Ij(t,D);const S="gen_css_kf_"+this._count++,O=this.buildKeyframeElement(t,S,e);(function kj(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(O);const H=SF(t,e),Q=new PF(t,e,S,i,r,o,D,H);return Q.onDestroy(()=>function Oj(n){n.parentNode.removeChild(n)}(O)),Q}}class VF{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:Ak(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Pj{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(BF().toString()),this._cssKeyframesDriver=new NF}validateStyleProperty(t){return wk(t)}matchesElement(t,e){return!1}containsElement(t,e){return Ck(t,e)}query(t,e,i){return Dk(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,o,u=[],h){if(!h&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,o,u);const D={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(D.easing=o);const S={},O=u.filter(H=>H instanceof VF);hF(i,r)&&O.forEach(H=>{let Q=H.currentSnapshot;Object.keys(Q).forEach(ie=>S[ie]=Q[ie])});const L=SF(t,e=fF(t,e=e.map(H=>qf(H,!1)),S));return new VF(t,e,D,L)}}function BF(){return JP()&&Element.prototype.animate||{}}let Nj=(()=>{class n extends YP{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?KP(e):e;return UF(this._renderer,null,i,"register",[r]),new Lj(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Lj extends class CH{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Vj(this._id,t,e||{},this._renderer)}}class Vj{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return UF(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function UF(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const HF="@.disabled";let Bj=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=null==u?void 0:u.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(o);return D||(D=new jF("",o,this.engine),this._rendererCache.set(o,D)),D}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(u,h,e,D.name,D)};return i.data.animation.forEach(_),new Uj(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(hM),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class jF{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==HF?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Uj extends jF{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==HF?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Hj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),u="";return"@"!=o.charAt(0)&&([o,u]=function jj(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let qj=(()=>{class n extends hM{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(Ek),s.LFG(Nk))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ha=new s.OlP("AnimationModuleType"),qF=[{provide:YP,useClass:Nj},{provide:Nk,useFactory:function Zj(){return new WH}},{provide:hM,useClass:qj},{provide:s.FYo,useFactory:function zj(n,t,e){return new Bj(n,t,e)},deps:[Ni,hM,s.R0b]}],GF=[{provide:Ek,useFactory:function Gj(){return function Fj(){return"function"==typeof BF()}()?new Pj:new NF}},{provide:ha,useValue:"BrowserAnimations"},...qF],$j=[{provide:Ek,useClass:sF},{provide:ha,useValue:"NoopAnimations"},...qF];let Yj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?$j:GF}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:GF,imports:[lc]}),n})();function Wj(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function Kj(n,t){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const Qj=["*"];let Xj=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),Jj=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const t3=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function e3(){return!0}});let Nt=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!uk()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($P),s.LFG(t3,8),s.LFG(te))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ow],Ow]}),n})();function hg(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Jt(t)}}}function Rv(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Ov(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Jt(t)}}}function Zk(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?to(e):this.defaultTabIndex}}}function zF(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new kt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}function $F(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new kn.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const n3=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function r3(){return(0,s.f3M)(s.soG)}});class cu{constructor(){this._localeChanges=new kt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const zk=new s.OlP("mat-date-formats"),s3=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function $k(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let o3=(()=>{class n extends cu{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return $k(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return $k(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return $k(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(s3.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n3,8),s.LFG(wr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const a3={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let l3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:cu,useClass:o3}]}),n})(),YF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:zk,useValue:a3}],imports:[[l3]]}),n})(),Yk=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt],Nt]}),n})();class d3{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const WF={enterDuration:225,exitDuration:150},Wk=ig({passive:!0}),KF=["mousedown","touchstart"],QF=["mouseup","mouseleave","touchend","touchcancel"];class f3{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Vd(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},WF),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function m3(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,_=e-r.top,w=o.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=h-u+"px",D.style.top=_-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(D),function p3(n){window.getComputedStyle(n).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const S=new d3(this,D,i);return S.state=0,this._activeRipples.add(S),i.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const O=S===this._mostRecentTransientRipple;S.state=1,!i.persistent&&(!O||!this._isPointerDown)&&S.fadeOut()},w),S}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},WF),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Vd(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(KF))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(QF),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=jP(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!qP(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Wk)})})}_removeTriggerEvents(){this._triggerElement&&(KF.forEach(t=>{this._triggerElement.removeEventListener(t,this,Wk)}),this._pointerUpEventsRegistered&&QF.forEach(t=>{this._triggerElement.removeEventListener(t,this,Wk)}))}}const g3=new s.OlP("mat-ripple-global-options");let fg=(()=>{class n{constructor(e,i,r,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new f3(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(wr),s.Y36(g3,8),s.Y36(ha,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),pg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt],Nt]}),n})(),XF=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ha,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),Kk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt]]}),n})();const JF=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),eN=new s.OlP("MatOptgroup");let _3=0;class y3{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let v3=(()=>{class n{constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+_3++,this.onSelectionChange=new s.vpe,this._stateChanges=new kt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Jt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Bd(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new y3(this,e))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Qk=(()=>{class n extends v3{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(JF,8),s.Y36(eN,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),s.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:Qj,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,Wj,1,2,"mat-pseudo-checkbox",0),s.TgZ(1,"span",1),s.Hsn(2),s.qZA(),s.YNc(3,Kj,2,1,"span",2),s._UZ(4,"div",3)),2&e&&(s.Q6J("ngIf",i.multiple),s.xp6(3),s.Q6J("ngIf",i.group&&i.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[XF,Qt,fg],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function tN(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[o]&&o++;return o}return 0}let nN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[pg,oi,Nt,Kk]]}),n})();const w3=["mat-sort-header",""];function C3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3),s.NdJ("@arrowPosition.start",function(){return s.CHM(e),s.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return s.CHM(e),s.oxw()._disableViewStateAnimation=!1}),s._UZ(1,"div",4),s.TgZ(2,"div",5),s._UZ(3,"div",6),s._UZ(4,"div",7),s._UZ(5,"div",8),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),s.xp6(2),s.Q6J("@indicator",e._getArrowDirectionState()),s.xp6(1),s.Q6J("@leftPointer",e._getArrowDirectionState()),s.xp6(1),s.Q6J("@rightPointer",e._getArrowDirectionState())}}const D3=["*"],Gf=Jj.ENTERING+" "+Xj.STANDARD_CURVE,Pv={indicator:ks("indicator",[Wn("active-asc, asc",Ct({transform:"translateY(0px)"})),Wn("active-desc, desc",Ct({transform:"translateY(10px)"})),jn("active-asc <=> active-desc",ri(Gf))]),leftPointer:ks("leftPointer",[Wn("active-asc, asc",Ct({transform:"rotate(-45deg)"})),Wn("active-desc, desc",Ct({transform:"rotate(45deg)"})),jn("active-asc <=> active-desc",ri(Gf))]),rightPointer:ks("rightPointer",[Wn("active-asc, asc",Ct({transform:"rotate(45deg)"})),Wn("active-desc, desc",Ct({transform:"rotate(-45deg)"})),jn("active-asc <=> active-desc",ri(Gf))]),arrowOpacity:ks("arrowOpacity",[Wn("desc-to-active, asc-to-active, active",Ct({opacity:1})),Wn("desc-to-hint, asc-to-hint, hint",Ct({opacity:.54})),Wn("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Ct({opacity:0})),jn("* => asc, * => desc, * => active, * => hint, * => void",ri("0ms")),jn("* <=> *",ri(Gf))]),arrowPosition:ks("arrowPosition",[jn("* => desc-to-hint, * => desc-to-active",ri(Gf,ag([Ct({transform:"translateY(-25%)"}),Ct({transform:"translateY(0)"})]))),jn("* => hint-to-desc, * => active-to-desc",ri(Gf,ag([Ct({transform:"translateY(0)"}),Ct({transform:"translateY(25%)"})]))),jn("* => asc-to-hint, * => asc-to-active",ri(Gf,ag([Ct({transform:"translateY(25%)"}),Ct({transform:"translateY(0)"})]))),jn("* => hint-to-asc, * => active-to-asc",ri(Gf,ag([Ct({transform:"translateY(0)"}),Ct({transform:"translateY(-25%)"})]))),Wn("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Ct({transform:"translateY(0)"})),Wn("hint-to-desc, active-to-desc, desc",Ct({transform:"translateY(-25%)"})),Wn("hint-to-asc, active-to-asc, asc",Ct({transform:"translateY(25%)"}))]),allowChildren:ks("allowChildren",[jn("* <=> *",[QT("@*",KT(),{optional:!0})])])};let gM=(()=>{class n{constructor(){this.changes=new kt.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const T3={provide:gM,deps:[[new s.FiY,new s.tp0,gM]],useFactory:function E3(n){return n||new gM}},M3=new s.OlP("MAT_SORT_DEFAULT_OPTIONS"),x3=$F(hg(class{}));let no=(()=>{class n extends x3{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new kt.x,this.start="asc",this._direction="",this.sortChange=new s.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Jt(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var i,r,o;if(!e)return"";const u=null!==(r=null!==(i=null==e?void 0:e.disableClear)&&void 0!==i?i:this.disableClear)&&void 0!==r?r:!!(null===(o=this._defaultOptions)||void 0===o?void 0:o.disableClear);let h=function S3(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,u),_=h.indexOf(this.direction)+1;return _>=h.length&&(_=0),h[_]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(M3,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[s.qOj,s.TTD]}),n})();const I3=hg(class{});let mg=(()=>{class n extends I3{constructor(e,i,r,o,u,h,_){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=o,this._focusMonitor=u,this._elementRef=h,this._ariaDescriber=_,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Jt(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){var i,r;this._sortButton&&(null===(i=this._ariaDescriber)||void 0===i||i.removeDescription(this._sortButton,this._sortActionDescription),null===(r=this._ariaDescriber)||void 0===r||r.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,Ld.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(gM),s.Y36(s.sBO),s.Y36(no,8),s.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),s.Y36(og),s.Y36(s.SBq),s.Y36(NP,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._handleClick()})("keydown",function(o){return i._handleKeydown(o)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(s.uIk("aria-sort",i._getAriaSortAttribute()),s.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[s.qOj],attrs:w3,ngContentSelectors:D3,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA(),s.YNc(3,C3,6,6,"div",2),s.qZA()),2&e&&(s.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"==i.arrowPosition),s.uIk("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),s.xp6(3),s.Q6J("ngIf",i._renderArrow()))},directives:[Qt],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[Pv.indicator,Pv.leftPointer,Pv.rightPointer,Pv.arrowOpacity,Pv.arrowPosition,Pv.allowChildren]},changeDetection:0}),n})(),iN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[T3],imports:[[oi,Nt]]}),n})();function Xk(n){return n&&"function"==typeof n.connect}class rN{applyChanges(t,e,i,r,o){t.forEachOperation((u,h,_)=>{let w,D;if(null==u.previousIndex){const S=i(u,h,_);w=e.createEmbeddedView(S.templateRef,S.context,S.index),D=1}else null==_?(e.remove(h),D=3):(w=e.get(h),e.move(w,_),D=2);o&&o({context:null==w?void 0:w.context,operation:D,record:u})})}detach(){}}class Jk{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new kt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const Bw=new s.OlP("_ViewRepeater");var Jr=P(5577),R3=P(1144);const O3=["addListener","removeListener"],P3=["addEventListener","removeEventListener"],F3=["on","off"];function _M(n,t,e,i){if((0,ol.m)(e)&&(i=e,e=void 0),i)return _M(n,t,e).pipe(Bs(i));const[r,o]=function V3(n){return(0,ol.m)(n.addEventListener)&&(0,ol.m)(n.removeEventListener)}(n)?P3.map(u=>h=>n[u](t,h,e)):function N3(n){return(0,ol.m)(n.addListener)&&(0,ol.m)(n.removeListener)}(n)?O3.map(oN(n,t)):function L3(n){return(0,ol.m)(n.on)&&(0,ol.m)(n.off)}(n)?F3.map(oN(n,t)):[];if(!r&&(0,R3.z)(n))return(0,Jr.z)(u=>_M(u,t,e))((0,yo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new kn.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return r(h),()=>o(h)})}function oN(n,t){return e=>i=>n[e](t,i)}var aN=P(4408);const Uw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Uw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Qr.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=Uw;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Uw;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var lN=P(7565);new class U3 extends lN.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const o=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<o&&(t=e.shift()));if(this._active=!1,i){for(;++r<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class B3 extends aN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Uw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Uw.cancelAnimationFrame(e),t._scheduled=void 0)}});let e1,j3=1;const yM={};function cN(n){return n in yM&&(delete yM[n],!0)}const q3={setImmediate(n){const t=j3++;return yM[t]=!0,e1||(e1=Promise.resolve()),e1.then(()=>cN(t)&&n()),t},clearImmediate(n){cN(n)}},{setImmediate:G3,clearImmediate:Z3}=q3,vM={setImmediate(...n){const{delegate:t}=vM;return((null==t?void 0:t.setImmediate)||G3)(...n)},clearImmediate(n){const{delegate:t}=vM;return((null==t?void 0:t.clearImmediate)||Z3)(n)},delegate:void 0};new class $3 extends lN.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const o=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<o&&(t=e.shift()));if(this._active=!1,i){for(;++r<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class z3 extends aN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=vM.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(vM.clearImmediate(e),t._scheduled=void 0)}});var K3=P(3532);function uN(n,t=xc.P){return function W3(n){return(0,qi.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const w=r;r=null,e.next(w)}u&&e.complete()},_=()=>{o=null,u&&e.complete()};t.subscribe(new Di.Q(e,w=>{i=!0,r=w,o||(0,yo.Xf)(n(w)).subscribe(o=new Di.Q(e,h,_))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function X3(n=0,t,e=xc.P){let i=-1;return null!=t&&((0,K3.K)(t)?e=t:i=t),new kn.y(r=>{let o=function Q3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}let dN=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new kt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new kn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(uN(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):nt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ei(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Vd(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>_M(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(wr),s.LFG(te,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hw=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new kt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(uN(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wr),s.LFG(s.R0b),s.LFG(te,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),t1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ow,Fv],Ow,Fv]}),n})();const t6=[[["caption"]],[["colgroup"],["col"]]],n6=["caption","colgroup, col"];function n1(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Jt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Nv=new s.OlP("CDK_TABLE");let Lv=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Vv=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),bM=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class o6{}const a6=n1(o6);let jd=(()=>{class n extends a6{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Jt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Nv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Lv,5),s.Suo(r,Vv,5),s.Suo(r,bM,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class r1{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let s1=(()=>{class n extends r1{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(jd),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),o1=(()=>{class n extends r1{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const o=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(jd),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class fN{constructor(){this.tasks=[],this.endTasks=[]}}const a1=new s.OlP("_COALESCED_STYLE_SCHEDULER");let pN=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new kt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new fN,this._getScheduleObservable().pipe(En(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new fN;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,dn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,br.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),l1=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof jw?e.headerCell.template:this instanceof qw?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class l6 extends l1{}const c6=n1(l6);let jw=(()=>{class n extends c6{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Nv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class u6 extends l1{}const d6=n1(u6);let qw=(()=>{class n extends d6{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Nv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),wM=(()=>{class n extends l1{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Nv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),qd=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),c1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},directives:[qd],encapsulation:2}),n})(),d1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},directives:[qd],encapsulation:2}),n})(),CM=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const mN=["top","bottom","left","right"];class h6{constructor(t,e,i,r,o=!0,u=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(O=>O)&&!i.some(O=>O))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],u=o.children.length,h=this._getCellWidths(o,r),_=this._getStickyStartColumnPositions(h,e),w=this._getStickyEndColumnPositions(h,i),D=e.lastIndexOf(!0),S=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const O="rtl"===this.direction,L=O?"right":"left",H=O?"left":"right";for(const Q of t)for(let ie=0;ie<u;ie++){const Ue=Q.children[ie];e[ie]&&this._addStickyStyle(Ue,L,_[ie],ie===D),i[ie]&&this._addStickyStyle(Ue,H,w[ie],ie===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===D?[]:h.slice(0,D+1).map((Q,ie)=>e[ie]?Q:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:h.slice(S).map((Q,ie)=>i[ie+S]?Q:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,u=[],h=[],_=[];for(let D=0,S=0;D<r.length;D++){if(!o[D])continue;u[D]=S;const O=r[D];_[D]=this._isNativeHtmlTable?Array.from(O.children):[O];const L=O.getBoundingClientRect().height;S+=L,h[D]=L}const w=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var D,S;for(let O=0;O<r.length;O++){if(!o[O])continue;const L=u[O],H=O===w;for(const Q of _[O])this._addStickyStyle(Q,i,L,H)}"top"===i?null===(D=this._positionListener)||void 0===D||D.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:_}):null===(S=this._positionListener)||void 0===S||S.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:_})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);mN.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of mN)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const h1=new s.OlP("CDK_SPL");let DM=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),EM=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),TM=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),MM=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),xM=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S,O,L){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=_,this._viewRepeater=w,this._coalescedStyleScheduler=D,this._viewportRuler=S,this._stickyPositioningListener=O,this._ngZone=L,this._onDestroy=new kt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new As({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Jt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Jt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(En(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Xk(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,br.q)(1),En(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,u)=>{this._addStickyColumnStyles([o],this._headerRowDefs[u])}),this._rowDefs.forEach(o=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===o&&u.push(i[h]);this._addStickyColumnStyles(u,o)}),r.forEach((o,u)=>{this._addStickyColumnStyles([o],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const u=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let h=0;h<u.length;h++){let _=u[h];const w=this._cachedRenderRowsMap.get(_.data);w.has(_.rowDef)?w.get(_.rowDef).push(_):w.set(_.rowDef,[_]),e.push(_)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const h=r&&r.has(u)?r.get(u):[];if(h.length){const _=h.shift();return _.dataIndex=i,_}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),SM(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=SM(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=SM(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=SM(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],Xk(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Xk(this.dataSource)?e=this.dataSource.connect(this):function k3(n){return!!n&&(n instanceof kn.y||(0,ol.m)(n.lift)&&(0,ol.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=nt(this.dataSource)),this._renderChangeSubscription=e.pipe(En(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),o=r.map(h=>h.sticky),u=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const u=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))qd.mostRecentCellOutlet&&qd.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const u of r.outlets)o.appendChild(u.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new h6(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:nt()).pipe(En(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),u=o.rootNodes[0];1===o.rootNodes.length&&(null==u?void 0:u.nodeType)===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(Ud,8),s.Y36(te),s.Y36(wr),s.Y36(Bw),s.Y36(a1),s.Y36(Hw),s.Y36(h1,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,CM,5),s.Suo(r,jd,5),s.Suo(r,wM,5),s.Suo(r,jw,5),s.Suo(r,qw,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(DM,7),s.Gf(EM,7),s.Gf(TM,7),s.Gf(MM,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:Nv,useExisting:n},{provide:Bw,useClass:rN},{provide:a1,useClass:pN},{provide:h1,useValue:null}])],ngContentSelectors:n6,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(t6),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0),s.GkF(3,1),s.GkF(4,2),s.GkF(5,3))},directives:[EM,DM,MM,TM],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function SM(n,t){return n.concat(Array.from(t))}let p6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[t1]]}),n})();var m6=P(9672);function Gw(...n){const t=(0,hs.yG)(n),e=(0,hs.jO)(n),{args:i,keys:r}=Th(n);if(0===i.length)return(0,dn.D)([],t);const o=new kn.y(function g6(n,t,e=Ya.y){return i=>{_N(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let _=0;_<r;_++)_N(t,()=>{const w=(0,dn.D)(n[_],t);let D=!1;w.subscribe(new Di.Q(i,S=>{o[_]=S,D||(D=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>vo(r,u):Ya.y));return e?o.pipe(Bs(e)):o}function _N(n,t,e){n?(0,m6.f)(e,n,t):t()}const _6=[[["caption"]],[["colgroup"],["col"]]],y6=["caption","colgroup, col"];let Zf=(()=>{class n extends xM{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:Bw,useClass:rN},{provide:xM,useExisting:n},{provide:Nv,useExisting:n},{provide:a1,useClass:pN},{provide:h1,useValue:null}]),s.qOj],ngContentSelectors:y6,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(_6),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0),s.GkF(3,1),s.GkF(4,2),s.GkF(5,3))},directives:[EM,DM,MM,TM],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),Gd=(()=>{class n extends Lv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:Lv,useExisting:n}]),s.qOj]}),n})(),Zd=(()=>{class n extends Vv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:Vv,useExisting:n}]),s.qOj]}),n})(),zd=(()=>{class n extends jd{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:jd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),$d=(()=>{class n extends s1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[s.qOj]}),n})(),Yd=(()=>{class n extends o1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[s.qOj]}),n})(),zf=(()=>{class n extends jw{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:jw,useExisting:n}]),s.qOj]}),n})(),$f=(()=>{class n extends wM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:wM,useExisting:n}]),s.qOj]}),n})(),Yf=(()=>{class n extends c1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:c1,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},directives:[qd],encapsulation:2}),n})(),Wf=(()=>{class n extends d1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[s._Bn([{provide:d1,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},directives:[qd],encapsulation:2}),n})(),yN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[p6,Nt],Nt]}),n})();class gg extends class I6 extends class A3{}{constructor(t=[]){super(),this._renderData=new As([]),this._filter=new As(""),this._internalPageChanges=new kt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(EP(r)){const o=Number(r);return o<9007199254740991?o:r}return r},this.sortData=(e,i)=>{const r=i.active,o=i.direction;return r&&""!=o?e.sort((u,h)=>{let _=this.sortingDataAccessor(u,r),w=this.sortingDataAccessor(h,r);const D=typeof _,S=typeof w;D!==S&&("number"===D&&(_+=""),"number"===S&&(w+=""));let O=0;return null!=_&&null!=w?_>w?O=1:_<w&&(O=-1):null!=_?O=1:null!=w&&(O=-1),O*("asc"==o?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((u,h)=>u+e[h]+"\u25ec","").toLowerCase(),o=i.trim().toLowerCase();return-1!=r.indexOf(o)},this._data=new As(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,Ld.T)(this._sort.sortChange,this._sort.initialized):nt(null),i=this._paginator?(0,Ld.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):nt(null),o=Gw([this._data,this._filter]).pipe((0,et.U)(([_])=>this._filterData(_))),u=Gw([o,e]).pipe((0,et.U)(([_])=>this._orderData(_))),h=Gw([u,i]).pipe((0,et.U)(([_])=>this._pageData(_)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=h.subscribe(_=>this._renderData.next(_))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}const A6=["mat-button",""],k6=["*"],O6=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],P6=Rv(hg(Ov(class{constructor(n){this._elementRef=n}})));let cl=(()=>{class n extends P6{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of O6)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(og),s.Y36(ha,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(fg,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:A6,ngContentSelectors:k6,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1),s._UZ(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[fg],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),IM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[pg,Nt],Nt]}),n})();class f1{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class AM extends f1{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class p1 extends f1{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class F6 extends f1{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class m1{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof AM?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof p1?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof F6?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class N6 extends m1{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let vN=(()=>{class n extends m1{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(te))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),kM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const bN=YU();class V6{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ar(-this._previousScrollPosition.left),t.style.top=ar(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),bN&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bN&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class B6{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class wN{enable(){}disable(){}attach(){}}function g1(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function CN(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class U6{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();g1(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let H6=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new wN,this.close=u=>new B6(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new V6(this._viewportRuler,this._document),this.reposition=u=>new U6(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(dN),s.LFG(Hw),s.LFG(s.R0b),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _1{constructor(t){if(this.scrollStrategy=new wN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class j6{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class q6{constructor(t,e,i,r,o,u,h,_,w){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new kt.x,this._attachments=new kt.x,this._detachments=new kt.x,this._locationChanges=Qr.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new kt.x,this._outsidePointerEvents=new kt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,br.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ar(this._config.width),t.height=ar(this._config.height),t.minWidth=ar(this._config.minWidth),t.minHeight=ar(this._config.minHeight),t.maxWidth=ar(this._config.maxWidth),t.maxHeight=ar(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=GT(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(En((0,Ld.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let y1=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||uk()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),uk()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(wr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DN="cdk-overlay-connected-position-bounding-box",G6=/([A-Za-z%]+)$/;class Z6{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new kt.x,this._resizeSubscription=Qr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(DN),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let _=this._getOriginPoint(t,r,h),w=this._getOverlayPoint(_,e,h),D=this._getOverlayFit(w,e,i,h);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(D,w,i)?o.push({position:h,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:w,originPoint:_,position:h,overlayRect:e})}if(o.length){let h=null,_=-1;for(const w of o){const D=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);D>_&&(_=D,h=w)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&_g(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(DN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=TN(e);let{x:u,y:h}=t,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(u+=_),w&&(h+=w);let O=0-h,L=h+o.height-i.height,H=this._subtractOverflows(o.width,0-u,u+o.width-i.width),Q=this._subtractOverflows(o.height,O,L),ie=H*Q;return{visibleArea:ie,isCompletelyWithinViewport:o.width*o.height===ie,fitsInViewportVertically:Q===o.height,fitsInViewportHorizontally:H==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,u=EN(this._overlayRef.getConfig().minHeight),h=EN(this._overlayRef.getConfig().minWidth),w=t.fitsInViewportHorizontally||null!=h&&h<=o;return(t.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=TN(e),o=this._viewportRect,u=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),_=Math.max(o.top-i.top-t.y,0),w=Math.max(o.left-i.left-t.x,0);let D=0,S=0;return D=r.width<=o.width?w||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,S=r.height<=o.height?_||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:D,y:S},{x:t.x+D,y:t.y+S}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new j6(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,u,h,D,S,O;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const L=Math.min(i.bottom-t.y+i.top,t.y),H=this._lastBoundingBoxSize.height;o=2*L,u=t.y-L,o>H&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-H/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,D=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)S=t.x,D=i.right-t.x;else{const L=Math.min(i.right-t.x+i.left,t.x),H=this._lastBoundingBoxSize.width;D=2*L,S=t.x-L,D>H&&!this._isInitialRender&&!this._growAfterOpen&&(S=t.x-H/2)}return{top:u,left:S,bottom:h,right:O,width:D,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=ar(i.height),r.top=ar(i.top),r.bottom=ar(i.bottom),r.width=ar(i.width),r.left=ar(i.left),r.right=ar(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ar(o)),u&&(r.maxWidth=ar(u))}this._lastBoundingBoxSize=i,_g(this._boundingBox.style,r)}_resetBoundingBoxStyles(){_g(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){_g(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();_g(i,this._getExactOverlayY(e,t,D)),_g(i,this._getExactOverlayX(e,t,D))}else i.position="static";let h="",_=this._getOffset(e,"x"),w=this._getOffset(e,"y");_&&(h+=`translateX(${_}px) `),w&&(h+=`translateY(${w}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=ar(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=ar(u.maxWidth):o&&(i.maxWidth="")),_g(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ar(o.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ar(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:CN(t,i),isOriginOutsideView:g1(t,i),isOverlayClipped:CN(e,i),isOverlayOutsideView:g1(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&GT(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function _g(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function EN(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(G6);return e&&"px"!==e?null:parseFloat(t)}return n||null}function TN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const MN="cdk-global-overlay-wrapper";class z6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(MN),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:h}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h);t.position=this._cssPosition,t.marginLeft=_?"0":this._leftOffset,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,_?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(MN),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let $6=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new z6}flexibleConnectedTo(e){return new Z6(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hw),s.LFG(te),s.LFG(wr),s.LFG(y1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xN=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y6=(()=>{class n extends xN{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W6=(()=>{class n extends xN{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=sg(o)},this._clickListener=o=>{const u=sg(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const D=_[w];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(u)||D.overlayElement.contains(h))break;const S=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(o)):S.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(wr),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K6=0,uu=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S,O){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=_,this._document=w,this._directionality=D,this._location=S,this._outsideClickDispatcher=O}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new _1(e);return u.direction=u.direction||this._directionality.value,new q6(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+K6++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new N6(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H6),s.LFG(y1),s.LFG(s._Vd),s.LFG($6),s.LFG(Y6),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(te),s.LFG(Ud),s.LFG(Je),s.LFG(W6))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Q6=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],SN=new s.OlP("cdk-connected-overlay-scroll-strategy");let IN=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),AN=(()=>{class n{constructor(e,i,r,o,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Qr.w0.EMPTY,this._attachSubscription=Qr.w0.EMPTY,this._detachSubscription=Qr.w0.EMPTY,this._positionSubscription=Qr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new p1(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Jt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Jt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Jt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Jt(e)}get push(){return this._push}set push(e){this._push=Jt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Q6);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Bd(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new _1({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof IN?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function L6(n,t=!1){return(0,qi.e)((e,i)=>{let r=0;e.subscribe(new Di.Q(i,o=>{const u=n(o,r++);(u||t)&&i.next(o),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uu),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(SN),s.Y36(Ud,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[s.TTD]}),n})();const J6={provide:SN,deps:[uu],useFactory:function X6(n){return()=>n.scrollStrategies.reposition()}};let Zw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[uu,J6],imports:[[Ow,kM,t1],t1]}),n})();const eq=["connectionContainer"],tq=["inputContainer"],nq=["label"];function iq(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15),s._UZ(3,"div",16),s._UZ(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15),s._UZ(7,"div",16),s._UZ(8,"div",17),s.qZA(),s.BQk())}function rq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function sq(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function oq(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function aq(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function lq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.YNc(2,sq,4,1,"ng-container",12),s.YNc(3,oq,1,0,"ng-content",12),s.YNc(4,aq,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function cq(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function uq(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function dq(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function hq(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function fq(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,hq,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const pq=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],mq=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let gq=0;const kN=new s.OlP("MatError");let _q=(()=>{class n{constructor(e,i){this.id="mat-error-"+gq++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:kN,useExisting:n}])]}),n})();const yq={transitionMessages:ks("transitionMessages",[Wn("enter",Ct({opacity:1,transform:"translateY(0%)"})),jn("void => enter",[Ct({opacity:0,transform:"translateY(-5px)"}),ri("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let RM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const vq=new s.OlP("MatHint");let v1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),bq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const wq=new s.OlP("MatPrefix"),RN=new s.OlP("MatSuffix");let yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:RN,useExisting:n}])]}),n})(),ON=0;const Dq=Rv(class{constructor(n){this._elementRef=n}},"primary"),Eq=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),OM=new s.OlP("MatFormField");let Wd=(()=>{class n extends Dq{constructor(e,i,r,o,u,h,_){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new kt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+ON++,this._labelId="mat-form-field-label-"+ON++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Jt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe($r(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(En(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(En(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ld.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe($r(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe($r(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(En(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,_M(this._label.nativeElement,"transitionend").pipe((0,br.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const D=i.querySelectorAll(`${r}, ${o}`);for(let S=0;S<D.length;S++)D[S].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const _=i.querySelectorAll(r),w=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const D=i.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(D),O=e.children,L=this._getStartEnd(O[0].getBoundingClientRect());let H=0;for(let Q=0;Q<O.length;Q++)H+=O[Q].offsetWidth;u=Math.abs(L-S)-5,h=H>0?.75*H+10:0}for(let D=0;D<_.length;D++)_[D].style.width=`${u}px`;for(let D=0;D<w.length;D++)w[D].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ud,8),s.Y36(Eq,8),s.Y36(wr),s.Y36(s.R0b),s.Y36(ha,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,RM,5),s.Suo(r,RM,7),s.Suo(r,v1,5),s.Suo(r,v1,7),s.Suo(r,bq,5),s.Suo(r,kN,5),s.Suo(r,vq,5),s.Suo(r,wq,5),s.Suo(r,RN,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(eq,7),s.Gf(tq,5),s.Gf(nq,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:OM,useExisting:n}]),s.qOj],ngContentSelectors:mq,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(pq),s.TgZ(0,"div",0),s.TgZ(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,iq,9,0,"ng-container",3),s.YNc(4,rq,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,lq,5,16,"label",8),s.qZA(),s.qZA(),s.YNc(10,cq,2,0,"div",9),s.qZA(),s.YNc(11,uq,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,dq,2,1,"div",12),s.YNc(14,fq,5,2,"div",13),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},directives:[Qt,dk,ji,ur],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[yq.transitionMessages]},changeDetection:0}),n})(),b1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oi,Nt,Fw],Nt]}),n})();function PM(n){return new kn.y(t=>{(0,yo.Xf)(n()).subscribe(t)})}const Tq=["trigger"],Mq=["panel"];function xq(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function Sq(n,t){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function Iq(n,t){1&n&&s.Hsn(0,0,["*ngSwitchCase","true"])}function Aq(n,t){if(1&n&&(s.TgZ(0,"span",9),s.YNc(1,Sq,2,1,"span",10),s.YNc(2,Iq,1,0,"ng-content",11),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function kq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13),s.TgZ(1,"div",14,15),s.NdJ("@transformPanel.done",function(r){return s.CHM(e),s.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return s.CHM(e),s.oxw()._handleKeydown(r)}),s.Hsn(3,1),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",e._getPanelTheme(),""),s.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),s.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Rq=[[["mat-select-trigger"]],"*"],Oq=["mat-select-trigger","*"],FN={transformPanelWrap:ks("transformPanelWrap",[jn("* => void",QT("@transformPanel",[KT()],{optional:!0}))]),transformPanel:ks("transformPanel",[Wn("void",Ct({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Wn("showing",Ct({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Wn("showing-multiple",Ct({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),jn("void => *",ri("120ms cubic-bezier(0, 0, 0.2, 1)")),jn("* => void",ri("100ms 25ms linear",Ct({opacity:0})))])};let NN=0;const VN=new s.OlP("mat-select-scroll-strategy"),Lq=new s.OlP("MAT_SELECT_CONFIG"),Vq={provide:VN,deps:[uu],useFactory:function Nq(n){return()=>n.scrollStrategies.reposition()}};class Bq{constructor(t,e){this.source=t,this.value=e}}const Uq=Ov(Zk(hg(zF(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),Hq=new s.OlP("MatSelectTrigger");let jq=(()=>{class n extends Uq{constructor(e,i,r,o,u,h,_,w,D,S,O,L,H,Q){var ie,Ue,Ke;super(u,o,_,w,S),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=D,this._liveAnnouncer=H,this._defaultOptions=Q,this._panelOpen=!1,this._compareWith=(je,He)=>je===He,this._uid="mat-select-"+NN++,this._triggerAriaLabelledBy=null,this._destroy=new kt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+NN++,this._panelDoneAnimatingStream=new kt.x,this._overlayPanelClass=(null===(ie=this._defaultOptions)||void 0===ie?void 0:ie.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Ke=null===(Ue=this._defaultOptions)||void 0===Ue?void 0:Ue.disableOptionCentering)&&void 0!==Ke&&Ke,this.ariaLabel="",this.optionSelectionChanges=PM(()=>{const je=this.options;return je?je.changes.pipe($r(je),Xn(()=>(0,Ld.T)(...je.map(He=>He.onSelectionChange)))):this._ngZone.onStable.pipe((0,br.q)(1),Xn(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe(ei(je=>je),(0,et.U)(()=>{})),this._closedStream=this.openedChange.pipe(ei(je=>!je),(0,et.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Q?void 0:Q.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Q.typeaheadDebounceInterval),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,o;return null!==(o=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(nr.required))&&void 0!==o&&o}set required(e){this._required=Jt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Jt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Jt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=to(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Jk(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Oc(),En(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(En(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe($r(null),En(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&o&&!Bd(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(e);const _=this.selected;_&&h!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,u=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||Bd(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const h=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(h?_.select():_.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,br.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(o){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new eH(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(En(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(En(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Ld.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(En(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ld.T)(...this.options.map(i=>i._stateChanges)).pipe(En(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hw),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Yk),s.Y36(s.SBq),s.Y36(Ud,8),s.Y36(bs,8),s.Y36(Xo,8),s.Y36(OM,8),s.Y36(mn,10),s.$8M("tabindex"),s.Y36(VN),s.Y36(bH),s.Y36(Lq,8))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(Tq,5),s.Gf(Mq,5),s.Gf(AN,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.trigger=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first),s.iGM(r=s.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),n})(),BN=(()=>{class n extends jq{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(En(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,br.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=tN(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function b3(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Bq(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),o=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let w=this._selectionModel.selected[0]||this.options.first;u=w&&w.group?32:16}r||(u*=-1);const h=0-(e.left+u-(r?o:0)),_=e.right+u-i.width+(r?0:o);h>0?u+=h+8:_>0&&(u-=_+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const o=this._getItemHeight(),u=(o-this._triggerRect.height)/2,h=Math.floor(256/o);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?e*o:this._scrollTop===r?(e-(this._getItemCount()-h))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*_-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),w=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;w>u?this._adjustPanelUp(w,u):h>o?this._adjustPanelDown(h,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=tN(h,this.options,this.optionGroups);const _=r/2;this._scrollTop=this._calculateOverlayScroll(h,_,u),this._offsetY=this._calculateOverlayOffsetY(h,_,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Hq,5),s.Suo(r,Qk,5),s.Suo(r,eN,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.customTrigger=o.first),s.iGM(o=s.CRH())&&(i.options=o),s.iGM(o=s.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(s.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),s.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:RM,useExisting:n},{provide:JF,useExisting:n}]),s.qOj],ngContentSelectors:Oq,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(s.F$t(Rq),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return i.toggle()}),s.TgZ(3,"div",2),s.YNc(4,xq,2,1,"span",3),s.YNc(5,Aq,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA(),s.qZA(),s.YNc(8,kq,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=s.MAs(1);s.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",i.empty),s.uIk("id",i._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[IN,ji,ur,ec,AN,wi],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[FN.transformPanelWrap,FN.transformPanel]},changeDetection:0}),n})(),w1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Vq],imports:[[oi,Zw,nN,Nt],Fv,b1,nN,Nt]}),n})();const UN=new Set;let Uv,qq=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Zq}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Gq(n){if(!UN.has(n))try{Uv||(Uv=document.createElement("style"),Uv.setAttribute("type","text/css"),document.head.appendChild(Uv)),Uv.sheet&&(Uv.sheet.insertRule(`@media ${n} {body{ }}`,0),UN.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zq(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let zq=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new kt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return HN(GT(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Gw(HN(GT(e)).map(u=>this._registerQuery(u).observable));return o=zr(o.pipe((0,br.q)(1)),o.pipe(kP(1),Yu(0))),o.pipe((0,et.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:w})=>{h.matches=h.matches||_,h.breakpoints[w]=_}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new kn.y(u=>{const h=_=>this._zone.run(()=>u.next(_));return i.addListener(h),()=>{i.removeListener(h)}}).pipe($r(i),(0,et.U)(({matches:u})=>({query:e,matches:u})),En(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qq),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HN(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const Yq=["tooltip"],jN="tooltip-panel",qN=ig({passive:!0}),GN=new s.OlP("mat-tooltip-scroll-strategy"),Xq={provide:GN,deps:[uu],useFactory:function Qq(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Jq=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function eG(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let tG=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S,O,L){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=u,this._platform=h,this._ariaDescriber=_,this._focusMonitor=w,this._dir=S,this._defaultOptions=O,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new kt.x,this._scrollStrategy=D,this._document=L,O&&(O.position&&(this.position=O.position),O.touchGestures&&(this.touchGestures=O.touchGestures)),S.change.pipe(En(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Jt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=to(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=to(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(En(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,qN)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new AM(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(En(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var e;if(this._overlayRef)return this._overlayRef;const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(En(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${jN}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(En(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(En(this._destroyed)).subscribe(()=>{var o;return null===(o=this._tooltipInstance)||void 0===o?void 0:o._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(En(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Bd(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(e=this._defaultOptions)||void 0===e?void 0:e.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),o.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),o.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:u}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:u}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,br.q)(1),En(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",u!==this._currentPosition){const h=this._overlayRef;if(h){const _=`${this._cssClassPrefix}-${jN}-`;h.removePanelClass(_+this._currentPosition),h.addPanelClass(_+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{var r;const o=i.relatedTarget;(!o||!(null===(r=this._overlayRef)||void 0===r?void 0:r.overlayElement.contains(o)))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,qN)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),nG=(()=>{class n extends tG{constructor(e,i,r,o,u,h,_,w,D,S,O,L){super(e,i,r,o,u,h,_,w,D,S,O,L),this._tooltipComponent=rG}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uu),s.Y36(s.SBq),s.Y36(dN),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(wr),s.Y36(NP),s.Y36(og),s.Y36(GN),s.Y36(Ud,8),s.Y36(Jq,8),s.Y36(te))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),iG=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new kt.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(i);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(ha,8))},n.\u0275dir=s.lG2({type:n}),n})(),rG=(()=>{class n extends iG{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(zq),s.Y36(ha,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(Yq,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&e){let r;s.ekj("mat-tooltip-handset",null==(r=s.lcZ(2,4,i._isHandset))?null:r.matches),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message)}},directives:[wi],pipes:[tc],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),sG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Xq],imports:[[pk,oi,Zw,Nt],Nt,Fv]}),n})();function oG(n,t){if(1&n&&(s.TgZ(0,"mat-option",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function aG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field",16),s.TgZ(1,"mat-select",17),s.NdJ("selectionChange",function(r){return s.CHM(e),s.oxw(2)._changePageSize(r.value)}),s.YNc(2,oG,2,2,"mat-option",18),s.qZA(),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("appearance",e._formFieldAppearance)("color",e.color),s.xp6(1),s.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),s.xp6(1),s.Q6J("ngForOf",e._displayedPageSizeOptions)}}function lG(n,t){if(1&n&&(s.TgZ(0,"div",20),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.pageSize)}}function cG(n,t){if(1&n&&(s.TgZ(0,"div",12),s.TgZ(1,"div",13),s._uU(2),s.qZA(),s.YNc(3,aG,3,6,"mat-form-field",14),s.YNc(4,lG,2,1,"div",15),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.hij(" ",e._intl.itemsPerPageLabel," "),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length>1),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function uG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().firstPage()}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",22),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),s.uIk("aria-label",e._intl.firstPageLabel)}}function dG(n,t){if(1&n){const e=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"button",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().lastPage()}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",24),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),s.uIk("aria-label",e._intl.lastPageLabel)}}let NM=(()=>{class n{constructor(){this.changes=new kt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fG={provide:NM,deps:[[new s.FiY,new s.tp0,NM]],useFactory:function hG(n){return n||new NM}},mG=new s.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),gG=hg($F(class{}));let _G=(()=>{class n extends gG{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new s.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:o,pageSizeOptions:u,hidePageSize:h,showFirstLastButtons:_}=r;null!=o&&(this._pageSize=o),null!=u&&(this._pageSizeOptions=u),null!=h&&(this._hidePageSize=h),null!=_&&(this._showFirstLastButtons=_)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(to(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=to(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(to(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>to(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Jt(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Jt(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[s.qOj]}),n})(),Ao=(()=>{class n extends _G{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(NM),s.Y36(s.sBO),s.Y36(mG,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[s.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.YNc(2,cG,5,3,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s._uU(5),s.qZA(),s.YNc(6,uG,3,5,"button",5),s.TgZ(7,"button",6),s.NdJ("click",function(){return i.previousPage()}),s.O4$(),s.TgZ(8,"svg",7),s._UZ(9,"path",8),s.qZA(),s.qZA(),s.kcU(),s.TgZ(10,"button",9),s.NdJ("click",function(){return i.nextPage()}),s.O4$(),s.TgZ(11,"svg",7),s._UZ(12,"path",10),s.qZA(),s.qZA(),s.YNc(13,dG,3,5,"button",11),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngIf",!i.hidePageSize),s.xp6(3),s.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),s.xp6(1),s.Q6J("ngIf",i.showFirstLastButtons),s.xp6(1),s.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),s.uIk("aria-label",i._intl.previousPageLabel),s.xp6(3),s.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),s.uIk("aria-label",i._intl.nextPageLabel),s.xp6(3),s.Q6J("ngIf",i.showFirstLastButtons))},directives:[Wd,BN,Qk,cl,Qt,In,nG],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),ZN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[fG],imports:[[oi,IM,w1,sG,Nt]]}),n})();function yG(n,t){}class du{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const vG={dialogContainer:ks("dialogContainer",[Wn("void, exit",Ct({opacity:0,transform:"scale(0.7)"})),Wn("enter",Ct({transform:"none"})),jn("* => enter",WP([ri("150ms cubic-bezier(0, 0, 0.2, 1)",Ct({transform:"none",opacity:1})),QT("@*",KT(),{optional:!0})])),jn("* => void, * => exit",WP([ri("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ct({opacity:0})),QT("@*",KT(),{optional:!0})]))])};let bG=(()=>{class n extends m1{constructor(e,i,r,o,u,h,_,w){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=u,this._interactivityChecker=h,this._ngZone=_,this._focusMonitor=w,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(D)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ck())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=ck(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=ck();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(fH),s.Y36(s.sBO),s.Y36(te,8),s.Y36(du),s.Y36(BP),s.Y36(s.R0b),s.Y36(og))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(vN,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),wG=(()=>{class n extends bG{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._id),s.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,yG,0,0,"ng-template",0)},directives:[vN],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[vG.dialogContainer]}}),n})(),CG=0;class $w{constructor(t,e,i="mat-dialog-"+CG++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new kt.x,this._afterClosed=new kt.x,this._beforeClosed=new kt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(ei(r=>"opened"===r.state),(0,br.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(ei(r=>"closed"===r.state),(0,br.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(ei(r=>27===r.keyCode&&!this.disableClose&&!Bd(r))).subscribe(r=>{r.preventDefault(),zN(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():zN(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ei(e=>"closing"===e.state),(0,br.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function zN(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const Yw=new s.OlP("MatDialogData"),DG=new s.OlP("mat-dialog-default-options"),$N=new s.OlP("mat-dialog-scroll-strategy"),TG={provide:$N,deps:[uu],useFactory:function EG(n){return()=>n.scrollStrategies.block()}};let MG=(()=>{class n{constructor(e,i,r,o,u,h,_,w,D,S){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=u,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new kt.x,this._afterOpenedAtThisLevel=new kt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=PM(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe($r(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function xG(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new du),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),u=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),o._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new _1({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:du,useValue:i}]}),u=new AM(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,r,o){const u=new this._dialogRefConstructor(r,i,o.id);if(e instanceof s.Rgc)i.attachTemplatePortal(new p1(e,null,{$implicit:o.data,dialogRef:u}));else{const h=this._createInjector(o,u,i),_=i.attachComponentPortal(new AM(e,o.viewContainerRef,h,o.componentFactoryResolver));u.componentInstance=_.instance}return u.updateSize(o.width,o.height).updatePosition(o.position),u}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(Ud,null,s.XFs.Optional))&&u.push({provide:Ud,useValue:{value:e.direction,change:nt()}}),s.zs3.create({parent:o||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n}),n})(),Kf=(()=>{class n extends MG{constructor(e,i,r,o,u,h,_,w){super(e,i,o,h,_,u,$w,wG,Yw,w)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uu),s.LFG(s.zs3),s.LFG(Je,8),s.LFG(DG,8),s.LFG($N),s.LFG(n,12),s.LFG(y1),s.LFG(ha,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),LM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),VM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})(),YN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Kf,TG],imports:[[Zw,kM,Nt],Nt]}),n})();function hu(n){return(0,qi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var vg=P(515);function WN(){return(0,qi.e)((n,t)=>{let e=null;n._refCount++;const i=new Di.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class SG extends kn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,qi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Qr.w0;const e=this.getSubject();t.add(this.source.subscribe(new Di.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Qr.w0.EMPTY)}return t}refCount(){return WN()(this)}}function Kd(n){return(0,qi.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe(new Di.Q(e,void 0,void 0,u=>{o=(0,yo.Xf)(n(u,Kd(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Hv(n,t){return(0,ol.m)(t)?(0,Jr.z)(n,t,1):(0,Jr.z)(n,1)}function C1(n){return n<=0?()=>vg.E:(0,qi.e)((t,e)=>{let i=[];t.subscribe(new Di.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}class Qd{constructor(t,e){this.id=t,this.url=e}}class D1 extends Qd{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ww extends Qd{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class KN extends Qd{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class AG extends Qd{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kG extends Qd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RG extends Qd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OG extends Qd{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class PG extends Qd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FG extends Qd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QN{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class XN{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class NG{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LG{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VG{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BG{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JN{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Wt="primary";class UG{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function jv(n){return new UG(n)}const eL="ngNavigationCancelingError";function E1(n){const t=Error("NavigationCancelingError: "+n);return t[eL]=!0,t}function jG(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function fu(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!tL(n[r],t[r]))return!1;return!0}function tL(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function nL(n){return Array.prototype.concat.apply([],n)}function iL(n){return n.length>0?n[n.length-1]:null}function es(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function pu(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,dn.D)(Promise.resolve(n)):nt(n)}const ZG={exact:function oL(n,t,e){if(!wg(n.segments,t.segments)||!BM(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!oL(n.children[i],t.children[i],e))return!1;return!0},subset:aL},rL={exact:function zG(n,t){return fu(n,t)},subset:function $G(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>tL(n[e],t[e]))},ignored:()=>!0};function sL(n,t,e){return ZG[e.paths](n.root,t.root,e.matrixParams)&&rL[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function aL(n,t,e){return lL(n,t,t.segments,e)}function lL(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!wg(r,e)||t.hasChildren()||!BM(r,e,i))}if(n.segments.length===e.length){if(!wg(n.segments,e)||!BM(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!aL(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(wg(n.segments,r)&&BM(n.segments,r,i)&&n.children[Wt])&&lL(n.children[Wt],t,o,i)}}function BM(n,t,e){return t.every((i,r)=>rL[e](n[r].parameters,i.parameters))}class bg{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jv(this.queryParams)),this._queryParamMap}toString(){return KG.serialize(this)}}class sn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,es(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return UM(this)}}class Kw{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=jv(this.parameters)),this._parameterMap}toString(){return fL(this)}}function wg(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class cL{}class uL{parse(t){const e=new sZ(t);return new bg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Qw(t.root,!0)}`,i=function JG(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${HM(e)}=${HM(r)}`).join("&"):`${HM(e)}=${HM(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function QG(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const KG=new uL;function UM(n){return n.segments.map(t=>fL(t)).join("/")}function Qw(n,t){if(!n.hasChildren())return UM(n);if(t){const e=n.children[Wt]?Qw(n.children[Wt],!1):"",i=[];return es(n.children,(r,o)=>{o!==Wt&&i.push(`${o}:${Qw(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function WG(n,t){let e=[];return es(n.children,(i,r)=>{r===Wt&&(e=e.concat(t(i,r)))}),es(n.children,(i,r)=>{r!==Wt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Wt?[Qw(n.children[Wt],!1)]:[`${r}:${Qw(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wt]?`${UM(n)}/${e[0]}`:`${UM(n)}/(${e.join("//")})`}}function dL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function HM(n){return dL(n).replace(/%3B/gi,";")}function T1(n){return dL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jM(n){return decodeURIComponent(n)}function hL(n){return jM(n.replace(/\+/g,"%20"))}function fL(n){return`${T1(n.path)}${function XG(n){return Object.keys(n).map(t=>`;${T1(t)}=${T1(n[t])}`).join("")}(n.parameters)}`}const eZ=/^[^\/()?;=#]+/;function qM(n){const t=n.match(eZ);return t?t[0]:""}const tZ=/^[^=?&#]+/,iZ=/^[^&#]+/;class sZ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Wt]=new sn(t,e)),i}parseSegment(){const t=qM(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Kw(jM(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=qM(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=qM(this.remaining);r&&(i=r,this.capture(i))}t[jM(e)]=jM(i)}parseQueryParam(t){const e=function nZ(n){const t=n.match(tZ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function rZ(n){const t=n.match(iZ);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=hL(e),o=hL(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=qM(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Wt);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[Wt]:new sn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class pL{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=M1(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=M1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=x1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return x1(t,this._root).map(e=>e.value)}}function M1(n,t){if(n===t.value)return t;for(const e of t.children){const i=M1(n,e);if(i)return i}return null}function x1(n,t){if(n===t.value)return[t];for(const e of t.children){const i=x1(n,e);if(i.length)return i.unshift(t),i}return[]}class Xd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function qv(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class mL extends pL{constructor(t,e){super(t),this.snapshot=e,S1(this,t)}toString(){return this.snapshot.toString()}}function gL(n,t){const e=function oZ(n,t){const u=new GM([],{},{},"",{},Wt,t,null,n.root,-1,{});return new yL("",new Xd(u,[]))}(n,t),i=new As([new Kw("",{})]),r=new As({}),o=new As({}),u=new As({}),h=new As(""),_=new Gv(i,r,u,h,o,Wt,t,e.root);return _.snapshot=e.root,new mL(new Xd(_,[]),e)}class Gv{constructor(t,e,i,r,o,u,h,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,et.U)(t=>jv(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,et.U)(t=>jv(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _L(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function aZ(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class GM{constructor(t,e,i,r,o,u,h,_,w,D,S){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=D,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yL extends pL{constructor(t,e){super(e),this.url=t,S1(this,e)}toString(){return vL(this._root)}}function S1(n,t){t.value._routerState=n,t.children.forEach(e=>S1(n,e))}function vL(n){const t=n.children.length>0?` { ${n.children.map(vL).join(", ")} } `:"";return`${n.value}${t}`}function I1(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,fu(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),fu(t.params,e.params)||n.params.next(e.params),function qG(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!fu(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),fu(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function A1(n,t){const e=fu(n.params,t.params)&&function YG(n,t){return wg(n,t)&&n.every((e,i)=>fu(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||A1(n.parent,t.parent))}function Xw(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function cZ(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Xw(n,i,r);return Xw(n,i)})}(n,t,e);return new Xd(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Xw(n,h)),u}}const i=function uZ(n){return new Gv(new As(n.url),new As(n.params),new As(n.queryParams),new As(n.fragment),new As(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Xw(n,o));return new Xd(i,r)}}function ZM(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jw(n){return"object"==typeof n&&null!=n&&n.outlets}function k1(n,t,e,i,r){let o={};return i&&es(i,(u,h)=>{o[h]=Array.isArray(u)?u.map(_=>`${_}`):`${u}`}),new bg(e.root===n?t:bL(e.root,n,t),o,r)}function bL(n,t,e){const i={};return es(n.children,(r,o)=>{i[o]=r===t?e:bL(r,t,e)}),new sn(n.segments,i)}class wL{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ZM(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Jw);if(r&&r!==iL(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class R1{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function CL(n,t,e){if(n||(n=new sn([],{})),0===n.segments.length&&n.hasChildren())return zM(n,t,e);const i=function gZ(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(Jw(h))break;const _=`${h}`,w=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!EL(_,w,u))return o;i+=2}else{if(!EL(_,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new sn(n.segments.slice(0,i.pathIndex),{});return o.children[Wt]=new sn(n.segments.slice(i.pathIndex),n.children),zM(o,0,r)}return i.match&&0===r.length?new sn(n.segments,{}):i.match&&!n.hasChildren()?O1(n,t,e):i.match?zM(n,0,r):O1(n,t,e)}function zM(n,t,e){if(0===e.length)return new sn(n.segments,{});{const i=function mZ(n){return Jw(n[0])?n[0].outlets:{[Wt]:n}}(e),r={};return es(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=CL(n.children[u],t,o))}),es(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new sn(n.segments,r)}}function O1(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Jw(o)){const _=_Z(o.outlets);return new sn(i,_)}if(0===r&&ZM(e[0])){i.push(new Kw(n.segments[t].path,DL(e[0]))),r++;continue}const u=Jw(o)?o.outlets[Wt]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&ZM(h)?(i.push(new Kw(u,DL(h))),r+=2):(i.push(new Kw(u,{})),r++)}return new sn(i,{})}function _Z(n){const t={};return es(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=O1(new sn([],{}),0,e))}),t}function DL(n){const t={};return es(n,(e,i)=>t[i]=`${e}`),t}function EL(n,t,e){return n==e.path&&fu(t,e.parameters)}class vZ{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),I1(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=qv(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),es(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=qv(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=qv(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=qv(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new BG(o.value.snapshot))}),t.children.length&&this.forwardEvent(new LG(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(I1(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),I1(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=function bZ(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),_=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class P1{constructor(t,e){this.routes=t,this.module=e}}function Qf(n){return"function"==typeof n}function Cg(n){return n instanceof bg}const eC=Symbol("INITIAL_VALUE");function tC(){return Xn(n=>Gw(n.map(t=>t.pipe((0,br.q)(1),$r(eC)))).pipe($a((t,e)=>{let i=!1;return e.reduce((r,o,u)=>r!==eC?r:(o===eC&&(i=!0),i||!1!==o&&u!==e.length-1&&!Cg(o)?r:o),t)},eC),ei(t=>t!==eC),(0,et.U)(t=>Cg(t)?t:!0===t),(0,br.q)(1)))}class MZ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new nC,this.attachRef=null}}class nC{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new MZ,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let F1=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=o||Wt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,_=new xZ(e,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(nC),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class xZ{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Gv?this.route:t===nC?this.childContexts:this.parent.get(t,e)}}let TL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[F1],encapsulation:2}),n})();function ML(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];SZ(i,IZ(t,i))}}function SZ(n,t){n.children&&ML(n.children,t)}function IZ(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function N1(n){const t=n.children&&n.children.map(N1),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Wt&&(e.component=TL),e}function ul(n){return n.outlet||Wt}function xL(n,t){const e=n.filter(i=>ul(i)===t);return e.push(...n.filter(i=>ul(i)!==t)),e}const SL={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function $M(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},SL):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(t.matcher||jG)(e,n,t);if(!o)return Object.assign({},SL);const u={};es(o.posParams,(_,w)=>{u[w]=_.path});const h=o.consumed.length>0?Object.assign(Object.assign({},u),o.consumed[o.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:h,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function YM(n,t,e,i,r="corrected"){if(e.length>0&&function RZ(n,t,e){return e.some(i=>WM(n,t,i)&&ul(i)!==Wt)}(n,e,i)){const u=new sn(t,function kZ(n,t,e,i){const r={};r[Wt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&ul(o)!==Wt){const u=new sn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[ul(o)]=u}return r}(n,t,i,new sn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function OZ(n,t,e){return e.some(i=>WM(n,t,i))}(n,e,i)){const u=new sn(n.segments,function AZ(n,t,e,i,r,o){const u={};for(const h of i)if(WM(n,e,h)&&!r[ul(h)]){const _=new sn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[ul(h)]=_}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new sn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function WM(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function IL(n,t,e,i){return!!(ul(n)===i||i!==Wt&&WM(t,e,n))&&("**"===n.path||$M(t,n,e).matched)}function AL(n,t,e){return 0===t.length&&!n.children[e]}class iC{constructor(t){this.segmentGroup=t||null}}class kL{constructor(t){this.urlTree=t}}function KM(n){return new kn.y(t=>t.error(new iC(n)))}function RL(n){return new kn.y(t=>t.error(new kL(n)))}function PZ(n){return new kn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class LZ{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=YM(this.urlTree.root,[],[],this.config).segmentGroup,e=new sn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Wt).pipe((0,et.U)(o=>this.createUrlTree(L1(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Kd(o=>{if(o instanceof kL)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof iC?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Wt).pipe((0,et.U)(r=>this.createUrlTree(L1(r),t.queryParams,t.fragment))).pipe(Kd(r=>{throw r instanceof iC?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new sn([],{[Wt]:t}):t;return new bg(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,et.U)(o=>new sn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,dn.D)(r).pipe(Hv(o=>{const u=i.children[o],h=xL(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,et.U)(_=>({segment:_,outlet:o})))}),$a((o,u)=>(o[u.outlet]=u.segment,o),{}),function IG(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ei((r,o)=>n(r,o,i)):Ya.y,C1(1),e?iP(t):rP(()=>new jT))}())}expandSegment(t,e,i,r,o,u){return(0,dn.D)(i).pipe(Hv(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(Kd(w=>{if(w instanceof iC)return nt(null);throw w}))),ng(h=>!!h),Kd((h,_)=>{if(h instanceof jT||"EmptyError"===h.name){if(AL(e,r,o))return nt(new sn([],{}));throw new iC(e)}throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return IL(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):KM(e):KM(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?RL(o):this.lineralizeSegments(i,o).pipe((0,Jr.z)(u=>{const h=new sn(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:_,lastChild:w,positionalParamSegments:D}=$M(e,r,o);if(!h)return KM(e);const S=this.applyRedirectCommands(_,r.redirectTo,D);return r.redirectTo.startsWith("/")?RL(S):this.lineralizeSegments(r,S).pipe((0,Jr.z)(O=>this.expandSegment(t,e,i,O.concat(o.slice(w)),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?nt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,et.U)(O=>(i._loadedConfig=O,new sn(r,{})))):nt(new sn(r,{}));const{matched:u,consumedSegments:h,lastChild:_}=$M(e,i,r);if(!u)return KM(e);const w=r.slice(_);return this.getChildConfig(t,i,r).pipe((0,Jr.z)(S=>{const O=S.module,L=S.routes,{segmentGroup:H,slicedSegments:Q}=YM(e,h,w,L),ie=new sn(H.segments,H.children);if(0===Q.length&&ie.hasChildren())return this.expandChildren(O,L,ie).pipe((0,et.U)(He=>new sn(h,He)));if(0===L.length&&0===Q.length)return nt(new sn(h,{}));const Ue=ul(i)===o;return this.expandSegment(O,ie,L,Q,Ue?Wt:o,!0).pipe((0,et.U)(je=>new sn(h.concat(je.segments),je.children)))}))}getChildConfig(t,e,i){return e.children?nt(new P1(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?nt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Jr.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,et.U)(o=>(e._loadedConfig=o,o))):function FZ(n){return new kn.y(t=>t.error(E1(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):nt(new P1([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return nt(!0);const o=r.map(u=>{const h=t.get(u);let _;if(function CZ(n){return n&&Qf(n.canLoad)}(h))_=h.canLoad(e,i);else{if(!Qf(h))throw new Error("Invalid CanLoad guard");_=h(e,i)}return pu(_)});return nt(o).pipe(tC(),(0,Xr.b)(u=>{if(!Cg(u))return;const h=E1(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,et.U)(u=>!0===u))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return nt(i);if(r.numberOfChildren>1||!r.children[Wt])return PZ(t.redirectTo);r=r.children[Wt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new bg(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return es(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return es(e.children,(h,_)=>{u[_]=this.createSegmentGroup(t,h,i,r)}),new sn(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function L1(n){const t={};for(const i of Object.keys(n.children)){const o=L1(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function VZ(n){if(1===n.numberOfChildren&&n.children[Wt]){const t=n.children[Wt];return new sn(n.segments.concat(t.segments),t.children)}return n}(new sn(n.segments,t))}class OL{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class QM{constructor(t,e){this.component=t,this.route=e}}function UZ(n,t,e){const i=n._root;return rC(i,t?t._root:null,e,[i.value])}function XM(n,t,e){const i=function jZ(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function rC(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=qv(t);return n.children.forEach(u=>{(function qZ(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const _=function GZ(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!wg(n.url,t.url);case"pathParamsOrQueryParamsChange":return!wg(n.url,t.url)||!fu(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!A1(n,t)||!fu(n.queryParams,t.queryParams);default:return!A1(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new OL(i)):(o.data=u.data,o._resolvedData=u._resolvedData),rC(n,t,o.component?h?h.children:null:e,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new QM(h.outlet.component,u))}else u&&sC(t,h,r),r.canActivateChecks.push(new OL(i)),rC(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),es(o,(u,h)=>sC(u,e.getContext(h),r)),r}function sC(n,t,e){const i=qv(n),r=n.value;es(i,(o,u)=>{sC(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new QM(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class JZ{}function PL(n){return new kn.y(t=>t.error(n))}class tz{constructor(t,e,i,r,o,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}recognize(){const t=YM(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Wt);if(null===e)return null;const i=new GM([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Xd(i,e),o=new yL(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=_L(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const u=e.children[o],h=xL(t,o),_=this.processSegmentGroup(h,u,o);if(null===_)return null;i.push(..._)}const r=FL(i);return function nz(n){n.sort((t,e)=>t.value.outlet===Wt?-1:e.value.outlet===Wt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const u=this.processSegmentAgainstRoute(o,e,i,r);if(null!==u)return u}return AL(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!IL(t,e,i,r))return null;let o,u=[],h=[];if("**"===t.path){const L=i.length>0?iL(i).parameters:{};o=new GM(i,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VL(t),ul(t),t.component,t,NL(e),LL(e)+i.length,BL(t))}else{const L=$M(e,t,i);if(!L.matched)return null;u=L.consumedSegments,h=i.slice(L.lastChild),o=new GM(u,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VL(t),ul(t),t.component,t,NL(e),LL(e)+u.length,BL(t))}const _=function iz(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:w,slicedSegments:D}=YM(e,u,h,_.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);if(0===D.length&&w.hasChildren()){const L=this.processChildren(_,w);return null===L?null:[new Xd(o,L)]}if(0===_.length&&0===D.length)return[new Xd(o,[])];const S=ul(t)===r,O=this.processSegment(_,w,D,S?Wt:r);return null===O?null:[new Xd(o,O)]}}function rz(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function FL(n){const t=[],e=new Set;for(const i of n){if(!rz(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=FL(i.children);t.push(new Xd(i.value,r))}return t.filter(i=>!e.has(i))}function NL(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function LL(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function VL(n){return n.data||{}}function BL(n){return n.resolve||{}}function V1(n){return Xn(t=>{const e=n(t);return e?(0,dn.D)(e).pipe((0,et.U)(()=>t)):nt(t)})}class hz extends class dz{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const B1=new s.OlP("ROUTES");class UL{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,et.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=o.create(t);return new P1(nL(u.injector.get(B1,void 0,s.XFs.Self|s.XFs.Optional)).map(N1),u)}),Kd(o=>{throw e._loader$=void 0,o}));return e._loader$=new SG(r,()=>new kt.x).pipe(WN()),e._loader$}loadModuleFactory(t){return pu(t()).pipe((0,Jr.z)(e=>e instanceof s.YKP?nt(e):(0,dn.D)(this.compiler.compileModuleAsync(e))))}}class pz{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function mz(n){throw n}function gz(n,t,e){return t.parse("/")}function HL(n,t){return nt(null)}const _z={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fa=(()=>{class n{constructor(e,i,r,o,u,h,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new kt.x,this.errorHandler=mz,this.malformedUriErrorHandler=gz,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:HL,afterPreactivation:HL},this.urlHandlingStrategy=new pz,this.routeReuseStrategy=new hz,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const S=u.get(s.R0b);this.isNgZoneEnabled=S instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function GG(){return new bg(new sn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new UL(u,h,O=>this.triggerEvent(new QN(O)),O=>this.triggerEvent(new XN(O))),this.routerState=gL(this.currentUrlTree,this.rootComponentType),this.transitions=new As({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(ei(r=>0!==r.id),(0,et.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Xn(r=>{let o=!1,u=!1;return nt(r).pipe((0,Xr.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xn(h=>{const _=this.browserUrlTree.toString(),w=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return JM(h.source)&&(this.browserUrlTree=h.extractedUrl),nt(h).pipe(Xn(S=>{const O=this.transitions.getValue();return i.next(new D1(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),O!==this.transitions.getValue()?vg.E:Promise.resolve(S)}),function BZ(n,t,e,i){return Xn(r=>function NZ(n,t,e,i,r){return new LZ(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,et.U)(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Xr.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function sz(n,t,e,i,r){return(0,Jr.z)(o=>function ez(n,t,e,i,r="emptyOnly",o="legacy"){try{const u=new tz(n,t,e,i,r,o).recognize();return null===u?PL(new JZ):nt(u)}catch(u){return PL(u)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe((0,et.U)(u=>Object.assign(Object.assign({},o),{targetSnapshot:u}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Xr.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(L,S)}this.browserUrlTree=S.urlAfterRedirects}const O=new kG(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(O)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:L,source:H,restoredState:Q,extras:ie}=h,Ue=new D1(O,this.serializeUrl(L),H,Q);i.next(Ue);const Ke=gL(L,this.rootComponentType).snapshot;return nt(Object.assign(Object.assign({},h),{targetSnapshot:Ke,urlAfterRedirects:L,extras:Object.assign(Object.assign({},ie),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),vg.E}),V1(h=>{const{targetSnapshot:_,id:w,extractedUrl:D,rawUrl:S,extras:{skipLocationChange:O,replaceUrl:L}}=h;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:D,rawUrlTree:S,skipLocationChange:!!O,replaceUrl:!!L})}),(0,Xr.b)(h=>{const _=new RG(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,et.U)(h=>Object.assign(Object.assign({},h),{guards:UZ(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function ZZ(n,t){return(0,Jr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?nt(Object.assign(Object.assign({},e),{guardsResult:!0})):function zZ(n,t,e,i){return(0,dn.D)(n).pipe((0,Jr.z)(r=>function XZ(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?nt(o.map(h=>{const _=XM(h,t,r);let w;if(function TZ(n){return n&&Qf(n.canDeactivate)}(_))w=pu(_.canDeactivate(n,t,e,i));else{if(!Qf(_))throw new Error("Invalid CanDeactivate guard");w=pu(_(n,t,e,i))}return w.pipe(ng())})).pipe(tC()):nt(!0)}(r.component,r.route,e,t,i)),ng(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Jr.z)(h=>h&&function wZ(n){return"boolean"==typeof n}(h)?function $Z(n,t,e,i){return(0,dn.D)(t).pipe(Hv(r=>zr(function WZ(n,t){return null!==n&&t&&t(new NG(n)),nt(!0)}(r.route.parent,i),function YZ(n,t){return null!==n&&t&&t(new VG(n)),nt(!0)}(r.route,i),function QZ(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function HZ(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>PM(()=>nt(u.guards.map(_=>{const w=XM(_,u.node,e);let D;if(function EZ(n){return n&&Qf(n.canActivateChild)}(w))D=pu(w.canActivateChild(i,n));else{if(!Qf(w))throw new Error("Invalid CanActivateChild guard");D=pu(w(i,n))}return D.pipe(ng())})).pipe(tC())));return nt(o).pipe(tC())}(n,r.path,e),function KZ(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return nt(!0);const r=i.map(o=>PM(()=>{const u=XM(o,t,e);let h;if(function DZ(n){return n&&Qf(n.canActivate)}(u))h=pu(u.canActivate(t,n));else{if(!Qf(u))throw new Error("Invalid CanActivate guard");h=pu(u(t,n))}return h.pipe(ng())}));return nt(r).pipe(tC())}(n,r.route,e))),ng(r=>!0!==r,!0))}(i,o,n,t):nt(h)),(0,et.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Xr.b)(h=>{if(Cg(h.guardsResult)){const w=E1(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw w.url=h.guardsResult,w}const _=new OG(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),ei(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),V1(h=>{if(h.guards.canActivateChecks.length)return nt(h).pipe((0,Xr.b)(_=>{const w=new PG(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Xn(_=>{let w=!1;return nt(_).pipe(function oz(n,t){return(0,Jr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return nt(e);let o=0;return(0,dn.D)(r).pipe(Hv(u=>function az(n,t,e,i){return function lz(n,t,e,i){const r=Object.keys(n);if(0===r.length)return nt({});const o={};return(0,dn.D)(r).pipe((0,Jr.z)(u=>function cz(n,t,e,i){const r=XM(n,t,i);return pu(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,Xr.b)(h=>{o[u]=h}))),C1(1),(0,Jr.z)(()=>Object.keys(o).length===r.length?nt(o):vg.E))}(n._resolve,n,t,i).pipe((0,et.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),_L(n,e).resolve),null)))}(u.route,i,n,t)),(0,Xr.b)(()=>o++),C1(1),(0,Jr.z)(u=>o===r.length?nt(e):vg.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Xr.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Xr.b)(_=>{const w=new FG(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),V1(h=>{const{targetSnapshot:_,id:w,extractedUrl:D,rawUrl:S,extras:{skipLocationChange:O,replaceUrl:L}}=h;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:D,rawUrlTree:S,skipLocationChange:!!O,replaceUrl:!!L})}),(0,et.U)(h=>{const _=function lZ(n,t,e){const i=Xw(n,t._root,e?e._root:void 0);return new mL(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:_})}),(0,Xr.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,et.U)(i=>(new vZ(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Xr.b)({next(){o=!0},complete(){o=!0}}),hu(()=>{var h;o||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),Kd(h=>{if(u=!0,function HG(n){return n&&n[eL]}(h)){const _=Cg(h.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const w=new KN(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(w),_?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||JM(r.source)};this.scheduleNavigation(D,"imperative",null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new AG(r.id,this.serializeUrl(r.extractedUrl),h);i.next(_);try{r.resolve(this.errorHandler(h))}catch(w){r.reject(w)}}return vg.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(o.state=_)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ML(e),this.config=e.map(N1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:_}=i,w=r||this.routerState.root,D=_?this.currentUrlTree.fragment:u;let S=null;switch(h){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=o||null}return null!==S&&(S=this.removeEmptyProps(S)),function dZ(n,t,e,i,r){if(0===e.length)return k1(t.root,t.root,t,i,r);const o=function hZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wL(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return es(o.outlets,(_,w)=>{h[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new wL(e,t,i)}(e);if(o.toRoot())return k1(t.root,new sn([],{}),t,i,r);const u=function fZ(n,t,e){if(n.isAbsolute)return new R1(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new R1(o,o===t.root,0)}const i=ZM(n.commands[0])?0:1;return function pZ(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new R1(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),h=u.processChildren?zM(u.segmentGroup,u.index,o.commands):CL(u.segmentGroup,u.index,o.commands);return k1(u.segmentGroup,h,t,i,r)}(w,this.currentUrlTree,e,S,null!=D?D:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Cg(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function vz(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},_z):!1===i?Object.assign({},yz):i,Cg(e))return sL(this.currentUrlTree,e,r);const o=this.parseUrl(e);return sL(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ww(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){var h,_,w;if(this.disposed)return Promise.resolve(!1);const D=this.transitions.value,S=JM(i)&&D&&!JM(D.source),O=D.rawUrl.toString()===e.toString(),L=D.id===(null===(h=this.currentNavigation)||void 0===h?void 0:h.id);if(S&&O&&L)return Promise.resolve(!0);let Q,ie,Ue;u?(Q=u.resolve,ie=u.reject,Ue=u.promise):Ue=new Promise((He,Dt)=>{Q=He,ie=Dt});const Ke=++this.navigationId;let je;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),je=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):je=0,this.setTransition({id:Ke,targetPageId:je,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:Q,reject:ie,promise:Ue,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ue.catch(He=>Promise.reject(He))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new KN(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function JM(n){return"imperative"!==n}let U1=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.commands=null,this.onChanges=new kt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:zv(this.skipLocationChange),replaceUrl:zv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zv(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fa),s.Y36(Gv),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),Zv=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new kt.x,this.subscription=e.events.subscribe(o=>{o instanceof Ww&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,u){if(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:zv(this.skipLocationChange),replaceUrl:zv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zv(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fa),s.Y36(Gv),s.Y36(pe))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function zv(n){return""===n||!!n}let H1=(()=>{class n{constructor(e,i,r,o,u,h){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=u,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(_=>{_ instanceof Ww&&this.update()})}ngAfterContentInit(){nt(this.links.changes,this.linksWithHrefs.changes,nt(null)).pipe((0,za.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,dn.D)(i).pipe((0,za.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function bz(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fa),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(U1,8),s.Y36(Zv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,U1,5),s.Suo(r,Zv,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),n})();class jL{}class qL{preload(t,e){return nt(null)}}let GL=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new UL(r,i,_=>e.triggerEvent(new QN(_)),_=>e.triggerEvent(new XN(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(ei(e=>e instanceof Ww),Hv(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const u=o._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return(0,dn.D)(r).pipe((0,za.J)(),(0,et.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?nt(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Jr.z)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fa),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(jL))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),j1=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof D1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ww&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof JN&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new JN(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Dg=new s.OlP("ROUTER_CONFIGURATION"),ZL=new s.OlP("ROUTER_FORROOT_GUARD"),Cz=[Je,{provide:cL,useClass:uL},{provide:fa,useFactory:function xz(n,t,e,i,r,o,u={},h,_){const w=new fa(null,n,t,e,i,r,nL(o));return h&&(w.urlHandlingStrategy=h),_&&(w.routeReuseStrategy=_),function Sz(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,w),u.enableTracing&&w.events.subscribe(D=>{var S,O;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(O=console.groupEnd)||void 0===O||O.call(console)}),w},deps:[cL,nC,Je,s.zs3,s.Sil,B1,Dg,[class fz{},new s.FiY],[class uz{},new s.FiY]]},nC,{provide:Gv,useFactory:function Iz(n){return n.routerState.root},deps:[fa]},GL,qL,class wz{preload(t,e){return e().pipe(Kd(()=>nt(null)))}},{provide:Dg,useValue:{enableTracing:!1}}];function Dz(){return new s.PXZ("Router",fa)}let zL=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Cz,$L(e),{provide:ZL,useFactory:Mz,deps:[[fa,new s.FiY,new s.tp0]]},{provide:Dg,useValue:i||{}},{provide:pe,useFactory:Tz,deps:[ue,[new s.tBr(Re),new s.FiY],Dg]},{provide:j1,useFactory:Ez,deps:[fa,vl,Dg]},{provide:jL,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:qL},{provide:s.PXZ,multi:!0,useFactory:Dz},[q1,{provide:s.ip1,multi:!0,useFactory:Az,deps:[q1]},{provide:YL,useFactory:kz,deps:[q1]},{provide:s.tb,multi:!0,useExisting:YL}]]}}static forChild(e){return{ngModule:n,providers:[$L(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ZL,8),s.LFG(fa,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Ez(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new j1(n,t,e)}function Tz(n,t,e={}){return e.useHash?new Le(n,t):new Ge(n,t)}function Mz(n){return"guarded"}function $L(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:B1,multi:!0,useValue:n}]}let q1=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new kt.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),o=this.injector.get(fa),u=this.injector.get(Dg);return"disabled"===u.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?nt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Dg),r=this.injector.get(GL),o=this.injector.get(j1),u=this.injector.get(fa),h=this.injector.get(s.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),o.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Az(n){return n.appInitializer.bind(n)}function kz(n){return n.bootstrapListener.bind(n)}const YL=new s.OlP("Router Initializer");let Oz=(()=>{class n{constructor(){}ngOnInit(){}goTopOfPage(){window.scroll({top:0,left:0,behavior:"smooth"})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:23,vars:0,consts:[[1,"container-fluid","vh-10","bg-primary"],[1,"row","align-items-center"],[1,"col-md-4","footht","text-center"],["routerLink","/"],["src","../../../assets/econ.png","alt","Ft-Logo",1,"ft-logo","rounded","shadow"],[1,"col-md-4","text-center"],[1,"row","inblock"],["href","https://facebook.com/","target","_blank",1,"text-secondary","social","text-decoration-none"],[1,"bi","bi-facebook"],["href","https://www.youtube.com/channel/UCrLto6D2j-23YrIb3wrp_kA","target","_blank",1,"text-secondary","social","text-decoration-none"],[1,"bi","bi-youtube"],["href","https://instagram.com/","target","_blank",1,"text-secondary","social","text-decoration-none"],[1,"bi","bi-instagram"],["href","https://open.spotify.com/show/0v51nnk1ZJRcbDyvCk7z00?si=rsvXP8rDRhi7C2A9DkfkXQ/","target","_blank",1,"text-secondary","social","text-decoration-none"],[1,"bi","bi-spotify"],["href","https://podcasts.apple.com/in/podcast/e-d-chelladurai/id1631126284","target","_blank",1,"text-secondary","social","text-decoration-none"],[1,"bi","bi-apple"],[1,"row","mt-md-2","mb-2"],[1,"copy"],["type","button",1,"btn","btn-secondary","topofpage",3,"click"],[1,"bi","bi-arrow-up-circle-fill"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"a",3),s._UZ(4,"img",4),s.qZA(),s.qZA(),s.TgZ(5,"div",5),s.TgZ(6,"div",6),s.TgZ(7,"a",7),s._UZ(8,"i",8),s.qZA(),s.TgZ(9,"a",9),s._UZ(10,"i",10),s.qZA(),s.TgZ(11,"a",11),s._UZ(12,"i",12),s.qZA(),s.TgZ(13,"a",13),s._UZ(14,"i",14),s.qZA(),s.TgZ(15,"a",15),s._UZ(16,"i",16),s.qZA(),s.qZA(),s.TgZ(17,"div",17),s.TgZ(18,"p",18),s._uU(19,"\xa9 edchelladurai.com 2022"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",5),s.TgZ(21,"button",19),s.NdJ("click",function(){return i.goTopOfPage()}),s._UZ(22,"i",20),s.qZA(),s.qZA(),s.qZA(),s.qZA())},directives:[Zv],styles:[".ft-logo[_ngcontent-%COMP%]{width:8vw;display:inline-block}.footht[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}.copy[_ngcontent-%COMP%]{font-size:.7rem;margin-bottom:0}.inblock[_ngcontent-%COMP%]{display:inline-block;font-size:1.6rem;margin-top:2rem}.topofpage[_ngcontent-%COMP%]{border-radius:50%;border:none}@media (max-width: 900px){.ft-logo[_ngcontent-%COMP%]{width:15vw}.footht[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:0}.topofpage[_ngcontent-%COMP%]{margin-bottom:1rem}}"]}),n})(),Pz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&(s._UZ(0,"router-outlet"),s._UZ(1,"app-footer"))},directives:[F1,Oz],styles:[""]}),n})(),Fz=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Uo,16))},n.\u0275pipe=s.Yjl({name:"safe",type:n,pure:!0}),n})(),WL=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Uo,16))},n.\u0275pipe=s.Yjl({name:"trusthtml",type:n,pure:!0}),n})(),Nz=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($w),s.Y36(Yw))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-songsta"]],decls:9,vars:6,consts:[["mat-dialog-content","",1,"qa"],[3,"innerHTML"],["mat-dialog-actions",""],["mat-button","",1,"close-button",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"h4",1),s.ALo(2,"trusthtml"),s._UZ(3,"hr"),s._UZ(4,"div",1),s.ALo(5,"trusthtml"),s.qZA(),s.TgZ(6,"div",2),s.TgZ(7,"button",3),s.NdJ("click",function(){return i.onNoClick()}),s._uU(8,"Close"),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("innerHTML",s.lcZ(2,2,i.data.title),s.oJD),s.xp6(3),s.Q6J("innerHTML",s.lcZ(5,4,i.data.text),s.oJD))},directives:[LM,VM,cl],pipes:[WL],styles:[".mat-dialog-content[_ngcontent-%COMP%]{width:60vw;height:60vh}.close-button[_ngcontent-%COMP%]{background-color:#569671e6;color:#fff}.qa[_ngcontent-%COMP%]{padding:2em}@media (max-width: 900px){.mat-dialog-content[_ngcontent-%COMP%]{width:90vw;height:50vh}.qa[_ngcontent-%COMP%]{padding-right:12vw;padding-left:5vw}}"]}),n})(),mu=(()=>{class n{constructor(e){this.db=e}loadMessages(){return this.db.collection("messages").get().pipe((0,et.U)(e=>this.convertSnaps(e)))}loadSongs(){return this.db.collection("songs").get().pipe((0,et.U)(e=>this.convertSnaps(e)))}loadBooks(e){return this.db.collection("books",i=>i.where("cat","==",e).orderBy("order")).get().pipe((0,et.U)(i=>this.convertSnaps(i)))}loadBookpdfs(){return this.db.collection("bookpdfs").get().pipe((0,et.U)(e=>this.convertSnaps(e)))}loadQandas(){return this.db.collection("qanda",e=>e.orderBy("serialno")).get().pipe((0,et.U)(e=>this.convertSnaps(e)))}loadDailyWord(){return this.db.collection("dailyword",e=>e.orderBy("serialno","desc")).get().pipe((0,et.U)(e=>this.convertSnaps(e)))}loadTracks(e){return this.db.collection("audio",i=>i.where("book","==",e).orderBy("name")).get().pipe((0,et.U)(i=>this.convertSnaps(i)))}loadVerses(){return this.db.collection("verses").get().pipe((0,et.U)(e=>this.convertSnaps(e)))}loadVideos(){return this.db.collection("vmedia").get().pipe((0,et.U)(e=>this.convertSnaps(e)))}convertSnaps(e){return e.docs.map(i=>Object.assign({id:i.id},i.data()))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(CP))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ql=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:71,vars:0,consts:[[1,"headerpic","shadow"],[1,"container","topnav"],[1,"topnav","navbar","navbar-expand-md","navbar-dark","pt-0","pb-1"],["routerLink","/",1,"navbar-brand"],["src","../../../assets/econ.png","alt","Logo",1,"hd-logo","mt-2","rounded"],["type","button","data-bs-toggle","collapse","data-bs-target","#navmenu",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navmenu",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item","px-2"],["routerLink","/about","routerLinkActive","active-link",1,"nav-link","text-secondary"],["routerLink","/videos","routerLinkActive","active-link",1,"nav-link","text-secondary"],[1,"nav-item","dropdown","px-2"],["data-bs-toggle","dropdown","routerLinkActive","active-link","type","button",1,"nav-link","text-secondary","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-dark","bg-primary","ddmenu"],["routerLink","/wordftd",1,"dropdown-item","text-decoration-none"],["routerLink","/wordftdv",1,"dropdown-item","text-decoration-none"],["data-bs-toggle","dropdown","routerLinkActive","active-link","type","button",1,"dropdown-item","text-decoration-none"],[1,"dropdown-menu","bg-primary","dropdown-submenu","ddmenu"],["routerLink","/wtbaudio",1,"dropdown-item","text-decoration-none"],["routerLink","/qanda",1,"dropdown-item","text-decoration-none"],[1,"dropdown-menu","dropdown-menu-dark","bg-primary","dropdown-submenu"],["routerLink","/wtbvideo",1,"dropdown-item","text-decoration-none"],["routerLink","/videos",1,"dropdown-item","text-decoration-none"],["routerLink","/books",1,"dropdown-item","text-decoration-none"],["routerLink","/songs",1,"dropdown-item","text-decoration-none"],["routerLink","/resources",1,"dropdown-item","text-decoration-none"],["routerLink","/contact","routerLinkActive","active-link",1,"nav-link","text-secondary"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"nav",2),s.TgZ(3,"div",1),s.TgZ(4,"a",3),s._UZ(5,"img",4),s.qZA(),s.TgZ(6,"button",5),s._UZ(7,"span",6),s.qZA(),s.TgZ(8,"div",7),s.TgZ(9,"ul",8),s.TgZ(10,"li",9),s.TgZ(11,"a",10),s._uU(12,"About"),s.qZA(),s.qZA(),s.TgZ(13,"li",9),s.TgZ(14,"a",11),s._uU(15,"Messages"),s.qZA(),s.qZA(),s.TgZ(16,"li",12),s.TgZ(17,"a",13),s._uU(18,"Daily Word"),s.qZA(),s.TgZ(19,"ul",14),s.TgZ(20,"li"),s.TgZ(21,"a",15),s._uU(22,"Audio / Text"),s.qZA(),s.qZA(),s.TgZ(23,"li"),s.TgZ(24,"a",16),s._uU(25,"Video"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"li",12),s.TgZ(27,"a",13),s._uU(28,"Resources"),s.qZA(),s.TgZ(29,"ul",14),s.TgZ(30,"li"),s.TgZ(31,"a",17),s._uU(32,"Audio \xbb"),s.qZA(),s.TgZ(33,"ul",18),s.TgZ(34,"li"),s.TgZ(35,"a",19),s._uU(36,"With the Bible"),s.qZA(),s.qZA(),s.TgZ(37,"li"),s.TgZ(38,"a",15),s._uU(39,"Daily Word"),s.qZA(),s.qZA(),s.TgZ(40,"li"),s.TgZ(41,"a",20),s._uU(42,"Q and A"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(43,"li"),s.TgZ(44,"a",17),s._uU(45,"Video \xbb"),s.qZA(),s.TgZ(46,"ul",21),s.TgZ(47,"li"),s.TgZ(48,"a",22),s._uU(49,"With the Bible"),s.qZA(),s.qZA(),s.TgZ(50,"li"),s.TgZ(51,"a",16),s._uU(52,"Daily Word"),s.qZA(),s.qZA(),s.TgZ(53,"li"),s.TgZ(54,"a",23),s._uU(55,"Sermons"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(56,"li"),s.TgZ(57,"a",24),s._uU(58,"Books"),s.qZA(),s.qZA(),s.TgZ(59,"li"),s.TgZ(60,"a",25),s._uU(61,"Songs"),s.qZA(),s.qZA(),s.TgZ(62,"li"),s.TgZ(63,"a",20),s._uU(64,"Q and A"),s.qZA(),s.qZA(),s.TgZ(65,"li"),s.TgZ(66,"a",26),s._uU(67,"Other's Messages"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(68,"li",9),s.TgZ(69,"a",27),s._uU(70,"Contact"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA())},directives:[Zv,H1],styles:[".headerpic[_ngcontent-%COMP%]{height:8vw;background-image:linear-gradient(to bottom,rgba(86,150,113,.9),rgba(86,150,113,.8)),url(homepic.75a94ad83156d54d.jpg);background-size:cover;background-position:center}.hd-logo[_ngcontent-%COMP%]{width:5rem;display:inline-block}#navmenu[_ngcontent-%COMP%]{font-size:.9rem;background-color:#569671;z-index:10}#navmenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.active-link[_ngcontent-%COMP%]{font-weight:700}.ddmenu[_ngcontent-%COMP%]{font-size:.9rem;text-decoration:none}.navbar-toggler[_ngcontent-%COMP%]{font-size:3vw;background-color:#569671}@media (max-width: 900px){.hd-logo[_ngcontent-%COMP%]{width:1.8rem}}"]}),n})(),Xl=(()=>{class n{constructor(e){this.fileService=e,this.heading="",this.title="",this.reference="",this.verses=[]}ngOnInit(){this.fileService.loadVerses().pipe((0,br.q)(1)).subscribe(e=>{this.verses=e,this.getTitle()})}getTitle(){const e=Math.floor(Math.random()*this.verses.length);this.title=this.verses[e].text,this.reference=this.verses[e].reference}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-subhead"]],inputs:{heading:"heading"},decls:8,vars:3,consts:[[1,"subhead","text-center"],[1,"verse-animated"],[1,"ref-animated"],[1,"row","heading"],[1,"col-12"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"span",1),s._uU(2),s.qZA(),s.TgZ(3,"span",2),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"div",3),s.TgZ(6,"div",4),s._uU(7),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Oqu(i.title),s.xp6(2),s.Oqu(i.reference),s.xp6(3),s.Oqu(i.heading))},styles:[".subhead[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,rgba(242,242,242,.8),rgba(242,242,242,.8)),url(homepic.75a94ad83156d54d.jpg);background-size:cover;background-position:center;padding:6vw 5vw;align-items:center;height:25vw}.heading[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase;padding:2rem 2rem 0;font-size:1.6rem;font-weight:500;margin:auto;max-height:10vh}.ref-animated[_ngcontent-%COMP%]{font-size:1rem;animation:moveInBottom 2s ease-out}.verse-animated[_ngcontent-%COMP%]{display:block;font-size:1.8rem;font-weight:400;animation:moveInLeft 2s ease-out}@keyframes moveInLeft{0%{opacity:0;transform:translate(-20rem)}80%{transform:translate(1rem)}to{opacity:1;transform:translate(0)}}@keyframes moveInBottom{0%{opacity:0;transform:translateY(5rem)}to{opacity:1;transform:translateY(0)}}@media (max-width: 900px){.subhead[_ngcontent-%COMP%]{height:35vw}.ref-animated[_ngcontent-%COMP%]{font-size:.6rem}.verse-animated[_ngcontent-%COMP%]{font-size:.8rem}.heading[_ngcontent-%COMP%]{font-size:1rem}}"]}),n})();function Lz(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}function Vz(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}const Uz=Rv(class{constructor(n){this._elementRef=n}},"primary"),Hz=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function jz(){return{diameter:100}}});class io extends Uz{constructor(t,e,i,r,o,u,h,_){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Qr.w0.EMPTY,this.mode="determinate";const w=io._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),w.has(i.head)||w.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&h&&u&&_&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&_.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=to(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=to(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,to(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=AP(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const i=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${i}% ${i}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=io._diameters;let r=i.get(t);if(!r||!r.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}io._diameters=new WeakMap,io.\u0275fac=function(t){return new(t||io)(s.Y36(s.SBq),s.Y36(wr),s.Y36(te,8),s.Y36(ha,8),s.Y36(Hz),s.Y36(s.sBO),s.Y36(Hw),s.Y36(s.R0b))},io.\u0275cmp=s.Xpm({type:io,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(s.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,Lz,1,11,"circle",2),s.YNc(3,Vz,1,9,"circle",3),s.qZA()),2&t&&(s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===e.mode),s.uIk("viewBox",e._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},directives:[ji,ur],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let KL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt,oi],Nt]}),n})();const QL=ig({passive:!0});let Gz=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return vg.E;const i=Vd(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new kt.x,u="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,QL),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,QL)}}),o}stopMonitoring(e){const i=Vd(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wr),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const JL=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),Zz=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let zz=0;const $z=zF(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let Eg=(()=>{class n extends $z{constructor(e,i,r,o,u,h,_,w,D,S){super(h,o,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=w,this._formField=S,this._uid="mat-input-"+zz++,this.focused=!1,this.stateChanges=new kt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(H=>IP().has(H)),this._iOSKeyupListener=H=>{const Q=H.target;!Q.value&&0===Q.selectionStart&&0===Q.selectionEnd&&(Q.setSelectionRange(1,1),Q.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,L=O.nodeName.toLowerCase();this._inputValueAccessor=_||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&D.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Jt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,o;return null!==(o=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(nr.required))&&void 0!==o&&o}set required(e){this._required=Jt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&IP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Jt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=r,r?o.setAttribute("placeholder",r):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Zz.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(wr),s.Y36(mn,10),s.Y36(bs,8),s.Y36(Xo,8),s.Y36(Yk),s.Y36(JL,10),s.Y36(Gz),s.Y36(s.R0b),s.Y36(OM,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:RM,useExisting:n}]),s.qOj,s.TTD]}),n})(),e2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Yk],imports:[[XL,b1,Nt],XL,b1]}),n})();class Wz{}class Xf{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Xf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Xf;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Xf?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Kz{encodeKey(t){return t2(t)}encodeValue(t){return t2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Xz=/%(\d[a-f0-9])/gi,Jz={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function t2(n){return encodeURIComponent(n).replace(Xz,(t,e)=>{var i;return null!==(i=Jz[e])&&void 0!==i?i:t})}function n2(n){return`${n}`}class Jf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Kz,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Qz(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],_=e.get(u)||[];_.push(h),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Jf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(n2(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(n2(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class e${constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function r2(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function s2(n){return"undefined"!=typeof Blob&&n instanceof Blob}function o2(n){return"undefined"!=typeof FormData&&n instanceof FormData}class oC{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function t$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Xf),this.context||(this.context=new e$),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new Jf,this.urlWithParams=e}serializeBody(){return null===this.body?null:r2(this.body)||s2(this.body)||o2(this.body)||function n$(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||o2(this.body)?null:s2(this.body)?this.body.type||null:r2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,_=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let w=t.headers||this.headers,D=t.params||this.params;const S=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((O,L)=>O.set(L,t.setHeaders[L]),w)),t.setParams&&(D=Object.keys(t.setParams).reduce((O,L)=>O.set(L,t.setParams[L]),D)),new oC(i,r,u,{params:D,headers:w,context:S,reportProgress:_,responseType:o,withCredentials:h})}}var ts=(()=>((ts=ts||{})[ts.Sent=0]="Sent",ts[ts.UploadProgress=1]="UploadProgress",ts[ts.ResponseHeader=2]="ResponseHeader",ts[ts.DownloadProgress=3]="DownloadProgress",ts[ts.Response=4]="Response",ts[ts.User=5]="User",ts))();class Z1 extends class i${constructor(t,e=200,i="OK"){this.headers=t.headers||new Xf,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=ts.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Z1({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function z1(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let l2=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof oC)o=e;else{let _,w;_=r.headers instanceof Xf?r.headers:new Xf(r.headers),r.params&&(w=r.params instanceof Jf?r.params:new Jf({fromObject:r.params})),o=new oC(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=nt(o).pipe(Hv(_=>this.handler.handle(_)));if(e instanceof oC||"events"===r.observe)return u;const h=u.pipe(ei(_=>_ instanceof Z1));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,et.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,et.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,et.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,et.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Jf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,z1(r,i))}post(e,i,r={}){return this.request("POST",e,z1(r,i))}put(e,i,r={}){return this.request("PUT",e,z1(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Wz))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const s$=["*"];let ex;function aC(n){var t;return(null===(t=function o$(){if(void 0===ex&&(ex=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(ex=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return ex}())||void 0===t?void 0:t.createHTML(n))||n}function c2(n){return Error(`Unable to find icon with the name "${n}"`)}function u2(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function d2(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Tg{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let tx=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Tg(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const u=this._sanitizer.sanitize(s.q3G.HTML,r);if(!u)throw d2(r);const h=aC(u);return this._addSvgIconConfig(e,i,new Tg("",h,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Tg(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw d2(i);const u=aC(o);return this._addSvgIconSetConfig(e,new Tg("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw u2(e);const r=this._cachedIconsByUrl.get(i);return r?nt(nx(r)):this._loadSvgIconFromConfig(new Tg(e,null)).pipe((0,Xr.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,et.U)(o=>nx(o)))}getNamedSvgIcon(e,i=""){const r=h2(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):function Yz(n,t){const e=(0,ol.m)(n)?n:()=>n,i=r=>r.error(e());return new kn.y(t?r=>t.schedule(i,0,r):i)}(c2(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?nt(nx(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,et.U)(i=>nx(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?nt(r):mc(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Kd(h=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(w)),nt(null)})))).pipe((0,et.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw c2(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Xr.b)(i=>e.svgText=i),(0,et.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?nt(null):this._fetchIcon(e).pipe((0,Xr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(aC("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(aC("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:u,value:h}=r[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,u=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function a$(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,r);if(!h)throw u2(r);const _=this._inProgressUrlFetches.get(h);if(_)return _;const w=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe((0,et.U)(D=>aC(D)),hu(()=>this._inProgressUrlFetches.delete(h)),(0,tP.B)());return this._inProgressUrlFetches.set(h,w),w}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(h2(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return c$(o)?new Tg(o.url,null,o.options):new Tg(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(l2,8),s.LFG(Uo),s.LFG(te,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nx(n){return n.cloneNode(!0)}function h2(n,t){return n+":"+t}function c$(n){return!(!n.url||!n.options)}const u$=Rv(class{constructor(n){this._elementRef=n}}),d$=new s.OlP("mat-icon-location",{providedIn:"root",factory:function h$(){const n=(0,s.f3M)(te),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),f2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],f$=f2.map(n=>`[${n}]`).join(", "),p$=/^url\(['"]?#(.*?)['"]?\)$/;let Mg=(()=>{class n extends u${constructor(e,i,r,o,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Qr.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Jt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(f$),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)f2.forEach(u=>{const h=i[o],_=h.getAttribute(u),w=_?_.match(p$):null;if(w){let D=r.get(h);D||(D=[],r.set(h,D)),D.push({name:u,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,br.q)(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(tx),s.$8M("aria-hidden"),s.Y36(d$),s.Y36(s.qLn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:s$,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),p2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt],Nt]}),n})();function m$(n,t){1&n&&s._UZ(0,"mat-spinner",17),2&n&&s.Q6J("diameter",30)}function g$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function _$(n,t){1&n&&(s.TgZ(0,"th",19),s._uU(1,"Title"),s.qZA())}function y$(n,t){if(1&n&&(s.TgZ(0,"td",20),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function v$(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1,"View"),s.qZA())}function b$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",20),s.TgZ(1,"button",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().viewSongs(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"arrow_forward"),s.qZA(),s.qZA(),s.qZA()}}function w$(n,t){1&n&&s._UZ(0,"tr",23)}const C$=function(n){return{gray:n}};function D$(n,t){1&n&&s._UZ(0,"tr",24),2&n&&s.Q6J("ngClass",s.VKq(1,C$,t.even))}const E$=function(){return[5,10,20]};let T$=(()=>{class n{constructor(e,i){this.fileService=e,this.dialog=i,this.heading="Songs - Text",this.columnsToDisplay=["title","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadSongs()}reloadSongs(){this.loading=!0,this.fileService.loadSongs().pipe(hu(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new gg(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}viewSongs(e){const i=new du;i.autoFocus=!0,i.data=e,this.dialog.open(Nz,i).afterClosed().subscribe(()=>{this.onSearchClear()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu),s.Y36(Kf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-songs"]],viewQuery:function(e,i){if(1&e&&(s.Gf(no,5),s.Gf(Ao,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:19,vars:10,consts:[[3,"heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,m$,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,g$,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,_$,2,0,"th",10),s.YNc(12,y$,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,v$,2,0,"th",13),s.YNc(15,b$,4,0,"td",11),s.BQk(),s.YNc(16,w$,1,0,"tr",14),s.YNc(17,D$,1,3,"tr",15),s.qZA(),s._UZ(18,"mat-paginator",16),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(7),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(9,E$))("pageSize",10))},directives:[Ql,Xl,Qt,io,Wd,Eg,Ir,_s,Wo,cl,yg,Mg,Zf,no,zd,Zd,$d,mg,Gd,Yd,zf,Yf,$f,Wf,wi,Ao],styles:[".search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}@media (max-width: 900px){.table[_ngcontent-%COMP%]{width:92vw}}"]}),n})(),M$=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($w),s.Y36(Yw))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-wordftdta"]],decls:9,vars:6,consts:[["mat-dialog-content","",1,"qa"],[3,"innerHTML"],["mat-dialog-actions",""],["mat-button","",1,"close-button",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"h4",1),s.ALo(2,"trusthtml"),s._UZ(3,"hr"),s._UZ(4,"div",1),s.ALo(5,"trusthtml"),s.qZA(),s.TgZ(6,"div",2),s.TgZ(7,"button",3),s.NdJ("click",function(){return i.onNoClick()}),s._uU(8,"Close"),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("innerHTML",s.lcZ(2,2,i.data.title),s.oJD),s.xp6(3),s.Q6J("innerHTML",s.lcZ(5,4,i.data.text),s.oJD))},directives:[LM,VM,cl],pipes:[WL],styles:[".mat-dialog-content[_ngcontent-%COMP%]{width:60vw;height:60vh}.close-button[_ngcontent-%COMP%]{background-color:#569671e6;color:#fff}.qa[_ngcontent-%COMP%]{padding:2em}@media (max-width: 900px){.mat-dialog-content[_ngcontent-%COMP%]{width:90vw;height:50vh}.qa[_ngcontent-%COMP%]{padding-right:12vw;padding-left:5vw}}"]}),n})();function x$(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function S$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function I$(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Serial No"),s.qZA())}function A$(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.serialno)}}function k$(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Title"),s.qZA())}function R$(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function O$(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1,"View"),s.qZA())}function P$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",23),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().viewDailyWord(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"arrow_forward"),s.qZA(),s.qZA(),s.qZA()}}function F$(n,t){1&n&&s._UZ(0,"tr",24)}const N$=function(n){return{gray:n}};function L$(n,t){1&n&&s._UZ(0,"tr",25),2&n&&s.Q6J("ngClass",s.VKq(1,N$,t.even))}const V$=function(){return[5,10,20]};let B$=(()=>{class n{constructor(e,i){this.fileService=e,this.dialog=i,this.heading="Daily Word - Audio & Text",this.columnsToDisplay=["serialno","title","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadDailyWord()}reloadDailyWord(){this.loading=!0,this.fileService.loadDailyWord().pipe(hu(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new gg(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}viewDailyWord(e){const i=new du;i.autoFocus=!0,i.data=e,this.dialog.open(M$,i).afterClosed().subscribe(()=>{this.onSearchClear()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu),s.Y36(Kf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-wordftd"]],viewQuery:function(e,i){if(1&e&&(s.Gf(no,5),s.Gf(Ao,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:22,vars:10,consts:[[3,"heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","serialno"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,x$,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,S$,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,I$,2,0,"th",10),s.YNc(12,A$,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,k$,2,0,"th",10),s.YNc(15,R$,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,O$,2,0,"th",14),s.YNc(18,P$,4,0,"td",11),s.BQk(),s.YNc(19,F$,1,0,"tr",15),s.YNc(20,L$,1,3,"tr",16),s.qZA(),s._UZ(21,"mat-paginator",17),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(9,V$))("pageSize",10))},directives:[Ql,Xl,Qt,io,Wd,Eg,Ir,_s,Wo,cl,yg,Mg,Zf,no,zd,Zd,$d,mg,Gd,Yd,zf,Yf,$f,Wf,wi,Ao],styles:[".search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}@media (max-width: 900px){.table[_ngcontent-%COMP%]{width:92vw}}"]}),n})(),ix=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.yturl="https://www.youtube.com/embed/",this.vidUrl=""}ngOnInit(){this.vidUrl=this.yturl+this.data}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($w),s.Y36(Yw))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-video-dialog"]],decls:6,vars:3,consts:[["mat-dialog-content",""],[1,"ifram",3,"src"],["mat-dialog-actions",""],["mat-button","",1,"video-button",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"iframe",1),s.ALo(2,"safe"),s.qZA(),s.TgZ(3,"div",2),s.TgZ(4,"button",3),s.NdJ("click",function(){return i.onNoClick()}),s._uU(5,"Close"),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("src",s.lcZ(2,1,i.vidUrl),s.uOi))},directives:[LM,VM,cl],pipes:[Fz],styles:[".video-button[_ngcontent-%COMP%]{background-color:#569671e6;color:#fff}.mat-dialog-content[_ngcontent-%COMP%]{width:60vw;height:30vw}.ifram[_ngcontent-%COMP%]{width:100%;height:100%}@media (max-width: 900px){.mat-dialog-content[_ngcontent-%COMP%]{width:80vw}}"]}),n})();function U$(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function H$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function j$(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Thumbnail"),s.qZA())}function q$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"img",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.qZA(),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("src",e.thumbnail,s.LSH)}}function G$(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Title"),s.qZA())}function Z$(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function z$(n,t){1&n&&(s.TgZ(0,"th",23),s._uU(1,"Play"),s.qZA())}function $$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"ondemand_video"),s.qZA(),s.qZA(),s.qZA()}}function Y$(n,t){1&n&&s._UZ(0,"tr",25)}const W$=function(n){return{gray:n}};function K$(n,t){1&n&&s._UZ(0,"tr",26),2&n&&s.Q6J("ngClass",s.VKq(1,W$,t.even))}const Q$=function(){return[5,10,20]};let X$=(()=>{class n{constructor(e,i){this.fileService=e,this.dialog=i,this.heading="Video Sermons",this.columnsToDisplay=["thumbnail","title","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadVideos()}reloadVideos(){this.loading=!0,this.fileService.loadVideos().pipe(hu(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new gg(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}playVideo(e){const i=new du;i.autoFocus=!0,i.data=e.videoId,this.dialog.open(ix,i).afterClosed().subscribe(()=>{this.onSearchClear()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu),s.Y36(Kf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-videos"]],viewQuery:function(e,i){if(1&e&&(s.Gf(no,5),s.Gf(Ao,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:22,vars:10,consts:[[3,"heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","thumbnail"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["alt","video",3,"src","click"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,U$,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,H$,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,j$,2,0,"th",10),s.YNc(12,q$,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,G$,2,0,"th",10),s.YNc(15,Z$,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,z$,2,0,"th",14),s.YNc(18,$$,4,0,"td",11),s.BQk(),s.YNc(19,Y$,1,0,"tr",15),s.YNc(20,K$,1,3,"tr",16),s.qZA(),s._UZ(21,"mat-paginator",17),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(9,Q$))("pageSize",10))},directives:[Ql,Xl,Qt,io,Wd,Eg,Ir,_s,Wo,cl,yg,Mg,Zf,no,zd,Zd,$d,mg,Gd,Yd,zf,Yf,$f,Wf,wi,Ao],styles:["img[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{height:clamp(1.5rem,5vw,3rem)}.mat-column-title[_ngcontent-%COMP%], .mat-column-thumbnail[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{font-size:clamp(.5rem,1vw,2rem)}.search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}"]}),n})();const J$=["*",[["mat-card-footer"]]],e5=["*","mat-card-footer"];let m2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),g2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),t5=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),_2=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ha,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:e5,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(J$),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),y2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt],Nt]}),n})(),n5=(()=>{class n{constructor(){this.heading="contact information",this.verse="In the beginning was the Word, and the Word was with God, and the Word was God."}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-contact"]],decls:22,vars:2,consts:[[3,"title","heading"],[1,"container","cont"],[1,"cont-details"],[1,"card-details","text-center","shadow"],[1,"bi","bi-person-lines-fill"],[1,"bi","bi-telephone-fill"],[1,"bi","bi-envelope-fill"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.TgZ(4,"mat-card",3),s.TgZ(5,"mat-card-subtitle"),s._uU(6,"ADDRESS"),s.qZA(),s.TgZ(7,"mat-card-content"),s._UZ(8,"i",4),s._uU(9," ------------------------------------------ ------------------------------------------ "),s.qZA(),s.qZA(),s.TgZ(10,"mat-card",3),s.TgZ(11,"mat-card-subtitle"),s._uU(12,"MOBILE"),s.qZA(),s.TgZ(13,"mat-card-content"),s._UZ(14,"i",5),s._uU(15," +91 94488 49211 "),s.qZA(),s.qZA(),s.TgZ(16,"mat-card",3),s.TgZ(17,"mat-card-subtitle"),s._uU(18,"EMAIL"),s.qZA(),s.TgZ(19,"mat-card-content"),s._UZ(20,"i",6),s._uU(21," edchelladurai@gmail.com "),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("title",i.verse)("heading",i.heading))},directives:[Ql,Xl,_2,g2,m2],styles:[".cont[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:95vw}.cont-details[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;margin:auto;margin-top:2rem}.card-details[_ngcontent-%COMP%]{width:100%;margin-bottom:2rem}.map[_ngcontent-%COMP%]{margin:auto;margin-bottom:2rem}.map-card[_ngcontent-%COMP%]{background-color:#ddd}"]}),n})();function r5(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function s5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function o5(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Speaker"),s.qZA())}function a5(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.speaker)}}function l5(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Title"),s.qZA())}function c5(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function u5(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1,"Play"),s.qZA())}function d5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",23),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"ondemand_video"),s.qZA(),s.qZA(),s.qZA()}}function h5(n,t){1&n&&s._UZ(0,"tr",24)}const f5=function(n){return{gray:n}};function p5(n,t){1&n&&s._UZ(0,"tr",25),2&n&&s.Q6J("ngClass",s.VKq(1,f5,t.even))}const m5=function(){return[5,10,20]};let g5=(()=>{class n{constructor(e,i){this.fileService=e,this.dialog=i,this.heading="Messages from other servants of God",this.columnsToDisplay=["speaker","title","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadMessages()}reloadMessages(){this.loading=!0,this.fileService.loadMessages().pipe(hu(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new gg(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}playVideo(e){const i=e.videoUrl,r=i.substring(i.indexOf("=")+1),o=new du;o.autoFocus=!0,o.data=r,this.dialog.open(ix,o).afterClosed().subscribe(()=>{this.onSearchClear()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu),s.Y36(Kf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-resources"]],viewQuery:function(e,i){if(1&e&&(s.Gf(no,5),s.Gf(Ao,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:22,vars:10,consts:[[3,"heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","speaker"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,r5,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,s5,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,o5,2,0,"th",10),s.YNc(12,a5,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,l5,2,0,"th",10),s.YNc(15,c5,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,u5,2,0,"th",14),s.YNc(18,d5,4,0,"td",11),s.BQk(),s.YNc(19,h5,1,0,"tr",15),s.YNc(20,p5,1,3,"tr",16),s.qZA(),s._UZ(21,"mat-paginator",17),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(9,m5))("pageSize",10))},directives:[Ql,Xl,Qt,io,Wd,Eg,Ir,_s,Wo,cl,yg,Mg,Zf,no,zd,Zd,$d,mg,Gd,Yd,zf,Yf,$f,Wf,wi,Ao],styles:["img[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{height:clamp(1.5rem,5vw,3rem)}.mat-column-title[_ngcontent-%COMP%], .mat-column-thumbnail[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{font-size:clamp(.5rem,1vw,2rem)}.search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}"]}),n})(),_5=(()=>{class n{constructor(){this.heading="about e d chelladurai"}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-about"]],decls:26,vars:1,consts:[[3,"heading"],[1,"container"],[1,"row","p-5"],[1,"col-lg-4","pe-3","pb-2","text-center"],["href","#"],["src","https://via.placeholder.com/400x500?text='photo of EDC'","alt","placeholder","width","70%"],[1,"col-lg-8","about-text"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.TgZ(4,"div",3),s.TgZ(5,"a",4),s._UZ(6,"img",5),s.qZA(),s.qZA(),s.TgZ(7,"div",6),s.TgZ(8,"p"),s._uU(9," E D Chelladurai was born on October 19th, 1951 in Bengaluru . After school, he went on to complete his graduation in Science and has always been a seeker after truth. In the year 1973, he received a copy of the New Testament and on reading its pages, he came to believe in the Lord Jesus Christ as his personal Saviour. He soon joined the Operation Mobilisation Evangelical team and served for 12 years without any remuneration. He led teams and travelled to the villages of Karnataka and Uttar Pradesh to do pioneering evangelism. He later spent some time on the ship Logos as a volunteer. While sailing to over 10 different countries, he received on-the-job training, and was privileged to have George Verwer and Patrick Johnstone visiting them on board. He also had Jordan Khan as his cabin mate. "),s._UZ(10,"br"),s._UZ(11,"br"),s._uU(12," He was greatly inspired by the life and contact of Bakth Singh. He had the privilege of helping DGS Dinakaran, R Stanley, Chris Panos, Ralph Mohaney, Zacharias Tanee Fomum, Dr Sam Kamaleson, Darlene Zschech, Dr Robert Cunville, Dr Sam Chelladurai and many others as Kannada language interpreter in public crusades and TV channels."),s._UZ(13,"br"),s._UZ(14,"br"),s._uU(15," His Scientist friend Dr. Ashirvadam made a lasting impact on his understanding of the Holy Scriptures, which was a great influence in strengthening his knowledge and faith in the Word of God. Another enriching experience he had was the time he spent in Biblica \u2013 The International Bible Society. He spent about 30 years in Bible translation work under the leadership of Dr PLN Murthy and Dr Aldrin Bogi. This sharpened his skills in rightly handling the Word of God. "),s._UZ(16,"br"),s._UZ(17,"br"),s._uU(18," Having graduated in Biblical Languages in Gospel Mission and under Dr RaviKumar Nitturu, he is currently engaged in leading a dedicated team in publishing the Our Bible versions in English, Kannada, Tamil and Telugu. He has spoken on TV channels such as Big J TV and New Hope TV, teaching a series of around 1500 studies from Genesis to Revelation. His greatest passion is to be a blessing to the world by giving them the Word of God. He gratefully acknowledges Zac Poonen as his mentor and spiritual father. "),s._UZ(19,"br"),s._UZ(20,"br"),s._uU(21," His family consists of his wife, two daughters and their families and includes one grandson, Jaden. His brother Kumarswamy is the Bishop of the Good Shepherd churches. "),s._UZ(22,"br"),s._UZ(23,"br"),s._uU(24," He also pastors an independent church in Bengaluru. "),s._UZ(25,"br"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading))},directives:[Ql,Xl],styles:["p[_ngcontent-%COMP%]{font-size:.8rem}.about-text[_ngcontent-%COMP%]{padding:.5vw 1vw}"]}),n})(),y5=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],decls:121,vars:0,consts:[[1,"homepic","shadow"],[1,"container","topnav"],[1,"topnav","navbar","navbar-expand-md","navbar-dark","pt-0","pb-1"],["routerLink","/",1,"navbar-brand"],["src","../../../assets/econ.png","alt","Logo",1,"hd-logo","mt-2","rounded"],["type","button","data-bs-toggle","collapse","data-bs-target","#navmenu",1,"navbar-toggler"],[1,"navbar-toggler-icon","toggler"],["id","navmenu",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item","px-2"],["routerLink","/about","routerLinkActive","active-link",1,"nav-link","text-secondary"],["routerLink","/videos","routerLinkActive","active-link",1,"nav-link","text-secondary"],[1,"nav-item","dropdown","px-2"],["data-bs-toggle","dropdown","routerLinkActive","active-link","type","button",1,"nav-link","text-secondary","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-dark","bg-primary","ddmenu"],["routerLink","/wordftd",1,"dropdown-item","text-decoration-none"],["routerLink","/wordftdv",1,"dropdown-item","text-decoration-none"],["data-bs-toggle","dropdown","routerLinkActive","active-link","type","button",1,"dropdown-item","text-decoration-none"],[1,"dropdown-menu","bg-primary","dropdown-submenu","ddmenu"],["routerLink","/wtbaudio",1,"dropdown-item","text-decoration-none"],["routerLink","/qanda",1,"dropdown-item","text-decoration-none"],[1,"dropdown-menu","dropdown-menu-dark","bg-primary","dropdown-submenu"],["routerLink","/wtbvideo",1,"dropdown-item","text-decoration-none"],["routerLink","/videos",1,"dropdown-item","text-decoration-none"],["routerLink","/books",1,"dropdown-item","text-decoration-none"],["routerLink","/songs",1,"dropdown-item","text-decoration-none"],["routerLink","/resources",1,"dropdown-item","text-decoration-none"],["routerLink","/contact","routerLinkActive","active-link",1,"nav-link","text-secondary"],[1,"edcimg","mt-1"],["src","../../../assets/edclogo.png","alt","Logo",1,"mainlogo"],[1,"container","mb-5"],[1,"row","title"],[1,"col-12"],[1,"row","row-cols-1","row-cols-md-2","g-4"],[1,"col"],[1,"card","shadow","custcard","h-100"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["routerLink","wtbvideo",1,"btn","btn-primary","text-light"],["routerLink","wordftd",1,"btn","btn-primary","text-light"],["routerLink","books",1,"btn","btn-primary","text-light"],["routerLink","videos",1,"btn","btn-primary","text-light"],[1,"vh-10","px-3","px-md-5","py-4","home-cont","text-center"],[1,"text-dark","text-uppercase","p-3","mb-0"],[1,"text-dark","pb-2","px-md-4"],["routerLink","contact",1,"btn","btn-primary","text-light","px-xxl-4","shadow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"nav",2),s.TgZ(3,"div",1),s.TgZ(4,"a",3),s._UZ(5,"img",4),s.qZA(),s.TgZ(6,"button",5),s._UZ(7,"span",6),s.qZA(),s.TgZ(8,"div",7),s.TgZ(9,"ul",8),s.TgZ(10,"li",9),s.TgZ(11,"a",10),s._uU(12,"About"),s.qZA(),s.qZA(),s.TgZ(13,"li",9),s.TgZ(14,"a",11),s._uU(15,"Messages"),s.qZA(),s.qZA(),s.TgZ(16,"li",12),s.TgZ(17,"a",13),s._uU(18,"Daily Word"),s.qZA(),s.TgZ(19,"ul",14),s.TgZ(20,"li"),s.TgZ(21,"a",15),s._uU(22,"Audio / Text"),s.qZA(),s.qZA(),s.TgZ(23,"li"),s.TgZ(24,"a",16),s._uU(25,"Video"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"li",12),s.TgZ(27,"a",13),s._uU(28,"Resources"),s.qZA(),s.TgZ(29,"ul",14),s.TgZ(30,"li"),s.TgZ(31,"a",17),s._uU(32,"Audio \xbb"),s.qZA(),s.TgZ(33,"ul",18),s.TgZ(34,"li"),s.TgZ(35,"a",19),s._uU(36,"With the Bible"),s.qZA(),s.qZA(),s.TgZ(37,"li"),s.TgZ(38,"a",15),s._uU(39,"Daily Word"),s.qZA(),s.qZA(),s.TgZ(40,"li"),s.TgZ(41,"a",20),s._uU(42,"Q and A"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(43,"li"),s.TgZ(44,"a",17),s._uU(45,"Video \xbb"),s.qZA(),s.TgZ(46,"ul",21),s.TgZ(47,"li"),s.TgZ(48,"a",22),s._uU(49,"With the Bible"),s.qZA(),s.qZA(),s.TgZ(50,"li"),s.TgZ(51,"a",16),s._uU(52,"Daily Word"),s.qZA(),s.qZA(),s.TgZ(53,"li"),s.TgZ(54,"a",23),s._uU(55,"Sermons"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(56,"li"),s.TgZ(57,"a",24),s._uU(58,"Books"),s.qZA(),s.qZA(),s.TgZ(59,"li"),s.TgZ(60,"a",25),s._uU(61,"Songs"),s.qZA(),s.qZA(),s.TgZ(62,"li"),s.TgZ(63,"a",20),s._uU(64,"Q and A"),s.qZA(),s.qZA(),s.TgZ(65,"li"),s.TgZ(66,"a",26),s._uU(67,"Other's Messages"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(68,"li",9),s.TgZ(69,"a",27),s._uU(70,"Contact"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(71,"div",28),s._UZ(72,"img",29),s.qZA(),s.qZA(),s.TgZ(73,"main",30),s.TgZ(74,"div",31),s.TgZ(75,"div",32),s._uU(76,"Highlights"),s.qZA(),s.qZA(),s.TgZ(77,"div",33),s.TgZ(78,"div",34),s.TgZ(79,"div",35),s.TgZ(80,"div",36),s.TgZ(81,"h5",37),s._uU(82,"Genesis to Revelation"),s.qZA(),s.TgZ(83,"p",38),s._uU(84," This is a series of studies that covers Chapter by Chapter study of the Bible, covering the subject matter in about 30 minutes highlighting the focus in the chapter and its practical application. There are\xa0 altogether 1189 chapters. Some chapters like chapter 119 is lengthy, and hence the study is sometimes divided into more than one study in a chapter for clarity. "),s.qZA(),s.TgZ(85,"a",39),s._uU(86,"Learn more..."),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(87,"div",34),s.TgZ(88,"div",35),s.TgZ(89,"div",36),s.TgZ(90,"h5",37),s._uU(91,"Word for the day"),s.qZA(),s.TgZ(92,"p",38),s._uU(93," This is a series of meditations from the Bible, one for each day of the year. Each day's meditation is presented as seven points to make it easier for the reader to remember and thereby apply to his/her life during the course of a day. "),s.qZA(),s.TgZ(94,"a",40),s._uU(95,"Learn more..."),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(96,"div",34),s.TgZ(97,"div",35),s.TgZ(98,"div",36),s.TgZ(99,"h5",37),s._uU(100,"Resources - Books"),s.qZA(),s.TgZ(101,"p",38),s._uU(102," A group of 40 Authors collectively authored these 100 Word Centered Books in a simple format to bless readers around the globe for the Glory of God! It is available for free download. Primarily in English but few other languages like Kannada, Tamil, and Hindi. New Books will be added as and when it is ready. "),s.qZA(),s.TgZ(103,"a",41),s._uU(104,"Learn more..."),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(105,"div",34),s.TgZ(106,"div",35),s.TgZ(107,"div",36),s.TgZ(108,"h5",37),s._uU(109,"Sermon Videos"),s.qZA(),s.TgZ(110,"p",38),s._uU(111," Collection of Sermons based on the Word of God and suitable for various seasons. These were shared on television programs, in churches and in the Humility Bible School. These were presented directly in obedience to the Lord Jesus who said, \u201cMake Disciples of All nations, and Teaching them to Obey Everything I have Commanded you.\u201d Mathew 28:19,20. "),s.qZA(),s.TgZ(112,"a",42),s._uU(113,"Learn more..."),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(114,"div",43),s.TgZ(115,"h4",44),s._uU(116,"Get in touch with us"),s.qZA(),s.TgZ(117,"p",45),s._uU(118," If you would like to have more information or would simply like to communicate with us, please click on the button below to see contact details. Alternately, you could connect with us on social media using the links below. "),s.qZA(),s.TgZ(119,"a",46),s._uU(120,"Contact us"),s.qZA(),s.qZA())},directives:[Zv,H1],styles:[".homepic[_ngcontent-%COMP%]{height:60vh;background-image:linear-gradient(to bottom,rgba(86,150,113,.9),rgba(86,150,113,.8)),url(homepic.75a94ad83156d54d.jpg);background-size:cover;background-position:center}.title[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase;padding:3rem;font-size:1.5rem;font-weight:500;margin:auto}.custcard[_ngcontent-%COMP%]{background-color:#eeeeeeb3;padding:1rem}.custcard[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.custcard[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .custcard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.8rem}.home-cont[_ngcontent-%COMP%]{background-color:#fdedaf;align-items:center}.home-cont[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;font-style:italic;font-weight:500}.home-cont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.8rem;margin:auto}.hd-logo[_ngcontent-%COMP%]{width:6vw;display:inline-block}#navmenu[_ngcontent-%COMP%]{font-size:.9rem}#navmenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.active-link[_ngcontent-%COMP%]{font-weight:700}.edcimg[_ngcontent-%COMP%]{display:flex;justify-content:center}.mainlogo[_ngcontent-%COMP%]{width:60vw}.ddmenu[_ngcontent-%COMP%]{font-size:.9rem}.navbar-toggler[_ngcontent-%COMP%]{font-size:3vw;background-color:#569671}@media (max-width: 900px){.homepic[_ngcontent-%COMP%]{height:35vh}.mainlogo[_ngcontent-%COMP%]{width:80vw}.title[_ngcontent-%COMP%]{padding:1.5rem}.hd-logo[_ngcontent-%COMP%]{width:10vw}.home-cont[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.toggler[_ngcontent-%COMP%]{width:25px}}"]}),n})();function v5(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function b5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function w5(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Thumbnail"),s.qZA())}function C5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"img",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.qZA(),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("src",e.thumbnail,s.LSH)}}function D5(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Title"),s.qZA())}function E5(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function T5(n,t){1&n&&(s.TgZ(0,"th",23),s._uU(1,"Play"),s.qZA())}function M5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"ondemand_video"),s.qZA(),s.qZA(),s.qZA()}}function x5(n,t){1&n&&s._UZ(0,"tr",25)}const S5=function(n){return{gray:n}};function I5(n,t){1&n&&s._UZ(0,"tr",26),2&n&&s.Q6J("ngClass",s.VKq(1,S5,t.even))}const A5=function(){return[5,10,20]};let k5=(()=>{class n{constructor(e,i){this.fileService=e,this.dialog=i,this.heading="Daily Word - Video",this.verse="In the beginning was the Word, and the Word was with God, and the Word was God.",this.columnsToDisplay=["thumbnail","title","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadVideos()}reloadVideos(){this.loading=!0,this.fileService.loadVideos().pipe(hu(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new gg(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}playVideo(e){const i=new du;i.autoFocus=!0,i.data=e.videoId,this.dialog.open(ix,i).afterClosed().subscribe(()=>{this.onSearchClear()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu),s.Y36(Kf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-wordftdv"]],viewQuery:function(e,i){if(1&e&&(s.Gf(no,5),s.Gf(Ao,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:22,vars:11,consts:[[3,"title","heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","thumbnail"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["alt","video",3,"src","click"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,v5,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,b5,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,w5,2,0,"th",10),s.YNc(12,C5,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,D5,2,0,"th",10),s.YNc(15,E5,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,T5,2,0,"th",14),s.YNc(18,M5,4,0,"td",11),s.BQk(),s.YNc(19,x5,1,0,"tr",15),s.YNc(20,I5,1,3,"tr",16),s.qZA(),s._UZ(21,"mat-paginator",17),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("title",i.verse)("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(10,A5))("pageSize",10))},directives:[Ql,Xl,Qt,io,Wd,Eg,Ir,_s,Wo,cl,yg,Mg,Zf,no,zd,Zd,$d,mg,Gd,Yd,zf,Yf,$f,Wf,wi,Ao],styles:["img[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{height:clamp(1.5rem,5vw,3rem)}.mat-column-title[_ngcontent-%COMP%], .mat-column-thumbnail[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{font-size:clamp(.5rem,1vw,2rem)}.search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}"]}),n})();const v2=["*"];class O5{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new P5(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class P5{constructor(t,e){this.row=t,this.col=e}}const b2=new s.OlP("MAT_GRID_LIST");let w2=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(to(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(to(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(b2,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&s.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:v2,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),n})();const F5=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class $1{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=C2(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":xg(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,r,o),this.setRowStyles(t,e,r,o)}setColStyles(t,e,i,r){let o=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),t._setStyle("width",xg(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class N5 extends $1{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=C2(this.fixedRowHeight),F5.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",xg(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",xg(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class L5 extends $1{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",xg(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",xg(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class V5 extends $1{setRowStyles(t,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",xg(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function xg(n){return`calc(${n})`}function C2(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let U5=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(to(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${null==e?"":e}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new V5:e&&e.indexOf(":")>-1?new L5(e):new N5(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new O5);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((o,u)=>{const h=e.positions[u];this._tileStyler.setStyle(o,h.row,h.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ud,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,w2,5),2&e){let o;s.iGM(o=s.CRH())&&(i._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[s._Bn([{provide:b2,useExisting:n}])],ngContentSelectors:v2,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div"),s.Hsn(1),s.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),n})(),D2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[mM,Nt],mM,Nt]}),n})();function H5(n,t){if(1&n&&(s.TgZ(0,"mat-grid-tile"),s.TgZ(1,"a",4),s._UZ(2,"img",5),s.qZA(),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("href",e.filepath,s.LSH),s.xp6(1),s.Q6J("src",e.thumbpath,s.LSH)}}let j5=(()=>{class n{constructor(e){this.fileService=e,this.heading="Books",this.books=[],this.loading=!1}ngOnInit(){this.loading=!0,this.fileService.loadBookpdfs().pipe(hu(()=>this.loading=!1)).subscribe(e=>{this.books=e,console.log("Books: ",this.books)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-books"]],decls:5,vars:2,consts:[[3,"heading"],[1,"booklist"],["cols","5","rowHeight","1:2","gutterSize","10px"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],["alt","Book",2,"width","100%","height","100%","object-fit","cover",3,"src"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"mat-grid-list",2),s.YNc(4,H5,3,2,"mat-grid-tile",3),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(3),s.Q6J("ngForOf",i.books))},directives:[Ql,Xl,U5,In,w2],styles:[".booklist[_ngcontent-%COMP%]{margin:0 3rem 2rem;min-height:60vh}@media (max-width: 900px){.booklist[_ngcontent-%COMP%]{margin:1rem}}"]}),n})(),q5=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($w),s.Y36(Yw))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-qandata"]],decls:9,vars:2,consts:[["mat-dialog-content","",1,"qa"],["mat-dialog-actions",""],["mat-button","",1,"close-button",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"h4"),s._uU(2),s.qZA(),s._UZ(3,"hr"),s.TgZ(4,"p"),s._uU(5),s.qZA(),s.qZA(),s.TgZ(6,"div",1),s.TgZ(7,"button",2),s.NdJ("click",function(){return i.onNoClick()}),s._uU(8,"Close"),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Oqu(i.data.question),s.xp6(3),s.Oqu(i.data.answer))},directives:[LM,VM,cl],styles:[".mat-dialog-content[_ngcontent-%COMP%]{width:60vw;height:60vh}.close-button[_ngcontent-%COMP%]{background-color:#569671e6;color:#fff}.qa[_ngcontent-%COMP%]{padding:2em}@media (max-width: 900px){.mat-dialog-content[_ngcontent-%COMP%]{width:90vw;height:50vh}.qa[_ngcontent-%COMP%]{padding-right:12vw;padding-left:5vw}}"]}),n})();function G5(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function Z5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function z5(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Number"),s.qZA())}function $5(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.serialno)}}function Y5(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Question"),s.qZA())}function W5(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.question)}}function K5(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1,"View"),s.qZA())}function Q5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",23),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().viewQanda(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"arrow_forward"),s.qZA(),s.qZA(),s.qZA()}}function X5(n,t){1&n&&s._UZ(0,"tr",24)}const J5=function(n){return{gray:n}};function e4(n,t){1&n&&s._UZ(0,"tr",25),2&n&&s.Q6J("ngClass",s.VKq(1,J5,t.even))}const t4=function(){return[5,10,20]};let n4=(()=>{class n{constructor(e,i){this.fileService=e,this.dialog=i,this.heading="Questions and Answers",this.columnsToDisplay=["number","question","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadQandas()}reloadQandas(){this.loading=!0,this.fileService.loadQandas().pipe(hu(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new gg(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}viewQanda(e){const i=new du;i.autoFocus=!0,i.data=e,this.dialog.open(q5,i).afterClosed().subscribe(()=>{this.onSearchClear()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu),s.Y36(Kf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-qanda"]],viewQuery:function(e,i){if(1&e&&(s.Gf(no,5),s.Gf(Ao,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:22,vars:10,consts:[[3,"heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","number"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","question"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,G5,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,Z5,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,z5,2,0,"th",10),s.YNc(12,$5,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,Y5,2,0,"th",10),s.YNc(15,W5,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,K5,2,0,"th",14),s.YNc(18,Q5,4,0,"td",11),s.BQk(),s.YNc(19,X5,1,0,"tr",15),s.YNc(20,e4,1,3,"tr",16),s.qZA(),s._UZ(21,"mat-paginator",17),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(9,t4))("pageSize",10))},directives:[Ql,Xl,Qt,io,Wd,Eg,Ir,_s,Wo,cl,yg,Mg,Zf,no,zd,Zd,$d,mg,Gd,Yd,zf,Yf,$f,Wf,wi,Ao],styles:[".search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}"]}),n})();function r4(n,t){1&n&&s._UZ(0,"mat-spinner",18),2&n&&s.Q6J("diameter",30)}function s4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSearchClear()}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA(),s.qZA()}}function o4(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Thumbnail"),s.qZA())}function a4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"img",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.qZA(),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("src",e.thumbnail,s.LSH)}}function l4(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Title"),s.qZA())}function c4(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.title)}}function u4(n,t){1&n&&(s.TgZ(0,"th",23),s._uU(1,"Play"),s.qZA())}function d4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21),s.TgZ(1,"button",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().playVideo(o)}),s.TgZ(2,"mat-icon"),s._uU(3,"ondemand_video"),s.qZA(),s.qZA(),s.qZA()}}function h4(n,t){1&n&&s._UZ(0,"tr",25)}const f4=function(n){return{gray:n}};function p4(n,t){1&n&&s._UZ(0,"tr",26),2&n&&s.Q6J("ngClass",s.VKq(1,f4,t.even))}const m4=function(){return[5,10,20]};let g4=(()=>{class n{constructor(e,i){this.fileService=e,this.dialog=i,this.heading="With the Bible - Videos",this.verse="In the beginning was the Word, and the Word was with God, and the Word was God.",this.columnsToDisplay=["thumbnail","title","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadVideos()}reloadVideos(){this.loading=!0,this.fileService.loadVideos().pipe(hu(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new gg(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}playVideo(e){const i=new du;i.autoFocus=!0,i.data=e.videoId,this.dialog.open(ix,i).afterClosed().subscribe(()=>{this.onSearchClear()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu),s.Y36(Kf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-wtbvideo"]],viewQuery:function(e,i){if(1&e&&(s.Gf(no,5),s.Gf(Ao,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:22,vars:11,consts:[[3,"title","heading"],[1,"container"],[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","thumbnail"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["alt","video",3,"src","click"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,r4,1,1,"mat-spinner",3),s.TgZ(5,"div",4),s.TgZ(6,"mat-form-field",5),s.TgZ(7,"input",6),s.NdJ("ngModelChange",function(o){return i.searchKey=o})("keyup",function(){return i.applyFilter()}),s.qZA(),s.YNc(8,s4,3,0,"button",7),s.qZA(),s.qZA(),s.TgZ(9,"table",8),s.ynx(10,9),s.YNc(11,o4,2,0,"th",10),s.YNc(12,a4,2,1,"td",11),s.BQk(),s.ynx(13,12),s.YNc(14,l4,2,0,"th",10),s.YNc(15,c4,2,1,"td",11),s.BQk(),s.ynx(16,13),s.YNc(17,u4,2,0,"th",14),s.YNc(18,d4,4,0,"td",11),s.BQk(),s.YNc(19,h4,1,0,"tr",15),s.YNc(20,p4,1,3,"tr",16),s.qZA(),s._UZ(21,"mat-paginator",17),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("title",i.verse)("heading",i.heading),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngModel",i.searchKey),s.xp6(1),s.Q6J("ngIf",i.searchKey),s.xp6(1),s.Q6J("dataSource",i.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",i.columnsToDisplay),s.xp6(1),s.Q6J("matRowDefColumns",i.columnsToDisplay),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(10,m4))("pageSize",10))},directives:[Ql,Xl,Qt,io,Wd,Eg,Ir,_s,Wo,cl,yg,Mg,Zf,no,zd,Zd,$d,mg,Gd,Yd,zf,Yf,$f,Wf,wi,Ao],styles:["img[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{height:clamp(1.5rem,5vw,3rem)}.mat-column-title[_ngcontent-%COMP%], .mat-column-thumbnail[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{font-size:clamp(.5rem,1vw,2rem)}.search-form-field[_ngcontent-%COMP%]{font-size:clamp(.5rem,1.1vw,2rem)}"]}),n})();function _4(n,t){if(1&n&&(s.TgZ(0,"mat-option",13),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.cat),s.xp6(1),s.hij(" ",e.name," ")}}function y4(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Testament is mandatory!"),s.qZA())}function v4(n,t){if(1&n&&(s.TgZ(0,"mat-option",13),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.book),s.xp6(1),s.hij(" ",e.book," ")}}function b4(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Book is mandatory!"),s.qZA())}function w4(n,t){if(1&n&&(s.TgZ(0,"mat-option",13),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.name),s.xp6(1),s.hij(" ",e.name," ")}}function C4(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Chapter is mandatory!"),s.qZA())}function D4(n,t){if(1&n&&(s.TgZ(0,"div",14),s._UZ(1,"audio",15),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("src",e.playingTrack.path,s.LSH)}}const E4=[{path:"",component:y5},{path:"about",component:_5},{path:"videos",component:X$},{path:"wordftd",component:B$},{path:"wordftdv",component:k5},{path:"songs",component:T$},{path:"wtbaudio",component:(()=>{class n{constructor(e){this.fileService=e,this.heading="With the Bible - Audio (Kannada)",this.verse="In the beginning was the Word, and the Word was with God, and the Word was God.",this.tracks=[],this.bibook="Genesis",this.cat="old",this.testaments=[{cat:"old",name:"Old Testament"},{cat:"new",name:"New Testament"}],this.currentTrack=!1,this.activeTrack=!1,this.testaSubscription=new Qr.w0,this.bookSubscription=new Qr.w0,this.form=new Fh({testament:new Bu("old",{updateOn:"blur",validators:nr.required}),book:new Bu("",{updateOn:"blur",validators:nr.required}),track:new Bu("",{updateOn:"blur",validators:nr.required})})}ngOnInit(){this.books$=this.fileService.loadBooks(this.cat),this.getTracks(),this.onChangeTestament(),this.onChangeBook()}getTracks(){this.fileService.loadTracks(this.bibook).pipe((0,br.q)(1)).subscribe(e=>{this.tracks=e})}onChangeTestament(){this.testaSubscription=this.form.get("testament").valueChanges.subscribe(e=>{this.cat=e,this.books$=this.fileService.loadBooks(this.cat),this.form.controls.track.setValue(null)})}onChangeBook(){this.bookSubscription=this.form.get("book").valueChanges.subscribe(e=>{this.bibook=e,this.getTracks(),this.currentTrack=!1})}onSelectTrack(){this.currentTrack=!0}playTrack(){this.activeTrack=!0;const e=this.form.controls.track.value;this.playingTrack=this.tracks.find(({name:i})=>i===e)}ngOnDestroy(){this.testaSubscription&&this.testaSubscription.unsubscribe(),this.bookSubscription&&this.bookSubscription.unsubscribe()}get testa(){return this.form.controls.testament}get book(){return this.form.controls.book}get track(){return this.form.controls.track}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-wtbaudio"]],decls:31,vars:13,consts:[[3,"title","heading"],[1,"container","text-center","card-width"],[1,"mb-3"],[3,"formGroup"],["appearance","fill",1,"formgroup","mt-3"],["formControlName","testament"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","fill",1,"formgroup"],["formControlName","book"],["formControlName","track",3,"selectionChange"],["type","button",1,"btn","btn-primary","px-5",3,"disabled","click"],["class","container d-flex justify-content-center px-5 mb-5",4,"ngIf"],[3,"value"],[1,"container","d-flex","justify-content-center","px-5","mb-5"],["controls","","autoplay","",3,"src"]],template:function(e,i){1&e&&(s._UZ(0,"app-header"),s._UZ(1,"app-subhead",0),s.TgZ(2,"div",1),s.TgZ(3,"mat-card"),s.TgZ(4,"mat-card-subtitle",2),s._uU(5,"Select Testament, Book & Chapter "),s.qZA(),s.TgZ(6,"mat-card-content"),s.TgZ(7,"form",3),s.TgZ(8,"mat-form-field",4),s.TgZ(9,"mat-label"),s._uU(10,"Testament"),s.qZA(),s.TgZ(11,"mat-select",5),s.YNc(12,_4,2,2,"mat-option",6),s.qZA(),s.YNc(13,y4,2,0,"mat-error",7),s.qZA(),s.TgZ(14,"mat-form-field",8),s.TgZ(15,"mat-label"),s._uU(16,"Book"),s.qZA(),s.TgZ(17,"mat-select",9),s.YNc(18,v4,2,2,"mat-option",6),s.ALo(19,"async"),s.qZA(),s.YNc(20,b4,2,0,"mat-error",7),s.qZA(),s.TgZ(21,"mat-form-field",8),s.TgZ(22,"mat-label"),s._uU(23,"Chapter"),s.qZA(),s.TgZ(24,"mat-select",10),s.NdJ("selectionChange",function(){return i.onSelectTrack()}),s.YNc(25,w4,2,2,"mat-option",6),s.qZA(),s.YNc(26,C4,2,0,"mat-error",7),s.qZA(),s.qZA(),s.qZA(),s.TgZ(27,"mat-card-actions"),s.TgZ(28,"button",11),s.NdJ("click",function(){return i.playTrack()}),s._uU(29," PLAY "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(30,D4,2,1,"div",12)),2&e&&(s.xp6(1),s.Q6J("title",i.verse)("heading",i.heading),s.xp6(6),s.Q6J("formGroup",i.form),s.xp6(5),s.Q6J("ngForOf",i.testaments),s.xp6(1),s.Q6J("ngIf",i.testa.invalid),s.xp6(5),s.Q6J("ngForOf",s.lcZ(19,11,i.books$)),s.xp6(2),s.Q6J("ngIf",i.book.invalid),s.xp6(5),s.Q6J("ngForOf",i.tracks),s.xp6(1),s.Q6J("ngIf",i.track.invalid),s.xp6(2),s.Q6J("disabled",!i.form.valid||!i.currentTrack),s.xp6(2),s.Q6J("ngIf",i.activeTrack))},directives:[Ql,Xl,_2,g2,m2,wp,ku,Xo,Wd,v1,BN,_s,ws,In,Qk,Qt,_q,t5],pipes:[tc],styles:[".formgroup[_ngcontent-%COMP%]{display:block;margin-left:1rem;margin-right:1rem}.card-width[_ngcontent-%COMP%]{width:60vw;margin-top:2rem;margin-bottom:2rem}@media (max-width: 900px){.card-width[_ngcontent-%COMP%]{width:92vw}.formgroup[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem}}"]}),n})()},{path:"qanda",component:n4},{path:"wtbvideo",component:g4},{path:"books",component:j5},{path:"resources",component:g5},{path:"contact",component:n5},{path:"**",redirectTo:"",pathMatch:"full"}];let T4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zL.forRoot(E4,{useHash:!0})],zL]}),n})(),E2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt],Nt]}),n})();const I4={provide:new s.OlP("mat-menu-scroll-strategy"),deps:[uu],useFactory:function S4(n){return()=>n.scrollStrategies.reposition()}};let M2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[I4],imports:[[oi,Nt,pg,Zw],Fv,Nt]}),n})(),x2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oi,Nt,kM,pg,Fw,pk],Nt]}),n})(),S2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),I2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[S2,pg,Nt,Fw],S2,Nt]}),n})(),$4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt],Nt]}),n})(),k2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[mM,pg,Nt,Kk,oi],mM,Nt,Kk,$4]}),n})(),R2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oi,Nt],Nt]}),n})(),y8=(()=>{class n{constructor(){this.changes=new kt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const w8={provide:new s.OlP("mat-datepicker-scroll-strategy"),deps:[uu],useFactory:function b8(n){return()=>n.scrollStrategies.reposition()}};let N2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[y8,w8],imports:[[oi,IM,Zw,pk,kM,Nt],Fv]}),n})(),B2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),U2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[pg,Nt,Fw,B2],Nt,B2]}),n})();const L8=[IM,y2,U2,YN,N2,D2,p2,e2,k2,M2,YF,ZN,R2,KL,w1,I2,iN,yN,x2,E2];let V8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oi,L8],IM,y2,U2,YN,N2,D2,p2,e2,k2,M2,YF,ZN,R2,KL,w1,I2,iN,yN,x2,E2]}),n})(),B8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[Pz]}),n.\u0275inj=s.cJS({providers:[],imports:[[lc,T4,hn.hO.initializeApp(DP_firebase),Fr,kU,Yj,V8,Ol,fr]]}),n})();(0,s.G48)(),Sa().bootstrapModule(B8).catch(n=>console.error(n))},5867:(Xe,ye,P)=>{P.d(ye,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=P(9681);(0,s.registerVersion)("firebase","9.9.0","app")},127:(Xe,ye,P)=>{P.d(ye,{Z:()=>s.Z});var s=P(3942);s.Z.registerVersion("firebase","9.9.0","app-compat")},1121:(Xe,ye,P)=>{P.r(ye);var s=P(5861),J=P(3942),F=P(2090),le=P(9681);function ue(y,p){var m={};for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&p.indexOf(b)<0&&(m[b]=y[b]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(b=Object.getOwnPropertySymbols(y);M<b.length;M++)p.indexOf(b[M])<0&&Object.prototype.propertyIsEnumerable.call(y,b[M])&&(m[b[M]]=y[b[M]])}return m}var oe=P(1877),vt=P(4859);const yn=function ln(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Cr=function Ii(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dr=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),so=new oe.Yd("@firebase/auth");function Xi(y,...p){so.logLevel<=oe.in.ERROR&&so.error(`Auth (${le.SDK_VERSION}): ${y}`,...p)}function en(y,...p){throw Hi(y,...p)}function qn(y,...p){return Hi(y,...p)}function Rs(y,p,m){const b=Object.assign(Object.assign({},Cr()),{[p]:m});return new F.LL("auth","Firebase",b).create(p,{appName:y.name})}function Er(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&en(y,"argument-error"),Rs(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hi(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return Dr.create(y,...p)}function Pe(y,p,...m){if(!y)throw Hi(p,...m)}function ut(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Xi(p),new Error(p)}function Gn(y,p){y||ut(p)}const Zn=new Map;function cn(y){Gn(y instanceof Function,"Expected a class definition");let p=Zn.get(y);return p?(Gn(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Zn.set(y,p),p)}function Kn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Fn(){return"http:"===Tr()||"https:"===Tr()}function Tr(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ct{constructor(p,m){this.shortDelay=p,this.longDelay=m,Gn(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Jl(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Fn()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bt(y,p){Gn(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class oo{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const is={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zt=new ct(3e4,6e4);function vn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Kt(y,p,m,b){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,s.Z)(function*(y,p,m,b,M={}){return mt(y,M,(0,s.Z)(function*(){let A={},B={};b&&("GET"===p?B=b:A={body:JSON.stringify(b)});const ee=(0,F.xO)(Object.assign({key:y.config.apiKey},B)).slice(1),Me=yield y._getAdditionalHeaders();return Me["Content-Type"]="application/json",y.languageCode&&(Me["X-Firebase-Locale"]=y.languageCode),oo.fetch()(U(y,y.config.apiHost,m,ee),Object.assign({method:p,headers:Me,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function mt(y,p,m){return rs.apply(this,arguments)}function rs(){return(rs=(0,s.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},is),p);try{const M=new q(y),A=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const B=yield A.json();if("needConfirmation"in B)throw Y(y,"account-exists-with-different-credential",B);if(A.ok&&!("errorMessage"in B))return B;{const ee=A.ok?B.errorMessage:B.error.message,[Me,xe]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Me)throw Y(y,"credential-already-in-use",B);if("EMAIL_EXISTS"===Me)throw Y(y,"email-already-in-use",B);if("USER_DISABLED"===Me)throw Y(y,"user-disabled",B);const tt=b[Me]||Me.toLowerCase().replace(/[_\s]+/g,"-");if(xe)throw Rs(y,tt,xe);en(y,tt)}}catch(M){if(M instanceof F.ZR)throw M;en(y,"network-request-failed")}})).apply(this,arguments)}function j(y,p,m,b){return $.apply(this,arguments)}function $(){return($=(0,s.Z)(function*(y,p,m,b,M={}){const A=yield Kt(y,p,m,b,M);return"mfaPendingCredential"in A&&en(y,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function U(y,p,m,b){const M=`${p}${m}?${b}`;return y.config.emulator?bt(y.config,M):`${y.config.apiScheme}://${M}`}class q{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(qn(this.auth,"network-request-failed")),Zt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Y(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const M=qn(y,p,b);return M.customData._tokenResponse=m,M}function ze(){return(ze=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function wt(y,p){return nn.apply(this,arguments)}function nn(){return(nn=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function fn(y,p){return lr.apply(this,arguments)}function lr(){return(lr=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ut(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function ga(){return(ga=(0,s.Z)(function*(y,p=!1){const m=(0,F.m9)(y),b=yield m.getIdToken(p),M=Qn(b);Pe(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const A="object"==typeof M.firebase?M.firebase:void 0,B=null==A?void 0:A.sign_in_provider;return{claims:M,token:b,authTime:Ut(_a(M.auth_time)),issuedAtTime:Ut(_a(M.iat)),expirationTime:Ut(_a(M.exp)),signInProvider:B||null,signInSecondFactor:(null==A?void 0:A.sign_in_second_factor)||null}})).apply(this,arguments)}function _a(y){return 1e3*Number(y)}function Qn(y){var p;const[m,b,M]=y.split(".");if(void 0===m||void 0===b||void 0===M)return Xi("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,F.tV)(b);return A?JSON.parse(A):(Xi("Failed to decode base64 JWT payload"),null)}catch(A){return Xi("Caught error parsing JWT payload as JSON",null===(p=A)||void 0===p?void 0:p.toString()),null}}function Ai(y,p){return si.apply(this,arguments)}function si(){return(si=(0,s.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof F.ZR&&ao(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function ao({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class eh{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,s.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class lo{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ut(this.lastLoginAt),this.creationTime=Ut(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ps(y){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,s.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),M=yield Ai(y,fn(m,{idToken:b}));Pe(null==M?void 0:M.users.length,m,"internal-error");const A=M.users[0];y._notifyReloadListener(A);const B=(null===(p=A.providerUserInfo)||void 0===p?void 0:p.length)?Ye(A.providerUserInfo):[],ee=cr(y.providerData,B),tt=!!y.isAnonymous&&!(y.email&&A.passwordHash||(null==ee?void 0:ee.length)),lt={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:ee,metadata:new lo(A.createdAt,A.lastLoginAt),isAnonymous:tt};Object.assign(y,lt)})).apply(this,arguments)}function Ro(){return(Ro=(0,s.Z)(function*(y){const p=(0,F.m9)(y);yield Ps(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function cr(y,p){return[...y.filter(b=>!p.some(M=>M.providerId===b.providerId)),...p]}function Ye(y){return y.map(p=>{var{providerId:m}=p,b=ue(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function un(){return(un=(0,s.Z)(function*(y,p){const m=yield mt(y,{},(0,s.Z)(function*(){const b=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:A}=y.config,B=U(y,M,"/v1/token",`key=${A}`),ee=yield y._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",oo.fetch()(B,{method:"POST",headers:ee,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Pe(p.idToken,"internal-error"),Pe(void 0!==p.idToken,"internal-error"),Pe(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function os(y){const p=Qn(y);return Pe(p,"internal-error"),Pe(void 0!==p.exp,"internal-error"),Pe(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,s.Z)(function*(){return Pe(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,s.Z)(function*(){const{accessToken:M,refreshToken:A,expiresIn:B}=yield function Lt(y,p){return un.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(M,A,Number(B))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:M,expirationTime:A}=m,B=new bi;return b&&(Pe("string"==typeof b,"internal-error",{appName:p}),B.refreshToken=b),M&&(Pe("string"==typeof M,"internal-error",{appName:p}),B.accessToken=M),A&&(Pe("number"==typeof A,"internal-error",{appName:p}),B.expirationTime=A),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new bi,this.toJSON())}_performRefresh(){return ut("not implemented")}}function Ri(y,p){Pe("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Dn{constructor(p){var{uid:m,auth:b,stsTokenManager:M}=p,A=ue(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new lo(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,s.Z)(function*(){const b=yield Ai(m,m.stsTokenManager.getToken(m.auth,p));return Pe(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function Os(y){return ga.apply(this,arguments)}(this,p)}reload(){return function ki(y){return Ro.apply(this,arguments)}(this)}_assign(p){this!==p&&(Pe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Dn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,s.Z)(function*(){let M=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield Ps(b)),yield b.auth._persistUserIfCurrent(b),M&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,s.Z)(function*(){const m=yield p.getIdToken();return yield Ai(p,function Ae(y,p){return ze.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,M,A,B,ee,Me,xe,tt;const lt=null!==(b=m.displayName)&&void 0!==b?b:void 0,qt=null!==(M=m.email)&&void 0!==M?M:void 0,Ti=null!==(A=m.phoneNumber)&&void 0!==A?A:void 0,Yn=null!==(B=m.photoURL)&&void 0!==B?B:void 0,na=null!==(ee=m.tenantId)&&void 0!==ee?ee:void 0,zh=null!==(Me=m._redirectEventId)&&void 0!==Me?Me:void 0,ia=null!==(xe=m.createdAt)&&void 0!==xe?xe:void 0,ed=null!==(tt=m.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:$h,emailVerified:td,isAnonymous:Lp,providerData:Ll,stsTokenManager:Vl}=m;Pe($h&&Vl,p,"internal-error");const u_=bi.fromJSON(this.name,Vl);Pe("string"==typeof $h,p,"internal-error"),Ri(lt,p.name),Ri(qt,p.name),Pe("boolean"==typeof td,p,"internal-error"),Pe("boolean"==typeof Lp,p,"internal-error"),Ri(Ti,p.name),Ri(Yn,p.name),Ri(na,p.name),Ri(zh,p.name),Ri(ia,p.name),Ri(ed,p.name);const Yh=new Dn({uid:$h,auth:p,email:qt,emailVerified:td,displayName:lt,isAnonymous:Lp,photoURL:Yn,phoneNumber:Ti,tenantId:na,stsTokenManager:u_,createdAt:ia,lastLoginAt:ed});return Ll&&Array.isArray(Ll)&&(Yh.providerData=Ll.map(mb=>Object.assign({},mb))),zh&&(Yh._redirectEventId=zh),Yh}static _fromIdTokenResponse(p,m,b=!1){return(0,s.Z)(function*(){const M=new bi;M.updateFromServerResponse(m);const A=new Dn({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:b});return yield Ps(A),A})()}}const rn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(m,b){var M=this;return(0,s.Z)(function*(){M.storage[m]=b})()}_get(m){var b=this;return(0,s.Z)(function*(){const M=b.storage[m];return void 0===M?null:M})()}_remove(m){var b=this;return(0,s.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function xr(y,p,m){return`firebase:${y}:${p}:${m}`}class Tn{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:M,name:A}=this.auth;this.fullUserKey=xr(this.userKey,M.apiKey,A),this.fullPersistenceKey=xr("persistence",M.apiKey,A),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Dn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,s.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,s.Z)(function*(){if(!m.length)return new Tn(cn(rn),p,b);const M=(yield Promise.all(m.map(function(){var xe=(0,s.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return xe.apply(this,arguments)}}()))).filter(xe=>xe);let A=M[0]||cn(rn);const B=xr(b,p.config.apiKey,p.name);let ee=null;for(const xe of m)try{const tt=yield xe._get(B);if(tt){const lt=Dn._fromJSON(p,tt);xe!==A&&(ee=lt),A=xe;break}}catch(tt){}const Me=M.filter(xe=>xe._shouldAllowMigration);return A._shouldAllowMigration&&Me.length?(A=Me[0],ee&&(yield A._set(B,ee.toJSON())),yield Promise.all(m.map(function(){var xe=(0,s.Z)(function*(tt){if(tt!==A)try{yield tt._remove(B)}catch(lt){}});return function(tt){return xe.apply(this,arguments)}}())),new Tn(A,p,b)):new Tn(A,p,b)})()}}function Pt(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Oo(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(dl(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ya(p))return"Blackberry";if(va(p))return"Webos";if(wi(p))return"Safari";if((p.includes("chrome/")||hl(p))&&!p.includes("edge/"))return"Chrome";if(In(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function dl(y=(0,F.z$)()){return/firefox\//i.test(y)}function wi(y=(0,F.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function hl(y=(0,F.z$)()){return/crios\//i.test(y)}function Oo(y=(0,F.z$)()){return/iemobile/i.test(y)}function In(y=(0,F.z$)()){return/android/i.test(y)}function ya(y=(0,F.z$)()){return/blackberry/i.test(y)}function va(y=(0,F.z$)()){return/webos/i.test(y)}function Qt(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ji(y=(0,F.z$)()){return Qt(y)||In(y)||va(y)||ya(y)||/windows phone/i.test(y)||Oo(y)}function ec(y,p=[]){let m;switch(y){case"Browser":m=Pt((0,F.z$)());break;case"Worker":m=`${Pt((0,F.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${le.SDK_VERSION}/${b}`}class nh{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=A=>new Promise((B,ee)=>{try{B(p(A))}catch(Me){ee(Me)}});b.onAbort=m,this.queue.push(b);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,s.Z)(function*(){var b;if(m.auth.currentUser===p)return;const M=[];try{for(const A of m.queue)yield A(p),A.onAbort&&M.push(A.onAbort)}catch(A){M.reverse();for(const B of M)try{B()}catch(ee){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=A)||void 0===b?void 0:b.message})}})()}}class uo{constructor(p,m,b){this.app=p,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ih(this),this.idTokenSubscription=new ih(this),this.beforeStateQueue=new nh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=cn(m)),this._initializationPromise=this.queue((0,s.Z)(function*(){var M,A;if(!b._deleted&&(b.persistenceManager=yield Tn.create(b,p),!b._deleted)){if(null===(M=b._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(B){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(A=b.currentUser)||void 0===A?void 0:A.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,s.Z)(function*(){var b;const M=yield m.assertedPersistence.getCurrentUser();let A=M,B=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ee=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Me=null==A?void 0:A._redirectEventId,xe=yield m.tryRedirectSignIn(p);(!ee||ee===Me)&&(null==xe?void 0:xe.user)&&(A=xe.user,B=!0)}if(!A)return m.directlySetCurrentUser(null);if(!A._redirectEventId){if(B)try{yield m.beforeStateQueue.runMiddleware(A)}catch(ee){A=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ee))}return A?m.reloadAndSetCurrentUserOrClear(A):m.directlySetCurrentUser(null)}return Pe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===A._redirectEventId?m.directlySetCurrentUser(A):m.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(p){var m=this;return(0,s.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(M){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,s.Z)(function*(){var b;try{yield Ps(p)}catch(M){if("auth/network-request-failed"!==(null===(b=M)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function tn(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,s.Z)(function*(){const b=p?(0,F.m9)(p):null;return b&&Pe(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,s.Z)(function*(){if(!b._deleted)return p&&Pe(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,s.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,s.Z)(function*(){yield m.assertedPersistence.setPersistence(cn(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,s.Z)(function*(){const M=yield b.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,s.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&cn(p)||m._popupRedirectResolver;Pe(b,m,"argument-error"),m.redirectPersistenceManager=yield Tn.create(m,[cn(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,s.Z)(function*(){var b,M;return m._isInitialized&&(yield m.queue((0,s.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,s.Z)(function*(){if(p===m.currentUser)return m.queue((0,s.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,M){if(this._deleted)return()=>{};const A="function"==typeof m?m:m.next.bind(m),B=this._isInitialized?Promise.resolve():this._initializationPromise;return Pe(B,this,"internal-error"),B.then(()=>A(this.currentUser)),"function"==typeof m?p.addObserver(m,b,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,s.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ec(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return M&&(b["X-Firebase-Client"]=M),b})()}}function pn(y){return(0,F.m9)(y)}class ih{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(m=>this.observer=m)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function np(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function ip(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class pl{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ut("not implemented")}_getIdTokenResponse(p){return ut("not implemented")}_linkToIdToken(p,m){return ut("not implemented")}_getReauthenticationResolver(p){return ut("not implemented")}}function rp(y,p){return tc.apply(this,arguments)}function tc(){return(tc=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:resetPassword",vn(y,p))})).apply(this,arguments)}function sp(y,p){return ml.apply(this,arguments)}function ml(){return(ml=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ba(y,p){return rh.apply(this,arguments)}function rh(){return(rh=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:update",vn(y,p))})).apply(this,arguments)}function sh(){return(sh=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPassword",vn(y,p))})).apply(this,arguments)}function _u(y,p){return oh.apply(this,arguments)}function oh(){return(oh=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:sendOobCode",vn(y,p))})).apply(this,arguments)}function Pg(y,p){return yu.apply(this,arguments)}function yu(){return(yu=(0,s.Z)(function*(y,p){return _u(y,p)})).apply(this,arguments)}function gl(y,p){return ah.apply(this,arguments)}function ah(){return(ah=(0,s.Z)(function*(y,p){return _u(y,p)})).apply(this,arguments)}function vu(y,p){return lh.apply(this,arguments)}function lh(){return(lh=(0,s.Z)(function*(y,p){return _u(y,p)})).apply(this,arguments)}function Po(y,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,s.Z)(function*(y,p){return _u(y,p)})).apply(this,arguments)}function Fo(){return(Fo=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithEmailLink",vn(y,p))})).apply(this,arguments)}function ch(){return(ch=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithEmailLink",vn(y,p))})).apply(this,arguments)}class oi extends pl{constructor(p,m,b,M=null){super("password",b),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new oi(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new oi(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,s.Z)(function*(){switch(m.signInMethod){case"password":return function Og(y,p){return sh.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function _l(y,p){return Fo.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:en(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,s.Z)(function*(){switch(b.signInMethod){case"password":return sp(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function op(y,p){return ch.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:en(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function as(y,p){return ho.apply(this,arguments)}function ho(){return(ho=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithIdp",vn(y,p))})).apply(this,arguments)}class ls extends pl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new ls(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):en("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M}=m,A=ue(m,["providerId","signInMethod"]);if(!b||!M)return null;const B=new ls(b,M);return B.idToken=A.idToken||void 0,B.accessToken=A.accessToken||void 0,B.secret=A.secret,B.nonce=A.nonce,B.pendingToken=A.pendingToken||null,B}_getIdTokenResponse(p){return as(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,as(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,as(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,F.xO)(m)}return p}}function Ji(y,p){return yl.apply(this,arguments)}function yl(){return(yl=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:sendVerificationCode",vn(y,p))})).apply(this,arguments)}function ic(){return(ic=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPhoneNumber",vn(y,p))})).apply(this,arguments)}function vl(){return(vl=(0,s.Z)(function*(y,p){const m=yield j(y,"POST","/v1/accounts:signInWithPhoneNumber",vn(y,p));if(m.temporaryProof)throw Y(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Fg={USER_NOT_FOUND:"user-not-found"};function cs(){return(cs=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPhoneNumber",vn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Fg)})).apply(this,arguments)}class fo extends pl{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new fo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new fo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function uh(y,p){return ic.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function dh(y,p){return vl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function An(y,p){return cs.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:M,temporaryProof:A}=p;return b||m||M||A?new fo({verificationId:m,verificationCode:b,phoneNumber:M,temporaryProof:A}):null}}class po{constructor(p){var m,b,M,A,B,ee;const Me=(0,F.zd)((0,F.pd)(p)),xe=null!==(m=Me.apiKey)&&void 0!==m?m:null,tt=null!==(b=Me.oobCode)&&void 0!==b?b:null,lt=function Nn(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Me.mode)&&void 0!==M?M:null);Pe(xe&&tt&&lt,"argument-error"),this.apiKey=xe,this.operation=lt,this.code=tt,this.continueUrl=null!==(A=Me.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(B=Me.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(ee=Me.tenantId)&&void 0!==ee?ee:null}static parseLink(p){const m=function hh(y){const p=(0,F.zd)((0,F.pd)(y)).link,m=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,b=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(b?(0,F.zd)((0,F.pd)(b)).link:null)||b||m||p||y}(p);try{return new po(m)}catch(b){return null}}}let Oi=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return oi._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const M=po.parseLink(b);return Pe(M,"argument-error"),oi._fromEmailAndCode(m,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Sr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class us extends Sr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class er extends us{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Pe("providerId"in m&&"signInMethod"in m,"argument-error"),ls._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Pe(p.idToken||p.accessToken,"argument-error"),ls._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return er.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return er.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:M,pendingToken:A,nonce:B,providerId:ee}=p;if(!b&&!M&&!m&&!A||!ee)return null;try{return new er(ee)._credential({idToken:m,accessToken:b,nonce:B,pendingToken:A})}catch(Me){return null}}}let tr=(()=>{class y extends us{constructor(){super("facebook.com")}static credential(m){return ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ai=(()=>{class y extends us{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:M}=m;if(!b&&!M)return null;try{return y.credential(b,M)}catch(A){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),wa=(()=>{class y extends us{constructor(){super("github.com")}static credential(m){return ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Pi extends pl{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return as(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,as(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,as(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M,pendingToken:A}=m;return b&&M&&A&&b===M?new Pi(b,A):null}static _create(p,m){return new Pi(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mo extends Sr{constructor(p){Pe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return mo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return mo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Pi.fromJSON(p);return Pe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return Pi._create(b,m)}catch(M){return null}}}let yt=(()=>{class y extends us{constructor(){super("twitter.com")}static credential(m,b){return ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:M}=m;if(!b||!M)return null;try{return y.credential(b,M)}catch(A){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Lo(y,p){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signUp",vn(y,p))})).apply(this,arguments)}class Fi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,M=!1){return(0,s.Z)(function*(){const A=yield Dn._fromIdTokenResponse(p,b,M),B=bl(b);return new Fi({user:A,providerId:B,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const M=bl(b);return new Fi({user:p,providerId:M,_tokenResponse:b,operationType:m})})()}}function bl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function rc(){return(rc=(0,s.Z)(function*(y){var p;const m=pn(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Fi({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Lo(m,{returnSecureToken:!0}),M=yield Fi._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class Da extends F.ZR{constructor(p,m,b,M){var A;super(m.code,m.message),this.operationType=b,this.user=M,Object.setPrototypeOf(this,Da.prototype),this.customData={appName:p.name,tenantId:null!==(A=p.tenantId)&&void 0!==A?A:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,M){return new Da(p,m,b,M)}}function Te(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?Da._fromErrorAndOperation(y,A,p,b):A})}function Ht(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function wn(){return(wn=(0,s.Z)(function*(y,p){const m=(0,F.m9)(y);yield Ni(!0,m,p);const{providerUserInfo:b}=yield wt(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=Ht(b||[]);return m.providerData=m.providerData.filter(A=>M.has(A.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ea(y,p){return go.apply(this,arguments)}function go(){return(go=(0,s.Z)(function*(y,p,m=!1){const b=yield Ai(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Fi._forOperation(y,"link",b)})).apply(this,arguments)}function Ni(y,p,m){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,s.Z)(function*(y,p,m){yield Ps(p);const M=!1===y?"provider-already-linked":"no-such-provider";Pe(Ht(p.providerData).has(m)===y,p.auth,M)})).apply(this,arguments)}function sc(y,p){return oc.apply(this,arguments)}function oc(){return(oc=(0,s.Z)(function*(y,p,m=!1){var b;const{auth:M}=y,A="reauthenticate";try{const B=yield Ai(y,Te(M,A,p,y),m);Pe(B.idToken,M,"internal-error");const ee=Qn(B.idToken);Pe(ee,M,"internal-error");const{sub:Me}=ee;return Pe(y.uid===Me,M,"user-mismatch"),Fi._forOperation(y,A,B)}catch(B){throw"auth/user-not-found"===(null===(b=B)||void 0===b?void 0:b.code)&&en(M,"user-mismatch"),B}})).apply(this,arguments)}function ph(y,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,s.Z)(function*(y,p,m=!1){const b="signIn",M=yield Te(y,b,p),A=yield Fi._fromIdTokenResponse(y,b,M);return m||(yield y._updateCurrentUser(A.user)),A})).apply(this,arguments)}function Vo(y,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,s.Z)(function*(y,p){return ph(pn(y),p)})).apply(this,arguments)}function Hr(y,p){return ac.apply(this,arguments)}function ac(){return(ac=(0,s.Z)(function*(y,p){const m=(0,F.m9)(y);return yield Ni(!1,m,p.providerId),Ea(m,p)})).apply(this,arguments)}function ds(y,p){return jr.apply(this,arguments)}function jr(){return(jr=(0,s.Z)(function*(y,p){return sc((0,F.m9)(y),p)})).apply(this,arguments)}function mh(y,p){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,s.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithCustomToken",vn(y,p))})).apply(this,arguments)}function wl(){return(wl=(0,s.Z)(function*(y,p){const m=pn(y),b=yield mh(m,{token:p,returnSecureToken:!0}),M=yield Fi._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class xa{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Bo._fromServerResponse(p,m):en(p,"internal-error")}}class Bo extends xa{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Bo(m)}}function Sa(y,p,m){var b;Pe((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),Pe(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Pe(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Pe(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function lc(){return(lc=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y),M={requestType:"PASSWORD_RESET",email:p};m&&Sa(b,M,m),yield gl(b,M)})).apply(this,arguments)}function Ia(){return(Ia=(0,s.Z)(function*(y,p,m){yield rp((0,F.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Dl(){return(Dl=(0,s.Z)(function*(y,p){yield ba((0,F.m9)(y),{oobCode:p})})).apply(this,arguments)}function cc(y,p){return El.apply(this,arguments)}function El(){return(El=(0,s.Z)(function*(y,p){const m=(0,F.m9)(y),b=yield rp(m,{oobCode:p}),M=b.requestType;switch(Pe(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Pe(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Pe(b.mfaInfo,m,"internal-error");default:Pe(b.email,m,"internal-error")}let A=null;return b.mfaInfo&&(A=xa._fromServerResponse(pn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:A},operation:M}})).apply(this,arguments)}function gh(){return(gh=(0,s.Z)(function*(y,p){const{data:m}=yield cc((0,F.m9)(y),p);return m.email})).apply(this,arguments)}function li(){return(li=(0,s.Z)(function*(y,p,m){const b=pn(y),M=yield Lo(b,{returnSecureToken:!0,email:p,password:m}),A=yield Fi._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(A.user),A})).apply(this,arguments)}function Aa(){return(Aa=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y),M={requestType:"EMAIL_SIGNIN",email:p};Pe(m.handleCodeInApp,b,"argument-error"),m&&Sa(b,M,m),yield vu(b,M)})).apply(this,arguments)}function cp(){return(cp=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y),M=Oi.credentialWithLink(p,m||Kn());return Pe(M._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Vo(b,M)})).apply(this,arguments)}function yh(y,p){return up.apply(this,arguments)}function up(){return(up=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:createAuthUri",vn(y,p))})).apply(this,arguments)}function _o(){return(_o=(0,s.Z)(function*(y,p){const b={identifier:p,continueUri:Fn()?Kn():"http://localhost"},{signinMethods:M}=yield yh((0,F.m9)(y),b);return M||[]})).apply(this,arguments)}function hc(){return(hc=(0,s.Z)(function*(y,p){const m=(0,F.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Sa(m.auth,M,p);const{email:A}=yield Pg(m.auth,M);A!==y.email&&(yield y.reload())})).apply(this,arguments)}function vh(){return(vh=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Sa(b.auth,A,m);const{email:B}=yield Po(b.auth,A);B!==y.email&&(yield y.reload())})).apply(this,arguments)}function Vs(y,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bh(){return(bh=(0,s.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,F.m9)(y),A={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},B=yield Ai(b,Vs(b.auth,A));b.displayName=B.displayName||null,b.photoURL=B.photoUrl||null;const ee=b.providerData.find(({providerId:Me})=>"password"===Me);ee&&(ee.displayName=b.displayName,ee.photoURL=b.photoURL),yield b._updateTokensIfNecessary(B)})).apply(this,arguments)}function Tu(y,p,m){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,s.Z)(function*(y,p,m){const{auth:b}=y,A={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(A.email=p),m&&(A.password=m);const B=yield Ai(y,sp(b,A));yield y._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class ka{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class pc extends ka{constructor(p,m,b,M){super(p,m,b),this.username=M}}class dn extends ka{constructor(p,m){super(p,"facebook.com",m)}}class kn extends pc{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Li extends ka{constructor(p,m){super(p,"google.com",m)}}class Dh extends pc{constructor(p,m,b){super(p,"twitter.com",m,b)}}function Eh(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ch(y){var p,m;if(!y)return null;const{providerId:b}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},A=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const B=null===(m=null===(p=Qn(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(B)return new ka(A,"anonymous"!==B&&"custom"!==B?B:null)}if(!b)return null;switch(b){case"facebook.com":return new dn(A,M);case"github.com":return new kn(A,M);case"google.com":return new Li(A,M);case"twitter.com":return new Dh(A,M,y.screenName||null);case"custom":case"anonymous":return new ka(A,null);default:return new ka(A,b,M)}}(m)}class Bs{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Bs("enroll",p)}static _fromMfaPendingCredential(p){return new Bs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Bs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Bs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class vo{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=pn(p),M=m.customData._serverResponse,A=(M.mfaInfo||[]).map(ee=>xa._fromServerResponse(b,ee));Pe(M.mfaPendingCredential,b,"internal-error");const B=Bs._fromMfaPendingCredential(M.mfaPendingCredential);return new vo(B,A,function(){var ee=(0,s.Z)(function*(Me){const xe=yield Me._process(b,B);delete M.mfaInfo,delete M.mfaPendingCredential;const tt=Object.assign(Object.assign({},M),{idToken:xe.idToken,refreshToken:xe.refreshToken});switch(m.operationType){case"signIn":const lt=yield Fi._fromIdTokenResponse(b,m.operationType,tt);return yield b._updateCurrentUser(lt.user),lt;case"reauthenticate":return Pe(m.user,b,"internal-error"),Fi._forOperation(m.user,m.operationType,tt);default:en(b,"internal-error")}});return function(Me){return ee.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,s.Z)(function*(){return m.signInResolver(p)})()}}function Ra(y,p){return Kt(y,"POST","/v2/accounts/mfaEnrollment:start",vn(y,p))}class Mu{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>xa._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Mu(p)}getSession(){var p=this;return(0,s.Z)(function*(){return Bs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var b=this;return(0,s.Z)(function*(){const M=p,A=yield b.getSession(),B=yield Ai(b.user,M._process(b.user.auth,A,m));return yield b.user._updateTokensIfNecessary(B),b.user.reload()})()}unenroll(p){var m=this;return(0,s.Z)(function*(){var b;const M="string"==typeof p?p:p.uid,A=yield m.user.getIdToken(),B=yield Ai(m.user,function ci(y,p){return Kt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",vn(y,p))}(m.user.auth,{idToken:A,mfaEnrollmentId:M}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ee})=>ee!==M),yield m.user._updateTokensIfNecessary(B);try{yield m.user.reload()}catch(ee){if("auth/user-token-expired"!==(null===(b=ee)||void 0===b?void 0:b.code))throw ee}})()}}const Ho=new WeakMap,jo="__sak";class xu{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(jo,"1"),this.storage.removeItem(jo),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ar=(()=>{class y extends xu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ir(){const y=(0,F.z$)();return wi(y)||Qt(y)}()&&function ur(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=ji(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const M=this.storage.getItem(b),A=this.localCache[b];M!==A&&m(b,A,M)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((ee,Me,xe)=>{this.notifyListeners(ee,xe)});const M=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(M);if(m.newValue!==ee)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!b)return}const A=()=>{const ee=this.storage.getItem(M);!b&&this.localCache[M]===ee||this.notifyListeners(M,ee)},B=this.storage.getItem(M);!function fl(){return(0,F.w1)()&&10===document.documentMode}()||B===m.newValue||m.newValue===m.oldValue?A():setTimeout(A,10)}notifyListeners(m,b){this.localCache[m]=b;const M=this.listeners[m];if(M)for(const A of Array.from(M))A(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var M=()=>super._set,A=this;return(0,s.Z)(function*(){yield M().call(A,m,b),A.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,M=this;return(0,s.Z)(function*(){const A=yield b().call(M,m);return M.localCache[m]=JSON.stringify(A),A})()}_remove(m){var b=()=>super._remove,M=this;return(0,s.Z)(function*(){yield b().call(M,m),delete M.localCache[m]})()}}return y.type="LOCAL",y})(),nr=(()=>{class y extends xu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Su=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(A=>A.isListeningto(m));if(b)return b;const M=new y(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,s.Z)(function*(){const M=m,{eventId:A,eventType:B,data:ee}=M.data,Me=b.handlersMap[B];if(!(null==Me?void 0:Me.size))return;M.ports[0].postMessage({status:"ack",eventId:A,eventType:B});const xe=Array.from(Me).map(function(){var lt=(0,s.Z)(function*(qt){return qt(M.origin,ee)});return function(qt){return lt.apply(this,arguments)}}()),tt=yield function Us(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(xe);M.ports[0].postMessage({status:"done",eventId:A,eventType:B,response:tt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ps(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class gc{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var M=this;return(0,s.Z)(function*(){const A="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let B,ee;return new Promise((Me,xe)=>{const tt=ps("",20);A.port1.start();const lt=setTimeout(()=>{xe(new Error("unsupported_event"))},b);ee={messageChannel:A,onMessage(qt){const Ti=qt;if(Ti.data.eventId===tt)switch(Ti.data.status){case"ack":clearTimeout(lt),B=setTimeout(()=>{xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Me(Ti.data.response);break;default:clearTimeout(lt),clearTimeout(B),xe(new Error("invalid_response"))}}},M.handlers.add(ee),A.port1.addEventListener("message",ee.onMessage),M.target.postMessage({eventType:p,eventId:tt,data:m},[A.port2])}).finally(()=>{ee&&M.removeMessageHandler(ee)})})()}}function zt(){return window}function ms(){return void 0!==zt().WorkerGlobalScope&&"function"==typeof zt().importScripts}function gs(){return(gs=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Sl="firebaseLocalStorageDb",_c="firebaseLocalStorage",Ih="fbase_key";class yc{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Il(y,p){return y.transaction([_c],p?"readwrite":"readonly").objectStore(_c)}function Pa(){const y=indexedDB.open(Sl,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(_c,{keyPath:Ih})}catch(M){m(M)}}),y.addEventListener("success",(0,s.Z)(function*(){const b=y.result;b.objectStoreNames.contains(_c)?p(b):(b.close(),yield function fp(){const y=indexedDB.deleteDatabase(Sl);return new yc(y).toPromise()}(),p(yield Pa()))}))})}function pp(y,p,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,s.Z)(function*(y,p,m){const b=Il(y,!0).put({[Ih]:p,value:m});return new yc(b).toPromise()})).apply(this,arguments)}function Un(){return(Un=(0,s.Z)(function*(y,p){const m=Il(y,!1).get(p),b=yield new yc(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Fa(y,p){const m=Il(y,!0).delete(p);return new yc(m).toPromise()}const mn=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,s.Z)(function*(){return m.db||(m.db=yield Pa()),m.db})()}_withRetries(m){var b=this;return(0,s.Z)(function*(){let M=0;for(;;)try{const A=yield b._openDb();return yield m(A)}catch(A){if(M++>3)throw A;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,s.Z)(function*(){return ms()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,s.Z)(function*(){m.receiver=Su._getInstance(function Hs(){return ms()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,s.Z)(function*(M,A){return{keyProcessed:(yield m._poll()).includes(A.key)}});return function(M,A){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,s.Z)(function*(M,A){return["keyChanged"]});return function(M,A){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,s.Z)(function*(){var b,M;if(m.activeServiceWorker=yield function Oa(){return gs.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new gc(m.activeServiceWorker);const A=yield m.sender._send("ping",{},800);!A||(null===(b=A[0])||void 0===b?void 0:b.fulfilled)&&(null===(M=A[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,s.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Co(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Pa();return yield pp(m,jo,"1"),yield Fa(m,jo),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,s.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var M=this;return(0,s.Z)(function*(){return M._withPendingWrite((0,s.Z)(function*(){return yield M._withRetries(A=>pp(A,m,b)),M.localCache[m]=b,M.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,s.Z)(function*(){const M=yield b._withRetries(A=>function Lg(y,p){return Un.apply(this,arguments)}(A,m));return b.localCache[m]=M,M})()}_remove(m){var b=this;return(0,s.Z)(function*(){return b._withPendingWrite((0,s.Z)(function*(){return yield b._withRetries(M=>Fa(M,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,s.Z)(function*(){const b=yield m._withRetries(B=>{const ee=Il(B,!1).getAll();return new yc(ee).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const M=[],A=new Set;for(const{fbase_key:B,value:ee}of b)A.add(B),JSON.stringify(m.localCache[B])!==JSON.stringify(ee)&&(m.notifyListeners(B,ee),M.push(B));for(const B of Object.keys(m.localCache))m.localCache[B]&&!A.has(B)&&(m.notifyListeners(B,null),M.push(B));return M})()}notifyListeners(m,b){this.localCache[m]=b;const M=this.listeners[m];if(M)for(const A of Array.from(M))A(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function xn(y,p){return Kt(y,"POST","/v2/accounts/mfaSignIn:start",vn(y,p))}function La(){return(La=(0,s.Z)(function*(y){return(yield Kt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ku(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=M=>{const A=qn("internal-error");A.customData=M,m(A)},b.type="text/javascript",b.charset="UTF-8",function _s(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function Ru(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Do=1e12;class dr{constructor(p){this.auth=p,this.counter=Do,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new kh(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||Do;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Do))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,s.Z)(function*(){var b;return null===(b=m._widgets.get(p||Do))||void 0===b||b.execute(),""})()}}class kh{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;Pe(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zo(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Pu=Ru("rcb"),Fu=new ct(3e4,6e4);class Oh{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=zt().grecaptcha)||void 0===p?void 0:p.render)}load(p,m=""){return Pe(function Nu(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(zt().grecaptcha):new Promise((b,M)=>{const A=zt().setTimeout(()=>{M(qn(p,"network-request-failed"))},Fu.get());zt()[Pu]=()=>{zt().clearTimeout(A),delete zt()[Pu];const ee=zt().grecaptcha;if(!ee)return void M(qn(p,"internal-error"));const Me=ee.render;ee.render=(xe,tt)=>{const lt=Me(xe,tt);return this.counter++,lt},this.hostLanguage=m,b(ee)},ku(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Pu,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(A),M(qn(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!!(null===(m=zt().grecaptcha)||void 0===m?void 0:m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vc{load(p){return(0,s.Z)(function*(){return new dr(p)})()}clearedOneInstance(){}}const mp="recaptcha",gp={theme:"light",type:"image"};class Ph{constructor(p,m=Object.assign({},gp),b){this.parameters=m,this.type=mp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(b),this.isInvisible="invisible"===this.parameters.size,Pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;Pe(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vc:new Oh,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(A=>{const B=ee=>{!ee||(p.tokenChangeListeners.delete(B),A(ee))};p.tokenChangeListeners.add(B),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Pe(!this.parameters.sitekey,this.auth,"argument-error"),Pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=zt()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){Pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){Pe(Fn()&&!ms(),p.auth,"internal-error"),yield function zo(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Au(y){return La.apply(this,arguments)}(p.auth);Pe(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Va{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=fo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function js(){return(js=(0,s.Z)(function*(y,p,m){const b=pn(y),M=yield qr(b,p,(0,F.m9)(m));return new Va(M,A=>Vo(b,A))})).apply(this,arguments)}function Al(){return(Al=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y);yield Ni(!1,b,"phone");const M=yield qr(b.auth,p,(0,F.m9)(m));return new Va(M,A=>Hr(b,A))})).apply(this,arguments)}function Lu(){return(Lu=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y),M=yield qr(b.auth,p,(0,F.m9)(m));return new Va(M,A=>ds(b,A))})).apply(this,arguments)}function qr(y,p,m){return wc.apply(this,arguments)}function wc(){return(wc=(0,s.Z)(function*(y,p,m){var b;const M=yield m.verify();try{let A;if(Pe("string"==typeof M,y,"argument-error"),Pe(m.type===mp,y,"argument-error"),A="string"==typeof p?{phoneNumber:p}:p,"session"in A){const B=A.session;if("phoneNumber"in A)return Pe("enroll"===B.type,y,"internal-error"),(yield Ra(y,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Pe("signin"===B.type,y,"internal-error");const ee=(null===(b=A.multiFactorHint)||void 0===b?void 0:b.uid)||A.multiFactorUid;return Pe(ee,y,"missing-multi-factor-info"),(yield xn(y,{mfaPendingCredential:B.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield Ji(y,{phoneNumber:A.phoneNumber,recaptchaToken:M});return B}}finally{m._reset()}})).apply(this,arguments)}function Ba(){return(Ba=(0,s.Z)(function*(y,p){yield Ea((0,F.m9)(y),p)})).apply(this,arguments)}let kl=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=pn(m)}verifyPhoneNumber(m,b){return qr(this.auth,m,(0,F.m9)(b))}static credential(m,b){return fo._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:M}=m;return b&&M?fo._fromTokenResponse(b,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Rn(y,p){return p?cn(p):(Pe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Vu extends pl{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return as(p,this._buildIdpRequest())}_linkToIdToken(p,m){return as(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return as(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function T(y){return ph(y.auth,new Vu(y),y.bypassAuthState)}function x(y){const{auth:p,user:m}=y;return Pe(m,p,"internal-error"),sc(m,new Vu(y),y.bypassAuthState)}function R(y){return V.apply(this,arguments)}function V(){return(V=(0,s.Z)(function*(y){const{auth:p,user:m}=y;return Pe(m,p,"internal-error"),Ea(m,new Vu(y),y.bypassAuthState)})).apply(this,arguments)}class K{constructor(p,m,b,M,A=!1){this.auth=p,this.resolver=b,this.user=M,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,s.Z)(function*(b,M){p.pendingPromise={resolve:b,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(A){p.reject(A)}});return function(b,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,s.Z)(function*(){const{urlResponse:b,sessionId:M,postBody:A,tenantId:B,error:ee,type:Me}=p;if(ee)return void m.reject(ee);const xe={auth:m.auth,requestUri:b,sessionId:M,tenantId:B||void 0,postBody:A||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Me)(xe))}catch(tt){m.reject(tt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return T;case"linkViaPopup":case"linkViaRedirect":return R;case"reauthViaPopup":case"reauthViaRedirect":return x;default:en(this.auth,"internal-error")}}resolve(p){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ae=new ct(2e3,1e4);function Be(){return(Be=(0,s.Z)(function*(y,p,m){const b=pn(y);Er(y,p,Sr);const M=Rn(b,m);return new Hn(b,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function ft(){return(ft=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y);Er(b.auth,p,Sr);const M=Rn(b.auth,m);return new Hn(b.auth,"reauthViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y);Er(b.auth,p,Sr);const M=Rn(b.auth,m);return new Hn(b.auth,"linkViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}let Hn=(()=>{class y extends K{constructor(m,b,M,A,B){super(m,b,A,B),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,s.Z)(function*(){const b=yield m.execute();return Pe(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,s.Z)(function*(){Gn(1===m.filter.length,"Popup operations only handle one event");const b=ps();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(qn(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,M;this.pollId=(null===(M=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,ae.get())};m()}}return y.currentPopupAction=null,y})();const Gr=new Map;class Ua extends K{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,s.Z)(function*(){let b=Gr.get(m.auth._key());if(!b){try{const A=(yield function Eo(y,p){return qs.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(A)}catch(M){b=()=>Promise.reject(M)}Gr.set(m.auth._key(),b)}return m.bypassAuthState||Gr.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const M=yield b.auth._redirectUserForId(p.eventId);if(M)return b.user=M,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function qs(){return(qs=(0,s.Z)(function*(y,p){const m=_p(p),b=Dc(y);if(!(yield b._isAvailable()))return!1;const M="true"===(yield b._get(m));return yield b._remove(m),M})).apply(this,arguments)}function Zr(y,p){return $o.apply(this,arguments)}function $o(){return($o=(0,s.Z)(function*(y,p){return Dc(y)._set(_p(p),"true")})).apply(this,arguments)}function vs(y,p){Gr.set(y._key(),p)}function Dc(y){return cn(y._redirectPersistence)}function _p(y){return xr("pendingRedirect",y.config.apiKey,y.name)}function yp(){return(yp=(0,s.Z)(function*(y,p,m){const b=pn(y);Er(y,p,Sr);const M=Rn(b,m);return yield Zr(M,b),M._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function bs(){return(bs=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y);Er(b.auth,p,Sr);const M=Rn(b.auth,m);yield Zr(M,b.auth);const A=yield bp(b);return M._openRedirect(b.auth,p,"reauthViaRedirect",A)})).apply(this,arguments)}function Yv(){return(Yv=(0,s.Z)(function*(y,p,m){const b=(0,F.m9)(y);Er(b.auth,p,Sr);const M=Rn(b.auth,m);yield Ni(!1,b,p.providerId),yield Zr(M,b.auth);const A=yield bp(b);return M._openRedirect(b.auth,p,"linkViaRedirect",A)})).apply(this,arguments)}function Lh(){return(Lh=(0,s.Z)(function*(y,p){return yield pn(y)._initializationPromise,Uu(y,p,!1)})).apply(this,arguments)}function Uu(y,p){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,s.Z)(function*(y,p,m=!1){const b=pn(y),M=Rn(b,p),B=yield new Ua(b,M,m).execute();return B&&!m&&(delete B.user._redirectEventId,yield b._persistUserIfCurrent(B.user),yield b._setRedirectUser(null,p)),B})).apply(this,arguments)}function bp(y){return To.apply(this,arguments)}function To(){return(To=(0,s.Z)(function*(y){const p=ps(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class wp{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Wv(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cp(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!Cp(p)){const M=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(qn(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hg(p))}saveEventToCache(p){this.cachedEventUids.add(Hg(p)),this.lastProcessedEventTime=Date.now()}}function Hg(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Cp({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Ko(y){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,s.Z)(function*(y,p={}){return Kt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const jg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qg=/^https?/;function Vh(){return(Vh=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Ko(y);for(const m of p)try{if(Dp(m))return}catch(b){}en(y,"unauthorized-domain")})).apply(this,arguments)}function Dp(y){const p=Kn(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const B=new URL(y);return""===B.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&B.hostname===b}if(!qg.test(m))return!1;if(jg.test(y))return b===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(b)}const Qv=new ct(3e4,6e4);function Bh(){const y=zt().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Xo=null;function Jv(y){return Xo=Xo||function Xv(y){return new Promise((p,m)=>{var b,M,A;function B(){Bh(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Bh(),m(qn(y,"network-request-failed"))},timeout:Qv.get()})}if(null===(M=null===(b=zt().gapi)||void 0===b?void 0:b.iframes)||void 0===M?void 0:M.Iframe)p(gapi.iframes.getContext());else{if(!(null===(A=zt().gapi)||void 0===A?void 0:A.load)){const ee=Ru("iframefcb");return zt()[ee]=()=>{gapi.load?B():m(qn(y,"network-request-failed"))},ku(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Me=>m(Me))}B()}}).catch(p=>{throw Xo=null,p})}(y),Xo}const Ep=new ct(5e3,15e3),Ec={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ws(y){const p=y.config;Pe(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?bt(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:le.SDK_VERSION},M=Gg.get(y.config.apiHost);M&&(b.eid=M);const A=y._getFrameworks();return A.length&&(b.fw=A.join(",")),`${m}?${(0,F.xO)(b).slice(1)}`}function qu(){return qu=(0,s.Z)(function*(y){const p=yield Jv(y),m=zt().gapi;return Pe(m,y,"internal-error"),p.open({where:document.body,url:ws(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ec,dontclear:!0},b=>new Promise(function(){var M=(0,s.Z)(function*(A,B){yield b.restyle({setHideOnLeave:!1});const ee=qn(y,"network-request-failed"),Me=zt().setTimeout(()=>{B(ee)},Ep.get());function xe(){zt().clearTimeout(Me),A(b)}b.ping(xe).then(xe,()=>{B(ee)})});return function(A,B){return M.apply(this,arguments)}}()))}),qu.apply(this,arguments)}const Zg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Zu(y,p,m,b,M,A){Pe(y.config.authDomain,y,"auth-domain-config-required"),Pe(y.config.apiKey,y,"invalid-api-key");const B={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:le.SDK_VERSION,eventId:M};if(p instanceof Sr){p.setDefaultLanguage(y.languageCode),B.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(B.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Me,xe]of Object.entries(A||{}))B[Me]=xe}if(p instanceof us){const Me=p.getScopes().filter(xe=>""!==xe);Me.length>0&&(B.scopes=Me.join(","))}y.tenantId&&(B.tid=y.tenantId);const ee=B;for(const Me of Object.keys(ee))void 0===ee[Me]&&delete ee[Me];return`${function zu({config:y}){return y.emulator?bt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,F.xO)(ee).slice(1)}`}const Mp="webStorageSupport";class Tc extends class xp{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return ut("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Tc(p)}_finalizeEnroll(p,m,b){return function fs(y,p){return Kt(y,"POST","/v2/accounts/mfaEnrollment:finalize",vn(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Iu(y,p){return Kt(y,"POST","/v2/accounts/mfaSignIn:finalize",vn(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wg=(()=>{class y{constructor(){}static assertion(m){return Tc._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Mc="@firebase/auth";class ui{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,s.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var M;p((null===(M=b)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Jo(){return window}function jh(){return(jh=(0,s.Z)(function*(y,p,m){var b;const{BuildInfo:M}=Jo();Gn(p.sessionId,"AuthEvent did not contain a session ID");const A=yield Xg(p.sessionId),B={};return Qt()?B.ibi=M.packageName:In()?B.apn=M.packageName:en(y,"operation-not-supported-in-this-environment"),M.displayName&&(B.appDisplayName=M.displayName),B.sessionId=A,Zu(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,B)})).apply(this,arguments)}function Qg(){return(Qg=(0,s.Z)(function*(y){const{BuildInfo:p}=Jo(),m={};Qt()?m.iosBundleId=p.packageName:In()?m.androidPackageName=p.packageName:en(y,"operation-not-supported-in-this-environment"),yield Ko(y,m)})).apply(this,arguments)}function Ol(){return(Ol=(0,s.Z)(function*(y,p,m){const{cordova:b}=Jo();let M=()=>{};try{yield new Promise((A,B)=>{let ee=null;function Me(){var lt;A();const qt=null===(lt=b.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof qt&&qt(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function xe(){ee||(ee=window.setTimeout(()=>{B(qn(y,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===(null==document?void 0:document.visibilityState)&&xe()}p.addPassiveListener(Me),document.addEventListener("resume",xe,!1),In()&&document.addEventListener("visibilitychange",tt,!1),M=()=>{p.removePassiveListener(Me),document.removeEventListener("resume",xe,!1),document.removeEventListener("visibilitychange",tt,!1),ee&&window.clearTimeout(ee)}})}finally{M()}})).apply(this,arguments)}function Xg(y){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,s.Z)(function*(y){const p=sb(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function sb(y){if(Gn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}!function nb(y){(0,le._registerComponent)(new vt.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),{apiKey:A,authDomain:B}=b.options;return((ee,Me)=>{Pe(A&&!A.includes(":"),"invalid-api-key",{appName:ee.name}),Pe(!(null==B?void 0:B.includes(":")),"argument-error",{appName:ee.name});const xe={apiKey:A,authDomain:B,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ec(y)},tt=new uo(ee,Me,xe);return function ko(y,p){const m=(null==p?void 0:p.persistence)||[],b=(Array.isArray(m)?m:[m]).map(cn);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(tt,m),tt})(b,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new vt.wA("auth-internal",p=>{const m=pn(p.getProvider("auth").getImmediate());return new ui(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Mc,"0.20.5",function Sp(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(Mc,"0.20.5","esm2017")}("Browser");class nt extends wp{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function Yu(y){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,s.Z)(function*(y){const p=yield me()._get(kr(y));return p&&(yield me()._remove(kr(y))),p})).apply(this,arguments)}function kp(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function me(){return cn(Ar)}function kr(y){return xr("authEvent",y.config.apiKey,y.name)}function Pl(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,F.zd)(m.join("?"))}function $n(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:qn("no-auth-event")}}function Wu(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function e_(y=(0,F.z$)()){return!("file:"!==Wu()&&"ionic:"!==Wu()&&"capacitor:"!==Wu()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function i_(){try{const y=self.localStorage,p=ps();if(y)return y.setItem(p,"1"),y.removeItem(p),!function db(y=(0,F.z$)()){return function n_(){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ub(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch(y){return Ku()&&(0,F.hl)()}return!1}function Ku(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pp(){return(function cb(){return"http:"===Wu()||"https:"===Wu()}()||(0,F.ru)()||e_())&&!function t_(){return(0,F.b$)()||(0,F.UG)()}()&&i_()&&!Ku()}function r_(){return e_()&&"undefined"!=typeof document}function ea(){return(ea=(0,s.Z)(function*(){return!!r_()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const ir={LOCAL:"local",NONE:"none",SESSION:"session"},Ha=Pe,Vi="persistence";function Cs(y){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,s.Z)(function*(y){yield y._initializationPromise;const p=s_(),m=xr(Vi,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function s_(){var y;try{return(null===(y=function Gs(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const o_=Pe;class pr{constructor(){this.browserResolver=cn(class $g{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nr,this._completeRedirectFn=Uu,this._overrideRedirectResult=vs}_openPopup(p,m,b,M){var A=this;return(0,s.Z)(function*(){var B;Gn(null===(B=A.eventManagers[p._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const ee=Zu(p,m,b,Kn(),M);return function zg(y,p,m,b=500,M=600){const A=Math.max((window.screen.availHeight-M)/2,0).toString(),B=Math.max((window.screen.availWidth-b)/2,0).toString();let ee="";const Me=Object.assign(Object.assign({},Zg),{width:b.toString(),height:M.toString(),top:A,left:B}),xe=(0,F.z$)().toLowerCase();m&&(ee=hl(xe)?"_blank":m),dl(xe)&&(p=p||"http://localhost",Me.scrollbars="yes");const tt=Object.entries(Me).reduce((qt,[Ti,Yn])=>`${qt}${Ti}=${Yn},`,"");if(function th(y=(0,F.z$)()){var p;return Qt(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(xe)&&"_self"!==ee)return function Gu(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",ee),new Hh(null);const lt=window.open(p||"",ee,tt);Pe(lt,y,"popup-blocked");try{lt.focus()}catch(qt){}return new Hh(lt)}(p,ee,ps())})()}_openRedirect(p,m,b,M){var A=this;return(0,s.Z)(function*(){return yield A._originValidation(p),function wo(y){zt().location.href=y}(Zu(p,m,b,Kn(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:A}=this.eventManagers[m];return M?Promise.resolve(M):(Gn(A,"If manager is not set, promise should be"),A)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,s.Z)(function*(){const b=yield function ju(y){return qu.apply(this,arguments)}(p),M=new wp(p);return b.register("authEvent",A=>(Pe(null==A?void 0:A.authEvent,p,"invalid-auth-event"),{status:M.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=b,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Mp,{type:Mp},M=>{var A;const B=null===(A=null==M?void 0:M[0])||void 0===A?void 0:A[Mp];void 0!==B&&m(!!B),en(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Kv(y){return Vh.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return ji()||wi()||Qt()}}),this.cordovaResolver=cn(class ob{constructor(){this._redirectPersistence=nr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Uu,this._overrideRedirectResult=vs}_initialize(p){var m=this;return(0,s.Z)(function*(){const b=p._key();let M=m.eventManagers.get(b);return M||(M=new nt(p),m.eventManagers.set(b,M),m.attachCallbackListeners(p,M)),M})()}_openPopup(p){en(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,M){var A=this;return(0,s.Z)(function*(){!function fr(y){var p,m,b,M,A,B,ee,Me,xe,tt;const lt=Jo();Pe("function"==typeof(null===(p=null==lt?void 0:lt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Pe(void 0!==(null===(m=null==lt?void 0:lt.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Pe("function"==typeof(null===(A=null===(M=null===(b=null==lt?void 0:lt.cordova)||void 0===b?void 0:b.plugins)||void 0===M?void 0:M.browsertab)||void 0===A?void 0:A.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Pe("function"==typeof(null===(Me=null===(ee=null===(B=null==lt?void 0:lt.cordova)||void 0===B?void 0:B.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===Me?void 0:Me.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Pe("function"==typeof(null===(tt=null===(xe=null==lt?void 0:lt.cordova)||void 0===xe?void 0:xe.InAppBrowser)||void 0===tt?void 0:tt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const B=yield A._initialize(p);yield B.initialized(),B.resetRedirect(),function Yo(){Gr.clear()}(),yield A._originValidation(p);const ee=function xc(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:kp(),postBody:null,tenantId:y.tenantId,error:qn(y,"no-auth-event")}}(p,b,M);yield function qi(y,p){return me()._set(kr(y),p)}(p,ee);const Me=yield function ib(y,p,m){return jh.apply(this,arguments)}(p,ee,m),xe=yield function ax(y){const{cordova:p}=Jo();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let M=null;b?p.plugins.browsertab.openUrl(y):M=p.InAppBrowser.open(y,function bn(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(M)})})}(Me);return function rb(y,p,m){return Ol.apply(this,arguments)}(p,B,xe)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function pC(y){return Qg.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:M,BuildInfo:A}=Jo(),B=setTimeout((0,s.Z)(function*(){yield Yu(p),m.onEvent($n())}),500),ee=function(){var tt=(0,s.Z)(function*(lt){clearTimeout(B);const qt=yield Yu(p);let Ti=null;qt&&(null==lt?void 0:lt.url)&&(Ti=function zn(y,p){var m,b;const M=function Sc(y){const p=Pl(y),m=p.link?decodeURIComponent(p.link):void 0,b=Pl(m).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Pl(M).link||M||b||m||y}(p);if(M.includes("/__/auth/callback")){const A=Pl(M),B=A.firebaseError?function Tt(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(A.firebaseError)):null,ee=null===(b=null===(m=null==B?void 0:B.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Me=ee?qn(ee):null;return Me?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Me,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(qt,lt.url)),m.onEvent(Ti||$n())});return function(qt){return tt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ee);const Me=M,xe=`${A.packageName.toLowerCase()}://`;Jo().handleOpenURL=function(){var tt=(0,s.Z)(function*(lt){if(lt.toLowerCase().startsWith(xe)&&ee({url:lt}),"function"==typeof Me)try{Me(lt)}catch(qt){console.error(qt)}});return function(lt){return tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=nr,this._completeRedirectFn=Uu,this._overrideRedirectResult=vs}_initialize(p){var m=this;return(0,s.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,M){var A=this;return(0,s.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openPopup(p,m,b,M)})()}_openRedirect(p,m,b,M){var A=this;return(0,s.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openRedirect(p,m,b,M)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return r_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return o_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Ic(){return ea.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function qh(y){return y.unwrap()}function Xu(y){return Zh(y)}function Zh(y){const{_tokenResponse:p}=y instanceof F.ZR?y.customData:y;if(!p)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return kl.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=ai;break;case"facebook.com":b=tr;break;case"github.com":b=wa;break;case"twitter.com":b=yt;break;default:const{oauthIdToken:M,oauthAccessToken:A,oauthTokenSecret:B,pendingToken:ee,nonce:Me}=p;return A||B||M||ee?ee?m.startsWith("saml.")?Pi._create(m,ee):ls._fromParams({providerId:m,signInMethod:m,pendingToken:ee,idToken:M,accessToken:A}):new er(m).credential({idToken:M,accessToken:A,rawNonce:Me}):null}return y instanceof F.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function gi(y,p){return p.catch(m=>{throw m instanceof F.ZR&&function Zs(y,p){var m,b;const M=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=p)||void 0===b?void 0:b.code))p.resolver=new a_(y,function mc(y,p){var m;const b=(0,F.m9)(y),M=p;return Pe(p.customData.operationType,b,"argument-error"),Pe(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),vo._fromError(b,M)}(y,p));else if(M){const A=Zh(p),B=p;A&&(B.credential=A,B.tenantId=M.tenantId||void 0,B.email=M.email||void 0,B.phoneNumber=M.phoneNumber||void 0)}}(y,m),m}).then(m=>{const M=m.user;return{operationType:m.operationType,credential:Xu(m),additionalUserInfo:Eh(m),user:ta.getOrCreate(M)}})}function ja(y,p){return qa.apply(this,arguments)}function qa(){return(qa=(0,s.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>gi(y,m.confirm(b))}})).apply(this,arguments)}class a_{constructor(p,m){this.resolver=m,this.auth=function Gh(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return gi(qh(this.auth),this.resolver.resolveSignIn(p))}}class ta{constructor(p){this._delegate=p,this.multiFactor=function xh(y){const p=(0,F.m9)(y);return Ho.has(p)||Ho.set(p,Mu._fromUser(p)),Ho.get(p)}(p)}static getOrCreate(p){return ta.USER_MAP.has(p)||ta.USER_MAP.set(p,new ta(p)),ta.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,s.Z)(function*(){return gi(m.auth,Hr(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,s.Z)(function*(){return ja(b.auth,function bc(y,p,m){return Al.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,s.Z)(function*(){return gi(m.auth,function At(y,p,m){return pt.apply(this,arguments)}(m._delegate,p,pr))})()}linkWithRedirect(p){var m=this;return(0,s.Z)(function*(){return yield Cs(pn(m.auth)),function Ug(y,p,m){return function cC(y,p,m){return Yv.apply(this,arguments)}(y,p,m)}(m._delegate,p,pr)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,s.Z)(function*(){return gi(m.auth,ds(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return ja(this.auth,function ys(y,p,m){return Lu.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return gi(this.auth,function ht(y,p,m){return ft.apply(this,arguments)}(this._delegate,p,pr))}reauthenticateWithRedirect(p){var m=this;return(0,s.Z)(function*(){return yield Cs(pn(m.auth)),function Nh(y,p,m){return function Rl(y,p,m){return bs.apply(this,arguments)}(y,p,m)}(m._delegate,p,pr)})()}sendEmailVerification(p){return function dc(y,p){return hc.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,s.Z)(function*(){return yield function fh(y,p){return wn.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function fc(y,p){return Tu((0,F.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function wh(y,p){return Tu((0,F.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Cc(y,p){return Ba.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function hp(y,p){return bh.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function dp(y,p,m){return vh.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ta.USER_MAP=new WeakMap;const Nl=Pe;let l_=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=m.options;Nl(M,"invalid-api-key",{appName:m.name}),Nl(M,"invalid-api-key",{appName:m.name});const A="undefined"!=typeof window?pr:void 0;this._delegate=b.initialize({options:{persistence:hb(M,m.name),popupRedirectResolver:A}}),this._delegate._updateErrorMap(yn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ta.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function kg(y,p,m){const b=pn(y);Pe(b._canInitEmulator,b,"emulator-config-failed"),Pe(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const M=!!(null==m?void 0:m.disableWarnings),A=np(p),{host:B,port:ee}=function Br(y){const p=np(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(b);if(M){const A=M[1];return{host:A,port:ip(b.substr(A.length+1))}}{const[A,B]=b.split(":");return{host:A,port:ip(B)}}}(p);b.config.emulator={url:`${A}//${B}${null===ee?"":`:${ee}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:B,port:ee,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Rg(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function lp(y,p){return Dl.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return cc(this._delegate,m)}confirmPasswordReset(m,b){return function Cu(y,p,m){return Ia.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var M=this;return(0,s.Z)(function*(){return gi(M._delegate,function Ng(y,p,m){return li.apply(this,arguments)}(M._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Eu(y,p){return _o.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Du(y,p){const m=po.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,s.Z)(function*(){Nl(Pp(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function vp(y,p){return Lh.apply(this,arguments)}(m._delegate,pr);return b?gi(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Op(y,p){pn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,M){const{next:A,error:B,complete:ee}=c_(m,b,M);return this._delegate.onAuthStateChanged(A,B,ee)}onIdTokenChanged(m,b,M){const{next:A,error:B,complete:ee}=c_(m,b,M);return this._delegate.onIdTokenChanged(A,B,ee)}sendSignInLinkToEmail(m,b){return function Ln(y,p,m){return Aa.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Cl(y,p,m){return lc.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,s.Z)(function*(){let M;switch(function mC(y,p){Ha(Object.values(ir).includes(p),y,"invalid-persistence-type"),(0,F.b$)()?Ha(p!==ir.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?Ha(p===ir.NONE,y,"unsupported-persistence-type"):Ku()?Ha(p===ir.NONE||p===ir.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):Ha(p===ir.NONE||i_(),y,"unsupported-persistence-type")}(b._delegate,m),m){case ir.SESSION:M=nr;break;case ir.LOCAL:M=(yield cn(mn)._isAvailable())?mn:Ar;break;case ir.NONE:M=rn;break;default:return en("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return gi(this._delegate,function wu(y){return rc.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return gi(this._delegate,Vo(this._delegate,m))}signInWithCustomToken(m){return gi(this._delegate,function ap(y,p){return wl.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return gi(this._delegate,function Ci(y,p,m){return Vo((0,F.m9)(y),Oi.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return gi(this._delegate,function _h(y,p,m){return cp.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return ja(this._delegate,function hr(y,p,m){return js.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,s.Z)(function*(){return Nl(Pp(),b._delegate,"operation-not-supported-in-this-environment"),gi(b._delegate,function Ce(y,p,m){return Be.apply(this,arguments)}(b._delegate,m,pr))})()}signInWithRedirect(m){var b=this;return(0,s.Z)(function*(){return Nl(Pp(),b._delegate,"operation-not-supported-in-this-environment"),yield Cs(b._delegate),function Bu(y,p,m){return function Fh(y,p,m){return yp.apply(this,arguments)}(y,p,m)}(b._delegate,m,pr)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function uc(y,p){return gh.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ir,y})();function c_(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const M=b;return{next:B=>M(B&&ta.getOrCreate(B)),error:p,complete:m}}function hb(y,p){const m=function Fp(y,p){const m=s_();if(!m)return[];const b=xr(Vi,y,p);switch(m.getItem(b)){case ir.NONE:return[rn];case ir.LOCAL:return[mn,nr];case ir.SESSION:return[nr];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(mn)&&m.push(mn),"undefined"!=typeof window)for(const b of[Ar,nr])m.includes(b)||m.push(b);return m.includes(rn)||m.push(rn),m}class Np{constructor(){this.providerId="phone",this._delegate=new kl(qh(J.Z.auth()))}static credential(p,m){return kl.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Np.PHONE_SIGN_IN_METHOD=kl.PHONE_SIGN_IN_METHOD,Np.PROVIDER_ID=kl.PROVIDER_ID;const fb=Pe;class pb{constructor(p,m,b=J.Z.app()){var M;fb(null===(M=b.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Ph(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ju(y){y.INTERNAL.registerComponent(new vt.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new l_(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Oi,FacebookAuthProvider:tr,GithubAuthProvider:wa,GoogleAuthProvider:ai,OAuthProvider:er,SAMLAuthProvider:mo,PhoneAuthProvider:Np,PhoneMultiFactorGenerator:Wg,RecaptchaVerifier:pb,TwitterAuthProvider:yt,Auth:l_,AuthCredential:pl,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(J.Z)},8306:(Xe,ye,P)=>{P.d(ye,{y:()=>G});var s=P(930),J=P(727),F=P(8822),le=P(4671);var te=P(2416),ue=P(576),fe=P(2806);let G=(()=>{class Ee{constructor(qe){qe&&(this._subscribe=qe)}lift(qe){const pe=new Ee;return pe.source=this,pe.operator=qe,pe}subscribe(qe,pe,ge){const Re=function Ze(Ee){return Ee&&Ee instanceof s.Lv||function re(Ee){return Ee&&(0,ue.m)(Ee.next)&&(0,ue.m)(Ee.error)&&(0,ue.m)(Ee.complete)}(Ee)&&(0,J.Nn)(Ee)}(qe)?qe:new s.Hp(qe,pe,ge);return(0,fe.x)(()=>{const{operator:Ge,source:Le}=this;Re.add(Ge?Ge.call(Re,Le):Le?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(qe){try{return this._subscribe(qe)}catch(pe){qe.error(pe)}}forEach(qe,pe){return new(pe=W(pe))((ge,Re)=>{let Ge;Ge=this.subscribe(Le=>{try{qe(Le)}catch(Je){Re(Je),null==Ge||Ge.unsubscribe()}},Re,ge)})}_subscribe(qe){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(qe)}[F.L](){return this}pipe(...qe){return function ve(Ee){return 0===Ee.length?le.y:1===Ee.length?Ee[0]:function(qe){return Ee.reduce((pe,ge)=>ge(pe),qe)}}(qe)(this)}toPromise(qe){return new(qe=W(qe))((pe,ge)=>{let Re;this.subscribe(Ge=>Re=Ge,Ge=>ge(Ge),()=>pe(Re))})}}return Ee.create=Oe=>new Ee(Oe),Ee})();function W(Ee){var Oe;return null!==(Oe=null!=Ee?Ee:te.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(Xe,ye,P)=>{P.d(ye,{x:()=>te});var s=P(8306),J=P(727);const le=(0,P(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=P(8737),ve=P(2806);let te=(()=>{class fe extends s.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const re=new ue(this,this);return re.operator=W,re}_throwIfClosed(){if(this.closed)throw new le}next(W){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const re=this.observers.slice();for(const Ze of re)Ze.next(W)}})}error(W){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:re}=this;for(;re.length;)re.shift().error(W)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:re,isStopped:Ze,observers:Ee}=this;return re||Ze?J.Lc:(Ee.push(W),new J.w0(()=>(0,ce.P)(Ee,W)))}_checkFinalizedStatuses(W){const{hasError:re,thrownError:Ze,isStopped:Ee}=this;re?W.error(Ze):Ee&&W.complete()}asObservable(){const W=new s.y;return W.source=this,W}}return fe.create=(G,W)=>new ue(G,W),fe})();class ue extends te{constructor(G,W){super(),this.destination=G,this.source=W}next(G){var W,re;null===(re=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===re||re.call(W,G)}error(G){var W,re;null===(re=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===re||re.call(W,G)}complete(){var G,W;null===(W=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===W||W.call(G)}_subscribe(G){var W,re;return null!==(re=null===(W=this.source)||void 0===W?void 0:W.subscribe(G))&&void 0!==re?re:J.Lc}}},930:(Xe,ye,P)=>{P.d(ye,{Hp:()=>Ze,Lv:()=>re});var s=P(576),J=P(727),F=P(2416),le=P(7849),ce=P(5032);const ve=fe("C",void 0,void 0);function fe(ge,Re,Ge){return{kind:ge,value:Re,error:Ge}}var G=P(3410),W=P(2806);class re extends J.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,J.Nn)(Re)&&Re.add(this)):this.destination=pe}static create(Re,Ge,Le){return new Ze(Re,Ge,Le)}next(Re){this.isStopped?qe(function ue(ge){return fe("N",ge,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?qe(function te(ge){return fe("E",void 0,ge)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?qe(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ze extends re{constructor(Re,Ge,Le){let Je;if(super(),(0,s.m)(Re))Je=Re;else if(Re){let Se;({next:Je,error:Ge,complete:Le}=Re),this&&F.v.useDeprecatedNextContext?(Se=Object.create(Re),Se.unsubscribe=()=>this.unsubscribe()):Se=Re,Je=null==Je?void 0:Je.bind(Se),Ge=null==Ge?void 0:Ge.bind(Se),Le=null==Le?void 0:Le.bind(Se)}this.destination={next:Je?Ee(Je):ce.Z,error:Ee(null!=Ge?Ge:Oe),complete:Le?Ee(Le):ce.Z}}}function Ee(ge,Re){return(...Ge)=>{try{ge(...Ge)}catch(Le){F.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Le):(0,le.h)(Le)}}}function Oe(ge){throw ge}function qe(ge,Re){const{onStoppedNotification:Ge}=F.v;Ge&&G.z.setTimeout(()=>Ge(ge,Re))}const pe={closed:!0,next:ce.Z,error:Oe,complete:ce.Z}},727:(Xe,ye,P)=>{P.d(ye,{Lc:()=>ve,w0:()=>ce,Nn:()=>te});var s=P(576);const F=(0,P(3888).d)(fe=>function(W){fe(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((re,Ze)=>`${Ze+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var le=P(8737);class ce{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ee of W)Ee.remove(this);else W.remove(this);const{initialTeardown:re}=this;if((0,s.m)(re))try{re()}catch(Ee){G=Ee instanceof F?Ee.errors:[Ee]}const{_teardowns:Ze}=this;if(Ze){this._teardowns=null;for(const Ee of Ze)try{ue(Ee)}catch(Oe){G=null!=G?G:[],Oe instanceof F?G=[...G,...Oe.errors]:G.push(Oe)}}if(G)throw new F(G)}}add(G){var W;if(G&&G!==this)if(this.closed)ue(G);else{if(G instanceof ce){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._teardowns=null!==(W=this._teardowns)&&void 0!==W?W:[]).push(G)}}_hasParent(G){const{_parentage:W}=this;return W===G||Array.isArray(W)&&W.includes(G)}_addParent(G){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(G),W):W?[W,G]:G}_removeParent(G){const{_parentage:W}=this;W===G?this._parentage=null:Array.isArray(W)&&(0,le.P)(W,G)}remove(G){const{_teardowns:W}=this;W&&(0,le.P)(W,G),G instanceof ce&&G._removeParent(this)}}ce.EMPTY=(()=>{const fe=new ce;return fe.closed=!0,fe})();const ve=ce.EMPTY;function te(fe){return fe instanceof ce||fe&&"closed"in fe&&(0,s.m)(fe.remove)&&(0,s.m)(fe.add)&&(0,s.m)(fe.unsubscribe)}function ue(fe){(0,s.m)(fe)?fe():fe.unsubscribe()}},2416:(Xe,ye,P)=>{P.d(ye,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xe,ye,P)=>{P.d(ye,{E:()=>J});const J=new(P(8306).y)(ce=>ce.complete())},8996:(Xe,ye,P)=>{P.d(ye,{D:()=>Je});var s=P(8421),J=P(5363),F=P(9468),ve=P(8306),ue=P(2202),fe=P(576),G=P(9672);function re(Se,it){if(!Se)throw new Error("Iterable cannot be null");return new ve.y(We=>{(0,G.f)(We,it,()=>{const we=Se[Symbol.asyncIterator]();(0,G.f)(We,it,()=>{we.next().then(z=>{z.done?We.complete():We.next(z.value)})},0,!0)})})}var Ze=P(3670),Ee=P(8239),Oe=P(1144),qe=P(6495),pe=P(2206),ge=P(4532),Re=P(3260);function Je(Se,it){return it?function Le(Se,it){if(null!=Se){if((0,Ze.c)(Se))return function le(Se,it){return(0,s.Xf)(Se).pipe((0,F.R)(it),(0,J.Q)(it))}(Se,it);if((0,Oe.z)(Se))return function te(Se,it){return new ve.y(We=>{let we=0;return it.schedule(function(){we===Se.length?We.complete():(We.next(Se[we++]),We.closed||this.schedule())})})}(Se,it);if((0,Ee.t)(Se))return function ce(Se,it){return(0,s.Xf)(Se).pipe((0,F.R)(it),(0,J.Q)(it))}(Se,it);if((0,pe.D)(Se))return re(Se,it);if((0,qe.T)(Se))return function W(Se,it){return new ve.y(We=>{let we;return(0,G.f)(We,it,()=>{we=Se[ue.h](),(0,G.f)(We,it,()=>{let z,ne;try{({value:z,done:ne}=we.next())}catch(he){return void We.error(he)}ne?We.complete():We.next(z)},0,!0)}),()=>(0,fe.m)(null==we?void 0:we.return)&&we.return()})}(Se,it);if((0,Re.L)(Se))return function Ge(Se,it){return re((0,Re.Q)(Se),it)}(Se,it)}throw(0,ge.z)(Se)}(Se,it):(0,s.Xf)(Se)}},8421:(Xe,ye,P)=>{P.d(ye,{Xf:()=>Ze});var s=P(5987),J=P(1144),F=P(8239),le=P(8306),ce=P(3670),ve=P(2206),te=P(4532),ue=P(6495),fe=P(3260),G=P(576),W=P(7849),re=P(8822);function Ze(Le){if(Le instanceof le.y)return Le;if(null!=Le){if((0,ce.c)(Le))return function Ee(Le){return new le.y(Je=>{const Se=Le[re.L]();if((0,G.m)(Se.subscribe))return Se.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,J.z)(Le))return function Oe(Le){return new le.y(Je=>{for(let Se=0;Se<Le.length&&!Je.closed;Se++)Je.next(Le[Se]);Je.complete()})}(Le);if((0,F.t)(Le))return function qe(Le){return new le.y(Je=>{Le.then(Se=>{Je.closed||(Je.next(Se),Je.complete())},Se=>Je.error(Se)).then(null,W.h)})}(Le);if((0,ve.D)(Le))return ge(Le);if((0,ue.T)(Le))return function pe(Le){return new le.y(Je=>{for(const Se of Le)if(Je.next(Se),Je.closed)return;Je.complete()})}(Le);if((0,fe.L)(Le))return function Re(Le){return ge((0,fe.Q)(Le))}(Le)}throw(0,te.z)(Le)}function ge(Le){return new le.y(Je=>{(function Ge(Le,Je){var Se,it,We,we;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Se=(0,s.KL)(Le);!(it=yield Se.next()).done;)if(Je.next(it.value),Je.closed)return}catch(z){We={error:z}}finally{try{it&&!it.done&&(we=Se.return)&&(yield we.call(Se))}finally{if(We)throw We.error}}Je.complete()})})(Le,Je).catch(Se=>Je.error(Se))})}},6451:(Xe,ye,P)=>{P.d(ye,{T:()=>ve});var s=P(8189),J=P(8421),F=P(515),le=P(3269),ce=P(8996);function ve(...te){const ue=(0,le.yG)(te),fe=(0,le._6)(te,1/0),G=te;return G.length?1===G.length?(0,J.Xf)(G[0]):(0,s.J)(fe)((0,ce.D)(G,ue)):F.E}},5403:(Xe,ye,P)=>{P.d(ye,{Q:()=>J});var s=P(930);class J extends s.Lv{constructor(le,ce,ve,te,ue){super(le),this.onFinalize=ue,this._next=ce?function(fe){try{ce(fe)}catch(G){le.error(G)}}:super._next,this._error=te?function(fe){try{te(fe)}catch(G){le.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(fe){le.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}},4004:(Xe,ye,P)=>{P.d(ye,{U:()=>F});var s=P(4482),J=P(5403);function F(le,ce){return(0,s.e)((ve,te)=>{let ue=0;ve.subscribe(new J.Q(te,fe=>{te.next(le.call(ce,fe,ue++))}))})}},8189:(Xe,ye,P)=>{P.d(ye,{J:()=>F});var s=P(5577),J=P(4671);function F(le=1/0){return(0,s.z)(J.y,le)}},5577:(Xe,ye,P)=>{P.d(ye,{z:()=>ue});var s=P(4004),J=P(8421),F=P(4482),le=P(9672),ce=P(5403),te=P(576);function ue(fe,G,W=1/0){return(0,te.m)(G)?ue((re,Ze)=>(0,s.U)((Ee,Oe)=>G(re,Ee,Ze,Oe))((0,J.Xf)(fe(re,Ze))),W):("number"==typeof G&&(W=G),(0,F.e)((re,Ze)=>function ve(fe,G,W,re,Ze,Ee,Oe,qe){const pe=[];let ge=0,Re=0,Ge=!1;const Le=()=>{Ge&&!pe.length&&!ge&&G.complete()},Je=it=>ge<re?Se(it):pe.push(it),Se=it=>{Ee&&G.next(it),ge++;let We=!1;(0,J.Xf)(W(it,Re++)).subscribe(new ce.Q(G,we=>{null==Ze||Ze(we),Ee?Je(we):G.next(we)},()=>{We=!0},void 0,()=>{if(We)try{for(ge--;pe.length&&ge<re;){const we=pe.shift();Oe?(0,le.f)(G,Oe,()=>Se(we)):Se(we)}Le()}catch(we){G.error(we)}}))};return fe.subscribe(new ce.Q(G,Je,()=>{Ge=!0,Le()})),()=>{null==qe||qe()}}(re,Ze,fe,W)))}},5363:(Xe,ye,P)=>{P.d(ye,{Q:()=>le});var s=P(9672),J=P(4482),F=P(5403);function le(ce,ve=0){return(0,J.e)((te,ue)=>{te.subscribe(new F.Q(ue,fe=>(0,s.f)(ue,ce,()=>ue.next(fe),ve),()=>(0,s.f)(ue,ce,()=>ue.complete(),ve),fe=>(0,s.f)(ue,ce,()=>ue.error(fe),ve)))})}},3099:(Xe,ye,P)=>{P.d(ye,{B:()=>ve});var s=P(8996),J=P(5698),F=P(7579),le=P(930),ce=P(4482);function ve(ue={}){const{connector:fe=(()=>new F.x),resetOnError:G=!0,resetOnComplete:W=!0,resetOnRefCountZero:re=!0}=ue;return Ze=>{let Ee=null,Oe=null,qe=null,pe=0,ge=!1,Re=!1;const Ge=()=>{null==Oe||Oe.unsubscribe(),Oe=null},Le=()=>{Ge(),Ee=qe=null,ge=Re=!1},Je=()=>{const Se=Ee;Le(),null==Se||Se.unsubscribe()};return(0,ce.e)((Se,it)=>{pe++,!Re&&!ge&&Ge();const We=qe=null!=qe?qe:fe();it.add(()=>{pe--,0===pe&&!Re&&!ge&&(Oe=te(Je,re))}),We.subscribe(it),Ee||(Ee=new le.Hp({next:we=>We.next(we),error:we=>{Re=!0,Ge(),Oe=te(Le,G,we),We.error(we)},complete:()=>{ge=!0,Ge(),Oe=te(Le,W),We.complete()}}),(0,s.D)(Se).subscribe(Ee))})(Ze)}}function te(ue,fe,...G){return!0===fe?(ue(),null):!1===fe?null:fe(...G).pipe((0,J.q)(1)).subscribe(()=>ue())}},9468:(Xe,ye,P)=>{P.d(ye,{R:()=>J});var s=P(4482);function J(F,le=0){return(0,s.e)((ce,ve)=>{ve.add(F.schedule(()=>ce.subscribe(ve),le))})}},5698:(Xe,ye,P)=>{P.d(ye,{q:()=>le});var s=P(515),J=P(4482),F=P(5403);function le(ce){return ce<=0?()=>s.E:(0,J.e)((ve,te)=>{let ue=0;ve.subscribe(new F.Q(te,fe=>{++ue<=ce&&(te.next(fe),ce<=ue&&te.complete())}))})}},8505:(Xe,ye,P)=>{P.d(ye,{b:()=>ce});var s=P(576),J=P(4482),F=P(5403),le=P(4671);function ce(ve,te,ue){const fe=(0,s.m)(ve)||te||ue?{next:ve,error:te,complete:ue}:ve;return fe?(0,J.e)((G,W)=>{var re;null===(re=fe.subscribe)||void 0===re||re.call(fe);let Ze=!0;G.subscribe(new F.Q(W,Ee=>{var Oe;null===(Oe=fe.next)||void 0===Oe||Oe.call(fe,Ee),W.next(Ee)},()=>{var Ee;Ze=!1,null===(Ee=fe.complete)||void 0===Ee||Ee.call(fe),W.complete()},Ee=>{var Oe;Ze=!1,null===(Oe=fe.error)||void 0===Oe||Oe.call(fe,Ee),W.error(Ee)},()=>{var Ee,Oe;Ze&&(null===(Ee=fe.unsubscribe)||void 0===Ee||Ee.call(fe)),null===(Oe=fe.finalize)||void 0===Oe||Oe.call(fe)}))}):le.y}},4408:(Xe,ye,P)=>{P.d(ye,{o:()=>ce});var s=P(727);class J extends s.w0{constructor(te,ue){super()}schedule(te,ue=0){return this}}const F={setInterval(...ve){const{delegate:te}=F;return((null==te?void 0:te.setInterval)||setInterval)(...ve)},clearInterval(ve){const{delegate:te}=F;return((null==te?void 0:te.clearInterval)||clearInterval)(ve)},delegate:void 0};var le=P(8737);class ce extends J{constructor(te,ue){super(te,ue),this.scheduler=te,this.work=ue,this.pending=!1}schedule(te,ue=0){if(this.closed)return this;this.state=te;const fe=this.id,G=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(G,fe,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(G,this.id,ue),this}requestAsyncId(te,ue,fe=0){return F.setInterval(te.flush.bind(te,this),fe)}recycleAsyncId(te,ue,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return ue;F.clearInterval(ue)}execute(te,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(te,ue);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,ue){let G,fe=!1;try{this.work(te)}catch(W){fe=!0,G=W||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:te,scheduler:ue}=this,{actions:fe}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(fe,this),null!=te&&(this.id=this.recycleAsyncId(ue,te,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xe,ye,P)=>{P.d(ye,{v:()=>F});var s=P(6063);class J{constructor(ce,ve=J.now){this.schedulerActionCtor=ce,this.now=ve}schedule(ce,ve=0,te){return new this.schedulerActionCtor(this,ce).schedule(te,ve)}}J.now=s.l.now;class F extends J{constructor(ce,ve=J.now){super(ce,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ce){const{actions:ve}=this;if(this._active)return void ve.push(ce);let te;this._active=!0;do{if(te=ce.execute(ce.state,ce.delay))break}while(ce=ve.shift());if(this._active=!1,te){for(;ce=ve.shift();)ce.unsubscribe();throw te}}}},4986:(Xe,ye,P)=>{P.d(ye,{P:()=>le,z:()=>F});var s=P(4408);const F=new(P(7565).v)(s.o),le=F},6063:(Xe,ye,P)=>{P.d(ye,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(Xe,ye,P)=>{P.d(ye,{z:()=>s});const s={setTimeout(...J){const{delegate:F}=s;return((null==F?void 0:F.setTimeout)||setTimeout)(...J)},clearTimeout(J){const{delegate:F}=s;return((null==F?void 0:F.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(Xe,ye,P)=>{P.d(ye,{h:()=>J});const J=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xe,ye,P)=>{P.d(ye,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Xe,ye,P)=>{P.d(ye,{_6:()=>ve,jO:()=>le,yG:()=>ce});var s=P(576),J=P(3532);function F(te){return te[te.length-1]}function le(te){return(0,s.m)(F(te))?te.pop():void 0}function ce(te){return(0,J.K)(F(te))?te.pop():void 0}function ve(te,ue){return"number"==typeof F(te)?te.pop():ue}},8737:(Xe,ye,P)=>{function s(J,F){if(J){const le=J.indexOf(F);0<=le&&J.splice(le,1)}}P.d(ye,{P:()=>s})},3888:(Xe,ye,P)=>{function s(J){const le=J(ce=>{Error.call(ce),ce.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}P.d(ye,{d:()=>s})},2806:(Xe,ye,P)=>{P.d(ye,{O:()=>le,x:()=>F});var s=P(2416);let J=null;function F(ce){if(s.v.useDeprecatedSynchronousErrorHandling){const ve=!J;if(ve&&(J={errorThrown:!1,error:null}),ce(),ve){const{errorThrown:te,error:ue}=J;if(J=null,te)throw ue}}else ce()}function le(ce){s.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ce)}},9672:(Xe,ye,P)=>{function s(J,F,le,ce=0,ve=!1){const te=F.schedule(function(){le(),ve?J.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(J.add(te),!ve)return te}P.d(ye,{f:()=>s})},4671:(Xe,ye,P)=>{function s(J){return J}P.d(ye,{y:()=>s})},1144:(Xe,ye,P)=>{P.d(ye,{z:()=>s});const s=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Xe,ye,P)=>{P.d(ye,{D:()=>J});var s=P(576);function J(F){return Symbol.asyncIterator&&(0,s.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(Xe,ye,P)=>{function s(J){return"function"==typeof J}P.d(ye,{m:()=>s})},3670:(Xe,ye,P)=>{P.d(ye,{c:()=>F});var s=P(8822),J=P(576);function F(le){return(0,J.m)(le[s.L])}},6495:(Xe,ye,P)=>{P.d(ye,{T:()=>F});var s=P(2202),J=P(576);function F(le){return(0,J.m)(null==le?void 0:le[s.h])}},8239:(Xe,ye,P)=>{P.d(ye,{t:()=>J});var s=P(576);function J(F){return(0,s.m)(null==F?void 0:F.then)}},3260:(Xe,ye,P)=>{P.d(ye,{L:()=>le,Q:()=>F});var s=P(5987),J=P(576);function F(ce){return(0,s.FC)(this,arguments,function*(){const te=ce.getReader();try{for(;;){const{value:ue,done:fe}=yield(0,s.qq)(te.read());if(fe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(ue)}}finally{te.releaseLock()}})}function le(ce){return(0,J.m)(null==ce?void 0:ce.getReader)}},3532:(Xe,ye,P)=>{P.d(ye,{K:()=>J});var s=P(576);function J(F){return F&&(0,s.m)(F.schedule)}},4482:(Xe,ye,P)=>{P.d(ye,{A:()=>J,e:()=>F});var s=P(576);function J(le){return(0,s.m)(null==le?void 0:le.lift)}function F(le){return ce=>{if(J(ce))return ce.lift(function(ve){try{return le(ve,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Xe,ye,P)=>{function s(){}P.d(ye,{Z:()=>s})},7849:(Xe,ye,P)=>{P.d(ye,{h:()=>F});var s=P(2416),J=P(3410);function F(le){J.z.setTimeout(()=>{const{onUnhandledError:ce}=s.v;if(!ce)throw le;ce(le)})}},4532:(Xe,ye,P)=>{function s(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(ye,{z:()=>s})},5987:(Xe,ye,P)=>{function ue(z,ne,he,_e){return new(he||(he=Promise))(function(oe,vt){function Bt(Mt){try{at(_e.next(Mt))}catch(Pn){vt(Pn)}}function On(Mt){try{at(_e.throw(Mt))}catch(Pn){vt(Pn)}}function at(Mt){Mt.done?oe(Mt.value):function ke(oe){return oe instanceof he?oe:new he(function(vt){vt(oe)})}(Mt.value).then(Bt,On)}at((_e=_e.apply(z,ne||[])).next())})}function pe(z){return this instanceof pe?(this.v=z,this):new pe(z)}function ge(z,ne,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,_e=he.apply(z,ne||[]),oe=[];return ke={},vt("next"),vt("throw"),vt("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function vt(ln){_e[ln]&&(ke[ln]=function(Ii){return new Promise(function(yn,Cr){oe.push([ln,Ii,yn,Cr])>1||Bt(ln,Ii)})})}function Bt(ln,Ii){try{!function On(ln){ln.value instanceof pe?Promise.resolve(ln.value.v).then(at,Mt):Pn(oe[0][2],ln)}(_e[ln](Ii))}catch(yn){Pn(oe[0][3],yn)}}function at(ln){Bt("next",ln)}function Mt(ln){Bt("throw",ln)}function Pn(ln,Ii){ln(Ii),oe.shift(),oe.length&&Bt(oe[0][0],oe[0][1])}}function Ge(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ne=z[Symbol.asyncIterator];return ne?ne.call(z):(z=function re(z){var ne="function"==typeof Symbol&&Symbol.iterator,he=ne&&z[ne],_e=0;if(he)return he.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&_e>=z.length&&(z=void 0),{value:z&&z[_e++],done:!z}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),he={},_e("next"),_e("throw"),_e("return"),he[Symbol.asyncIterator]=function(){return this},he);function _e(oe){he[oe]=z[oe]&&function(vt){return new Promise(function(Bt,On){!function ke(oe,vt,Bt,On){Promise.resolve(On).then(function(at){oe({value:at,done:Bt})},vt)}(Bt,On,(vt=z[oe](vt)).done,vt.value)})}}}P.d(ye,{FC:()=>ge,KL:()=>Ge,mG:()=>ue,qq:()=>pe})},5e3:(Xe,ye,P)=>{P.d(ye,{$8M:()=>gc,$Z:()=>df,AFp:()=>ow,ALo:()=>Tm,AaK:()=>ue,BQk:()=>ey,CHM:()=>fh,CRH:()=>$0,CZH:()=>Sd,CqO:()=>n0,DdM:()=>Tf,EJc:()=>Ki,EiD:()=>Wg,EpF:()=>t0,F$t:()=>AD,F4k:()=>ny,FYo:()=>wE,FiY:()=>Be,G48:()=>gI,Gf:()=>bd,GfV:()=>B0,GkF:()=>ID,Gpc:()=>W,Gre:()=>ZD,Hsn:()=>kD,Ikx:()=>by,JOm:()=>Cs,JVY:()=>qg,L6k:()=>Kv,LAX:()=>Dp,LFG:()=>Rn,LSH:()=>Ip,Lbi:()=>zE,MAs:()=>rr,NdJ:()=>r0,O4$:()=>Aa,OlP:()=>Bn,Oqu:()=>_f,PXZ:()=>dI,Q6J:()=>Xb,QGY:()=>ty,Qsj:()=>Cm,R0b:()=>Qs,RDi:()=>dh,Rgc:()=>xm,SBq:()=>se,Sil:()=>Lm,Suo:()=>Ks,TTD:()=>_l,TgZ:()=>hf,Udp:()=>gr,VKq:()=>q0,VLi:()=>kf,WFA:()=>Xp,X6Q:()=>mI,XFs:()=>ut,Xpm:()=>ze,Y36:()=>Kp,YKP:()=>EE,YNc:()=>vD,Yjl:()=>_a,Yz7:()=>yn,ZZ4:()=>lv,_Bn:()=>bm,_UZ:()=>X_,_Vd:()=>Df,_c5:()=>bT,_uU:()=>y0,aQg:()=>cv,c2e:()=>aw,cJS:()=>Dr,cg1:()=>wy,d8E:()=>D0,dDg:()=>dw,deG:()=>_c,dqk:()=>Zt,eBb:()=>Vh,eFA:()=>ca,ekj:()=>ly,f3M:()=>T,g9A:()=>ZE,h0i:()=>ii,hGG:()=>Pf,hij:()=>Fc,iGM:()=>qy,ifc:()=>tn,ip1:()=>Ky,kL8:()=>JD,kcU:()=>_h,lG2:()=>ga,lcZ:()=>z0,mCW:()=>Ec,n5z:()=>Su,n_E:()=>tl,oAB:()=>Ut,oJD:()=>Sp,oxw:()=>Jp,pB0:()=>Qv,q3G:()=>ui,q4F:()=>Ry,qLn:()=>Fl,qOj:()=>mD,qZA:()=>Qp,qzn:()=>Qo,sBO:()=>lT,sIi:()=>Gp,s_b:()=>Am,soG:()=>Jy,tBr:()=>Ce,tb:()=>$E,tp0:()=>ft,uIk:()=>$r,uOi:()=>Jo,vHH:()=>Oe,vpe:()=>el,wAp:()=>gt,xp6:()=>CC,yhl:()=>jg,ynx:()=>J_,z2F:()=>Vm,z3N:()=>Ko,zSh:()=>Vb,zs3:()=>zs});var s=P(7579),J=P(727),F=P(8306),le=P(6451),ce=P(3099);function ve(a){for(let l in a)if(a[l]===ve)return l;throw Error("Could not find renamed property on target object.")}function te(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function ue(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ue).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function fe(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const G=ve({__forward_ref__:ve});function W(a){return a.__forward_ref__=W,a.toString=function(){return ue(this())},a}function re(a){return Ze(a)?a():a}function Ze(a){return"function"==typeof a&&a.hasOwnProperty(G)&&a.__forward_ref__===W}class Oe extends Error{constructor(l,c){super(function qe(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,c)),this.code=l}}function pe(a){return"string"==typeof a?a:null==a?"":String(a)}function ge(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():pe(a)}function Je(a,l){const c=l?` in ${l}`:"";throw new Oe(-201,`No provider for ${ge(a)} found${c}`)}function at(a,l){null==a&&function Mt(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function yn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Dr(a){return{providers:a.providers||[],imports:a.imports||[]}}function pi(a){return so(a,Rs)||so(a,Hi)}function so(a,l){return a.hasOwnProperty(l)?a[l]:null}function qn(a){return a&&(a.hasOwnProperty(Er)||a.hasOwnProperty(Pe))?a[Er]:null}const Rs=ve({\u0275prov:ve}),Er=ve({\u0275inj:ve}),Hi=ve({ngInjectableDef:ve}),Pe=ve({ngInjectorDef:ve});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let Gn;function cn(a){const l=Gn;return Gn=a,l}function ns(a,l,c){const d=pi(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ut.Optional?null:void 0!==l?l:void Je(ue(a),"Injector")}function Kn(a){return{toString:a}.toString()}var Fn=(()=>((Fn=Fn||{})[Fn.OnPush=0]="OnPush",Fn[Fn.Default=1]="Default",Fn))(),tn=(()=>{return(a=tn||(tn={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",tn;var a})();const ct="undefined"!=typeof globalThis&&globalThis,bt="undefined"!=typeof window&&window,oo="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=ct||"undefined"!=typeof global&&global||bt||oo,Mr={},mt=[],rs=ve({\u0275cmp:ve}),j=ve({\u0275dir:ve}),$=ve({\u0275pipe:ve}),U=ve({\u0275mod:ve}),q=ve({\u0275fac:ve}),Y=ve({__NG_ELEMENT_ID__:ve});let Ae=0;function ze(a){return Kn(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||mt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||tn.Emulated,id:"c",styles:a.styles||mt,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,g=a.features,v=a.pipes;return d.id+=Ae++,d.inputs=Os(a.inputs,c),d.outputs=Os(a.outputs),g&&g.forEach(C=>C(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(nn):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(fn):null,d})}function nn(a){return Qn(a)||function os(a){return a[j]||null}(a)}function fn(a){return function Ai(a){return a[$]||null}(a)}const lr={};function Ut(a){return Kn(()=>{const l={type:a.type,bootstrap:a.bootstrap||mt,declarations:a.declarations||mt,imports:a.imports||mt,exports:a.exports||mt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(lr[a.id]=a.type),l})}function Os(a,l){if(null==a)return Mr;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,l&&(l[f]=g)}return c}const ga=ze;function _a(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Qn(a){return a[rs]||null}function si(a,l){const c=a[U]||null;if(!c&&!0===l)throw new Error(`Type ${ue(a)} does not have '\u0275mod' property.`);return c}function ji(a){return Array.isArray(a)&&"object"==typeof a[1]}function ur(a){return Array.isArray(a)&&!0===a[1]}function ec(a){return 0!=(8&a.flags)}function nh(a){return 2==(2&a.flags)}function uo(a){return 1==(1&a.flags)}function pn(a){return null!==a.template}function ih(a){return 0!=(512&a[2])}function Po(a,l){return a.hasOwnProperty(q)?a[q]:null}class nc{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function _l(){return Fo}function Fo(a){return a.type.prototype.ngOnChanges&&(a.setInput=ch),op}function op(){const a=as(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===Mr)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function ch(a,l,c,d){const f=as(a)||function ho(a,l){return a[oi]=l}(a,{previous:Mr,current:null}),g=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[c],E=v[C];g[C]=new nc(E&&E.currentValue,l,v===Mr),a[d]=l}_l.ngInherit=!0;const oi="__ngSimpleChanges__";function as(a){return a[oi]||null}const yl="http://www.w3.org/2000/svg";let ic;function dh(a){ic=a}function vl(){return void 0!==ic?ic:"undefined"!=typeof document?document:void 0}function An(a){return!!a.listen}const cs={createRenderer:(a,l)=>vl()};function Nn(a){for(;Array.isArray(a);)a=a[0];return a}function Ns(a,l){return Nn(l[a])}function Oi(a,l){return Nn(l[a.index])}function us(a,l){return a.data[l]}function er(a,l){return a[l]}function tr(a,l){const c=l[a];return ji(c)?c:c[0]}function ai(a){return 4==(4&a[2])}function wa(a){return 128==(128&a[2])}function Pi(a,l){return null==l?null:a[l]}function No(a){a[18]=0}function mo(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const yt={lFrame:Dl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function wu(){return yt.bindingsEnabled}function Te(){return yt.lFrame.lView}function Ht(){return yt.lFrame.tView}function fh(a){return yt.lFrame.contextLView=a,a[8]}function wn(){let a=Ea();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ea(){return yt.lFrame.currentTNode}function Ni(a,l){const c=yt.lFrame;c.currentTNode=a,c.isParent=l}function Ls(){return yt.lFrame.isParent}function sc(){yt.lFrame.isParent=!1}function Ta(){return yt.isInCheckNoChangesMode}function Vo(a){yt.isInCheckNoChangesMode=a}function mi(){const a=yt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function ds(){return yt.lFrame.bindingIndex++}function jr(a){const l=yt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function ap(a,l){const c=yt.lFrame;c.bindingIndex=c.bindingRootIndex=a,xa(l)}function xa(a){yt.lFrame.currentDirectiveIndex=a}function Bo(a){const l=yt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Sa(){return yt.lFrame.currentQueryIndex}function Cl(a){yt.lFrame.currentQueryIndex=a}function lc(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Cu(a,l,c){if(c&ut.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||c&ut.Host||(f=lc(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,a=g}const d=yt.lFrame=lp();return d.currentTNode=l,d.lView=a,!0}function Ia(a){const l=lp(),c=a[1];yt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function lp(){const a=yt.lFrame,l=null===a?null:a.child;return null===l?Dl(a):l}function Dl(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function cc(){const a=yt.lFrame;return yt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const El=cc;function uc(){const a=cc();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function li(){return yt.lFrame.selectedIndex}function Ci(a){yt.lFrame.selectedIndex=a}function Ln(){const a=yt.lFrame;return us(a.tView,a.selectedIndex)}function Aa(){yt.lFrame.currentNamespace=yl}function _h(){!function cp(){yt.lFrame.currentNamespace=null}()}function Eu(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const g=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:k}=g;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),C&&((a.contentHooks||(a.contentHooks=[])).push(c,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,C)),E&&(a.viewHooks||(a.viewHooks=[])).push(-c,E),I&&((a.viewHooks||(a.viewHooks=[])).push(c,I),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,I)),null!=k&&(a.destroyHooks||(a.destroyHooks=[])).push(c,k)}}function _o(a,l,c){dp(a,l,3,c)}function dc(a,l,c,d){(3&a[2])===c&&dp(a,l,c,d)}function hc(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function dp(a,l,c,d){const g=null!=d?d:-1,v=l.length-1;let C=0;for(let E=void 0!==d?65535&a[18]:0;E<v;E++)if("number"==typeof l[E+1]){if(C=l[E],null!=d&&C>=d)break}else l[E]<0&&(a[18]+=65536),(C<g||-1==g)&&(vh(a,c,l,E),a[18]=(4294901760&a[18])+E+2),E++}function vh(a,l,c,d){const f=c[d]<0,g=c[d+1],C=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class Vn{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function pc(a,l,c){const d=An(a);let f=0;for(;f<c.length;){const g=c[f];if("number"==typeof g){if(0!==g)break;f++;const v=c[f++],C=c[f++],E=c[f++];d?a.setAttribute(l,C,E,v):l.setAttributeNS(v,C,E)}else{const v=g,C=c[++f];kn(v)?d&&a.setProperty(l,v,C):d?a.setAttribute(l,v,C):l.setAttribute(v,C),f++}}return f}function dn(a){return 3===a||4===a||6===a}function kn(a){return 64===a.charCodeAt(0)}function Li(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||Dh(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function Dh(a,l,c,d,f){let g=0,v=a.length;if(-1===l)v=-1;else for(;g<a.length;){const C=a[g++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=g-1;break}}}for(;g<a.length;){const C=a[g];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(a[g+1]=f));if(d===a[g+1])return void(a[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(a.splice(v,0,l),g=v+1),a.splice(g++,0,c),null!==d&&a.splice(g++,0,d),null!==f&&a.splice(g++,0,f)}function Eh(a){return-1!==a}function Tl(a){return 32767&a}function Ml(a,l){let c=function Th(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let yo=!0;function hs(a){const l=yo;return yo=a,l}let xl=0;function vo(a,l){const c=Ra(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,mc(d.data,a),mc(l,null),mc(d.blueprint,null));const f=fs(a,l),g=a.injectorIndex;if(Eh(f)){const v=Tl(f),C=Ml(f,l),E=C[1].data;for(let I=0;I<8;I++)l[g+I]=C[v+I]|E[v+I]}return l[g+8]=f,g}function mc(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Ra(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function fs(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){const g=f[1],v=g.type;if(d=2===v?g.declTNode:1===v?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function ci(a,l,c){!function Bs(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Y)&&(d=c[Y]),null==d&&(d=c[Y]=xl++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function Ho(a,l,c){if(c&ut.Optional)return a;Je(l,"NodeInjector")}function xh(a,l,c,d){if(c&ut.Optional&&void 0===d&&(d=null),0==(c&(ut.Self|ut.Host))){const f=a[9],g=cn(void 0);try{return f?f.get(l,d,c&ut.Optional):ns(l,d,c&ut.Optional)}finally{cn(g)}}return Ho(d,l,c)}function jo(a,l,c,d=ut.Default,f){if(null!==a){const g=function Ar(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Y)?a[Y]:void 0;return"number"==typeof l?l>=0?255&l:Ir:l}(c);if("function"==typeof g){if(!Cu(l,a,d))return d&ut.Host?Ho(f,c,d):xh(l,c,d,f);try{const v=g(d);if(null!=v||d&ut.Optional)return v;Je(c)}finally{El()}}else if("number"==typeof g){let v=null,C=Ra(a,l),E=-1,I=d&ut.Host?l[16][6]:null;for((-1===C||d&ut.SkipSelf)&&(E=-1===C?fs(a,l):l[C+8],-1!==E&&nr(d,!1)?(v=l[1],C=Tl(E),l=Ml(E,l)):C=-1);-1!==C;){const k=l[1];if(Sh(g,C,k.data)){const N=bo(C,l,c,v,d,I);if(N!==xu)return N}E=l[C+8],-1!==E&&nr(d,l[1].data[C+8]===I)&&Sh(g,C,l)?(v=k,C=Tl(E),l=Ml(E,l)):C=-1}}}return xh(l,c,d,f)}const xu={};function Ir(){return new Us(wn(),Te())}function bo(a,l,c,d,f,g){const v=l[1],C=v.data[a+8],k=qo(C,v,c,null==d?nh(C)&&yo:d!=v&&0!=(3&C.type),f&ut.Host&&g===C);return null!==k?Mn(l,v,k,C):xu}function qo(a,l,c,d,f){const g=a.providerIndexes,v=l.data,C=1048575&g,E=a.directiveStart,k=g>>20,Z=f?C+k:a.directiveEnd;for(let X=d?C:C+k;X<Z;X++){const be=v[X];if(X<E&&c===be||X>=E&&be.type===c)return X}if(f){const X=v[E];if(X&&pn(X)&&X.type===c)return E}return null}function Mn(a,l,c,d){let f=a[c];const g=l.data;if(function hp(a){return a instanceof Vn}(f)){const v=f;v.resolving&&function Re(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${a}${c}`)}(ge(g[c]));const C=hs(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?cn(v.injectImpl):null;Cu(a,d,ut.Default);try{f=a[c]=v.factory(void 0,g,a,d),l.firstCreatePass&&c>=d.directiveStart&&function up(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(d){const v=Fo(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,g))}(c,g[c],l)}finally{null!==E&&cn(E),hs(C),v.resolving=!1,El()}}return f}function Sh(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function nr(a,l){return!(a&ut.Self||a&ut.Host&&l)}class Us{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return jo(this._tNode,this._lView,l,d,c)}}function Su(a){return Kn(()=>{const l=a.prototype.constructor,c=l[q]||ps(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const g=f[q]||ps(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function ps(a){return Ze(a)?()=>{const l=ps(re(a));return l&&l()}:Po(a)}function gc(a){return function Mu(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(dn(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===l)return c[f+1];f+=2}}}return null}(wn(),a)}const wo="__parameters__";function Co(a,l,c){return Kn(()=>{const d=function gs(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(E,I,k){const N=E.hasOwnProperty(wo)?E[wo]:Object.defineProperty(E,wo,{value:[]})[wo];for(;N.length<=k;)N.push(null);return(N[k]=N[k]||[]).push(v),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class Bn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=yn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _c=new Bn("AnalyzeForEntryComponents");function mn(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),mn(d,l)):l!==a&&l.push(d)}return l}function xn(a,l){a.forEach(c=>Array.isArray(c)?xn(c,l):l(c))}function Iu(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Au(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function La(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function dr(a,l,c){let d=Zo(a,l);return d>=0?a[1|d]=c:(d=~d,function Ru(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function kh(a,l){const c=Zo(a,l);if(c>=0)return a[1|c]}function Zo(a,l){return function Fu(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const g=d+(f-d>>1),v=a[g<<c];if(l===v)return g<<c;v>l?f=g:d=g+1}return~(f<<c)}(a,l,1)}const hr={},js="__NG_DI_FLAG__",bc="ngTempTokenPath",ys=/\n/gm,qr="__source",wc=ve({provide:String,useValue:ve});let Cc;function Ba(a){const l=Cc;return Cc=a,l}function kl(a,l=ut.Default){if(void 0===Cc)throw new Oe(203,"");return null===Cc?ns(a,void 0,l):Cc.get(a,l&ut.Optional?null:void 0,l)}function Rn(a,l=ut.Default){return(function Zn(){return Gn}()||kl)(re(a),l)}const T=Rn;function x(a){const l=[];for(let c=0;c<a.length;c++){const d=re(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Oe(900,"");let f,g=ut.Default;for(let v=0;v<d.length;v++){const C=d[v],E=V(C);"number"==typeof E?-1===E?f=C.token:g|=E:f=C}l.push(Rn(f,g))}else l.push(Rn(d))}return l}function R(a,l){return a[js]=l,a.prototype[js]=l,a}function V(a){return a[js]}const Ce=R(Co("Inject",a=>({token:a})),-1),Be=R(Co("Optional"),8),ft=R(Co("SkipSelf"),4);let Nh,vp;function bs(a){var l;return(null===(l=function Rl(){if(void 0===Nh&&(Nh=null,Zt.trustedTypes))try{Nh=Zt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Nh}())||void 0===l?void 0:l.createHTML(a))||a}function Lh(){if(void 0===vp&&(vp=null,Zt.trustedTypes))try{vp=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return vp}function Uu(a){var l;return(null===(l=Lh())||void 0===l?void 0:l.createHTML(a))||a}function bp(a){var l;return(null===(l=Lh())||void 0===l?void 0:l.createScriptURL(a))||a}class To{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Wo extends To{getTypeName(){return"HTML"}}class wp extends To{getTypeName(){return"Style"}}class Hg extends To{getTypeName(){return"Script"}}class Cp extends To{getTypeName(){return"URL"}}class Wv extends To{getTypeName(){return"ResourceURL"}}function Ko(a){return a instanceof To?a.changingThisBreaksApplicationSecurity:a}function Qo(a,l){const c=jg(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function jg(a){return a instanceof To&&a.getTypeName()||null}function qg(a){return new Wo(a)}function Kv(a){return new wp(a)}function Vh(a){return new Hg(a)}function Dp(a){return new Cp(a)}function Qv(a){return new Wv(a)}class Xv{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(bs(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Xo{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=bs(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=bs(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Ep=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Tp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ec(a){return(a=String(a)).match(Ep)||a.match(Tp)?a:"unsafe:"+a}function ws(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function ju(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const qu=ws("area,br,col,hr,img,wbr"),Zg=ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Uh=ws("rp,rt"),Hh=ju(qu,ju(Zg,ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ju(Uh,ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ju(Uh,Zg)),zg=ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gu=ws("srcset"),Zu=ju(zg,Gu,ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zu=ws("script,style,template");class Mp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!Hh.hasOwnProperty(c))return this.sanitizedSomething=!0,!zu.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,C=v.toLowerCase();if(!Zu.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=g.value;zg[C]&&(E=Ec(E)),Gu[C]&&(a=E,E=(a=String(a)).split(",").map(l=>Ec(l.trim())).join(", ")),this.buf.push(" ",v,'="',xp(E),'"')}var a;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();Hh.hasOwnProperty(c)&&!qu.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(xp(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const $g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yg=/([^\#-~ |!])/g;function xp(a){return a.replace(/&/g,"&amp;").replace($g,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Yg,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tc;function Wg(a,l){let c=null;try{Tc=Tc||function Bh(a){const l=new Xo(a);return function Jv(){try{return!!(new window.DOMParser).parseFromString(bs(""),"text/html")}catch(a){return!1}}()?new Xv(l):l}(a);let d=l?String(l):"";c=Tc.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=Tc.getInertBodyElement(d)}while(d!==g);return bs((new Mp).sanitizeChildren(Mc(c)||c))}finally{if(c){const d=Mc(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Mc(a){return"content"in a&&function $u(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var ui=(()=>((ui=ui||{})[ui.NONE=0]="NONE",ui[ui.HTML=1]="HTML",ui[ui.STYLE=2]="STYLE",ui[ui.SCRIPT=3]="SCRIPT",ui[ui.URL=4]="URL",ui[ui.RESOURCE_URL=5]="RESOURCE_URL",ui))();function Sp(a){const l=Ol();return l?Uu(l.sanitize(ui.HTML,a)||""):Qo(a,"HTML")?Uu(Ko(a)):Wg(vl(),pe(a))}function Ip(a){const l=Ol();return l?l.sanitize(ui.URL,a)||"":Qo(a,"URL")?Ko(a):Ec(pe(a))}function Jo(a){const l=Ol();if(l)return bp(l.sanitize(ui.RESOURCE_URL,a)||"");if(Qo(a,"ResourceURL"))return bp(Ko(a));throw new Oe(904,"")}function Ol(){const a=Te();return a&&a[12]}const sb="__ngContext__";function hn(a,l){a[sb]=l}function xc(a){const l=function nt(a){return a[sb]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Rp(a){return a.ngOriginalError}function Op(a,...l){a.error(...l)}class Fl{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=function $n(a){return a&&a.ngErrorLogger||Op}(l);d(this._console,"ERROR",l),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&Rp(l);for(;c&&Rp(c);)c=Rp(c);return c||null}}const Ku=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function Gs(a){return a instanceof Function?a():a}var Cs=(()=>((Cs=Cs||{})[Cs.Important=1]="Important",Cs[Cs.DashCase=2]="DashCase",Cs))();function Fp(a,l){return undefined(a,l)}function pr(a){const l=a[3];return ur(l)?l[3]:l}function Xu(a){return Zh(a[13])}function Zs(a){return Zh(a[4])}function Zh(a){for(;null!==a&&!ur(a);)a=a[4];return a}function ja(a,l,c,d,f){if(null!=d){let g,v=!1;ur(d)?g=d:ji(d)&&(v=!0,d=d[0]);const C=Nn(d);0===a&&null!==c?null==f?ee(l,c,C):B(l,c,C,f||null,!0):1===a&&null!==c?B(l,c,C,f||null,!0):2===a?function Lp(a,l,c){const d=tt(a,l);d&&function xe(a,l,c,d){An(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}(l,C,v):3===a&&l.destroyNode(C),null!=g&&function mb(a,l,c,d,f){const g=c[7];g!==Nn(c)&&ja(l,a,d,g,f);for(let C=10;C<c.length;C++){const E=c[C];Vl(E[1],E,a,l,d,g)}}(l,a,g,c,f)}}function Nl(a,l,c){return An(a)?a.createElement(l,c):null===c?a.createElement(l):a.createElementNS(c,l)}function Rr(a,l){const c=a[9],d=c.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,mo(f,-1)),c.splice(d,1)}function Ju(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&Rr(f,d),l>0&&(a[c-1][4]=d[4]);const g=Au(a,10+l);!function l_(a,l){Vl(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function y(a,l){if(!(256&l[2])){const c=l[11];An(c)&&c.destroyNode&&Vl(a,l,c,3,null,null),function Np(a){let l=a[13];if(!l)return p(a[1],a);for(;l;){let c=null;if(ji(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)ji(l)&&p(l[1],l),l=l[3];null===l&&(l=a),ji(l)&&p(l[1],l),c=l&&l[4]}l=c}}(l)}}function p(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function b(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof Vn)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],E=g[v+1];try{E.call(C)}finally{}}else try{g.call(f)}finally{}}}}(a,l),function m(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],C="function"==typeof v?v(l):Nn(l[v]),E=d[f=c[g+2]],I=c[g+3];"boolean"==typeof I?C.removeEventListener(c[g],E,I):I>=0?d[f=I]():d[f=-I].unsubscribe(),g+=2}else{const v=d[f=c[g+1]];c[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)d[g]();l[7]=null}}(a,l),1===l[1].type&&An(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&ur(l[3])){c!==l[3]&&Rr(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function M(a,l,c){return function A(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===tn.None||f===tn.Emulated)return null}return Oi(d,c)}(a,l.parent,c)}function B(a,l,c,d,f){An(a)?a.insertBefore(l,c,d,f):l.insertBefore(c,d,f)}function ee(a,l,c){An(a)?a.appendChild(l,c):l.appendChild(c)}function Me(a,l,c,d,f){null!==d?B(a,l,c,d,f):ee(a,l,c)}function tt(a,l){return An(a)?a.parentNode(l):l.parentNode}function qt(a,l,c){return Yn(a,l,c)}let Yn=function Ti(a,l,c){return 40&a.type?Oi(a,c):null};function ia(a,l,c,d){const f=M(a,d,l),g=l[11],C=qt(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)Me(g,f,c[E],C,!1);else Me(g,f,c,C,!1)}function ed(a,l){if(null!==l){const c=l.type;if(3&c)return Oi(l,a);if(4&c)return td(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return ed(a,d);{const f=a[l.index];return ur(f)?td(-1,f):Nn(f)}}if(32&c)return Fp(l,a)()||Nn(a[l.index]);{const d=$h(a,l);return null!==d?Array.isArray(d)?d[0]:ed(pr(a[16]),d):ed(a,l.next)}}return null}function $h(a,l){return null!==l?a[16][6].projection[l.projection]:null}function td(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return ed(d,f)}return l[7]}function Ll(a,l,c,d,f,g,v){for(;null!=c;){const C=d[c.index],E=c.type;if(v&&0===l&&(C&&hn(Nn(C),d),c.flags|=4),64!=(64&c.flags))if(8&E)Ll(a,l,c.child,d,f,g,!1),ja(l,a,f,C,g);else if(32&E){const I=Fp(c,d);let k;for(;k=I();)ja(l,a,f,k,g);ja(l,a,f,C,g)}else 16&E?Yh(a,l,d,c,f,g):ja(l,a,f,C,g);c=v?c.projectionNext:c.next}}function Vl(a,l,c,d,f,g){Ll(c,d,a.firstChild,l,f,g,!1)}function Yh(a,l,c,d,f,g){const v=c[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)ja(l,a,f,E[I],g);else Ll(a,l,E,v[3],f,g,!0)}function ra(a,l,c){An(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function Wh(a,l,c){An(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function gC(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===d||a.charCodeAt(f+g)<=32)return f}c=f+1}}const nd="ng-template";function Vp(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==gC(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function gb(a){return 4===a.type&&a.value!==nd}function lx(a,l,c){return l===(4!==a.type||c?a.value:nd)}function _C(a,l,c){let d=4;const f=a.attrs||[],g=function vC(a){for(let l=0;l<a.length;l++)if(dn(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const E=l[C];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!lx(a,E,c)||""===E&&1===l.length){if(sa(d))return!1;v=!0}}else{const I=8&d?E:l[++C];if(8&d&&null!==a.attrs){if(!Vp(a.attrs,I,c)){if(sa(d))return!1;v=!0}continue}const N=cx(8&d?"class":E,f,gb(a),c);if(-1===N){if(sa(d))return!1;v=!0;continue}if(""!==I){let Z;Z=N>g?"":f[N+1].toLowerCase();const X=8&d?Z:null;if(X&&-1!==gC(X,I,0)||2&d&&I!==Z){if(sa(d))return!1;v=!0}}}}else{if(!v&&!sa(d)&&!sa(E))return!1;if(v&&sa(E))continue;v=!1,d=E|1&d}}return sa(d)||v}function sa(a){return 0==(1&a)}function cx(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let g=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function bC(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function yC(a,l,c=!1){for(let d=0;d<l.length;d++)if(_C(a,l[d],c))return!0;return!1}function d_(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function h_(a,l){return a?":not("+l.trim()+")":l}function dx(a){let l=a[0],c=1,d=2,f="",g=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const C=a[++c];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!sa(v)&&(l+=h_(g,f),f=""),d=v,g=g||!sa(d);c++}return""!==f&&(l+=h_(g,f)),l}const Ft={};function CC(a){Or(Ht(),Te(),li()+a,Ta())}function Or(a,l,c,d){if(!d)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&_o(l,g,c)}else{const g=a.preOrderHooks;null!==g&&dc(l,g,0,c)}Ci(c)}function p_(a,l){return a<<17|l<<2}function Pr(a){return a>>17&32767}function yb(a){return 2|a}function Gi(a){return(131068&a)>>2}function vb(a,l){return-131069&a|l<<2}function bb(a){return 1|a}function FC(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],g=c[d+1];if(-1!==g){const v=a.data[g];Cl(f),v.contentQueries(2,l[g],g)}}}function Qh(a,l,c,d,f,g,v,C,E,I){const k=l.blueprint.slice();return k[0]=f,k[2]=140|d,No(k),k[3]=k[15]=a,k[8]=c,k[10]=v||a&&a[10],k[11]=C||a&&a[11],k[12]=E||a&&a[12]||null,k[9]=I||a&&a[9]||null,k[6]=g,k[16]=2==l.type?a[16]:k,k}function Ds(a,l,c,d,f){let g=a.data[l];if(null===g)g=function b_(a,l,c,d,f){const g=Ea(),v=Ls(),E=a.data[l]=function xx(a,l,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=E),null!==g&&(v?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E)),E}(a,l,c,d,f),function mh(){return yt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const v=function go(){const a=yt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Ni(g,!0),g}function rd(a,l,c,d){if(0===c)return-1;const f=l.length;for(let g=0;g<c;g++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function Bp(a,l,c){Ia(l);try{const d=a.viewQuery;null!==d&&S_(1,d,c);const f=a.template;null!==f&&LC(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&FC(a,l),a.staticViewQueries&&S_(2,a.viewQuery,c);const g=a.components;null!==g&&function NC(a,l){for(let c=0;c<l.length;c++)Nx(a,l[c])}(l,g)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,uc()}}function Xh(a,l,c,d){const f=l[2];if(256==(256&f))return;Ia(l);const g=Ta();try{No(l),function ac(a){return yt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&LC(a,l,c,2,d);const v=3==(3&f);if(!g)if(v){const I=a.preOrderCheckHooks;null!==I&&_o(l,I,null)}else{const I=a.preOrderHooks;null!==I&&dc(l,I,0,null),hc(l,0)}if(function Px(a){for(let l=Xu(a);null!==l;l=Zs(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],g=f[3];0==(1024&f[2])&&mo(g,1),f[2]|=1024}}}(l),function Ob(a){for(let l=Xu(a);null!==l;l=Zs(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];wa(d)&&Xh(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&FC(a,l),!g)if(v){const I=a.contentCheckHooks;null!==I&&_o(l,I)}else{const I=a.contentHooks;null!==I&&dc(l,I,1),hc(l,1)}!function Dx(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Ci(~f);else{const g=f,v=c[++d],C=c[++d];ap(v,g),C(2,l[g])}}}finally{Ci(-1)}}(a,l);const C=a.components;null!==C&&function v_(a,l){for(let c=0;c<l.length;c++)Fx(a,l[c])}(l,C);const E=a.viewQuery;if(null!==E&&S_(2,E,d),!g)if(v){const I=a.viewCheckHooks;null!==I&&_o(l,I)}else{const I=a.viewHooks;null!==I&&dc(l,I,2),hc(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,mo(l[3],-1))}finally{uc()}}function Ex(a,l,c,d){const f=l[10],g=!Ta(),v=ai(l);try{g&&!v&&f.begin&&f.begin(),v&&Bp(a,l,d),Xh(a,l,c,d)}finally{g&&!v&&f.end&&f.end()}}function LC(a,l,c,d,f){const g=li(),v=2&d;try{Ci(-1),v&&l.length>20&&Or(a,l,20,Ta()),c(d,f)}finally{Ci(g)}}function VC(a,l,c){if(ec(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function w_(a,l,c){!wu()||(function D_(a,l,c,d){const f=c.directiveStart,g=c.directiveEnd;a.firstCreatePass||vo(c,l),hn(d,l);const v=c.initialInputs;for(let C=f;C<g;C++){const E=a.data[C],I=pn(E);I&&Ox(l,c,E);const k=Mn(l,a,C,c);hn(k,l),null!==v&&zC(0,C-f,k,E,0,v),I&&(tr(c.index,l)[8]=k)}}(a,l,c,Oi(c,l)),128==(128&c.flags)&&function Ab(a,l,c){const d=c.directiveStart,f=c.directiveEnd,v=c.index,C=function wl(){return yt.lFrame.currentDirectiveIndex}();try{Ci(v);for(let E=d;E<f;E++){const I=a.data[E],k=l[E];xa(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&HC(I,k)}}finally{Ci(-1),xa(C)}}(a,l,c))}function Jh(a,l,c=Oi){const d=l.localNames;if(null!==d){let f=l.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?c(l,a):a[v];a[f++]=C}}}function BC(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Sb(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Sb(a,l,c,d,f,g,v,C,E,I){const k=20+d,N=k+f,Z=function Tx(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Ft);return c}(k,N),X="function"==typeof I?I():I;return Z[1]={type:a,blueprint:Z,template:c,queries:null,viewQuery:C,declTNode:l,data:Z.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:X,incompleteFirstPass:!1}}function UC(a,l,c,d){const f=I_(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&Nb(a).push(d,f.length-1))}function Sx(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function Mo(a,l,c,d,f,g,v,C){const E=Oi(l,c);let k,I=l.inputs;!C&&null!=I&&(k=I[d])?(A_(a,c,k,d,f),nh(l)&&function rR(a,l){const c=tr(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function iR(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,An(g)?g.setProperty(E,d,f):kn(d)||(E.setProperty?E.setProperty(d,f):E[d]=f))}function Ib(a,l,c,d){let f=!1;if(wu()){const g=function kx(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];yC(c,v.selectors,!1)&&(f||(f=[]),ci(vo(c,l),a,v.type),pn(v)?(jC(a,c),f.unshift(v)):f.push(v))}return f}(a,l,c),v=null===d?null:{"":-1};if(null!==g){f=!0,GC(c,a.data.length,g.length);for(let k=0;k<g.length;k++){const N=g[k];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,I=rd(a,l,g.length,null);for(let k=0;k<g.length;k++){const N=g[k];c.mergedAttrs=Li(c.mergedAttrs,N.hostAttrs),ZC(a,c,l,I,N),Rx(I,N,v),null!==N.contentQueries&&(c.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(c.flags|=128);const Z=N.type.prototype;!C&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),C=!0),!E&&(Z.ngOnChanges||Z.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),E=!0),I++}!function nR(a,l){const d=l.directiveEnd,f=a.data,g=l.attrs,v=[];let C=null,E=null;for(let I=l.directiveStart;I<d;I++){const k=f[I],N=k.inputs,Z=null===g||gb(l)?null:kb(N,g);v.push(Z),C=Sx(N,I,C),E=Sx(k.outputs,I,E)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=C,l.outputs=E}(a,c)}v&&function qC(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=c[l[f+1]];if(null==g)throw new Oe(-301,`Export of name '${l[f+1]}' not found!`);d.push(l[f],g)}}}(c,d,v)}return c.mergedAttrs=Li(c.mergedAttrs,c.attrs),f}function Zi(a,l,c,d,f,g){const v=g.hostBindings;if(v){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const E=~l.index;(function oa(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(C)!=E&&C.push(E),C.push(d,f,v)}}function HC(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function jC(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Rx(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;pn(l)&&(c[""]=a)}}function GC(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function ZC(a,l,c,d,f){a.data[d]=f;const g=f.factory||(f.factory=Po(f.type)),v=new Vn(g,pn(f),null);a.blueprint[d]=v,c[d]=v,Zi(a,l,0,d,rd(a,c,f.hostVars,Ft),f)}function Ox(a,l,c){const d=Oi(l,a),f=BC(c),g=a[10],v=kc(a,Qh(a,f,null,c.onPush?64:16,d,l,g,g.createRenderer(d,c),null,null));a[l.index]=v}function Jn(a,l,c,d,f,g){const v=Oi(a,l);!function ef(a,l,c,d,f,g,v){if(null==g)An(a)?a.removeAttribute(l,f,c):l.removeAttribute(f);else{const C=null==v?pe(g):v(g,d||"",f);An(a)?a.setAttribute(l,f,C,c):c?l.setAttributeNS(c,f,C):l.setAttribute(f,C)}}(l[11],v,g,a.value,c,d,f)}function zC(a,l,c,d,f,g){const v=g[l];if(null!==v){const C=d.setInput;for(let E=0;E<v.length;){const I=v[E++],k=v[E++],N=v[E++];null!==C?d.setInput(c,N,I,k):c[k]=N}}}function kb(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function E_(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function Fx(a,l){const c=tr(l,a);if(wa(c)){const d=c[1];80&c[2]?Xh(d,c,d.template,c[8]):c[5]>0&&Pb(c)}}function Pb(a){for(let d=Xu(a);null!==d;d=Zs(d))for(let f=10;f<d.length;f++){const g=d[f];if(1024&g[2]){const v=g[1];Xh(v,g,v.template,g[8])}else g[5]>0&&Pb(g)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=tr(c[d],a);wa(f)&&f[5]>0&&Pb(f)}}function Nx(a,l){const c=tr(l,a),d=c[1];(function Lx(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),Bp(d,c,c[8])}function kc(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function T_(a){for(;a;){a[2]|=64;const l=pr(a);if(ih(a)&&!l)return a;a=l}return null}function Fb(a,l,c){const d=l[10];d.begin&&d.begin();try{Xh(a,l,a.template,c)}catch(f){throw KC(l,f),f}finally{d.end&&d.end()}}function $C(a){!function x_(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=xc(c),f=d[1];Ex(f,d,f.template,c)}}(a[8])}function S_(a,l,c){Cl(0),l(a,c)}const WC=(()=>Promise.resolve(null))();function I_(a){return a[7]||(a[7]=[])}function Nb(a){return a.cleanup||(a.cleanup=[])}function tf(a,l,c){return(null===a||pn(a))&&(c=function hh(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function KC(a,l){const c=a[9],d=c?c.get(Fl,null):null;d&&d.handleError(l)}function A_(a,l,c,d,f){for(let g=0;g<c.length;){const v=c[g++],C=c[g++],E=l[v],I=a.data[v];null!==I.setInput?I.setInput(E,f,d,C):E[C]=f}}function Za(a,l,c){const d=Ns(l,a);!function a_(a,l,c){An(a)?a.setValue(l,c):l.textContent=c}(a[11],d,c)}function k_(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?g=C:1==g?f=fe(f,C):2==g&&(d=fe(d,C+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}const Up=new Bn("INJECTOR",-1);class XC{get(l,c=hr){if(c===hr){const d=new Error(`NullInjectorError: No provider for ${ue(l)}!`);throw d.name="NullInjectorError",d}return c}}const Vb=new Bn("Set Injector scope."),Hp={},R_={};let jp;function O_(){return void 0===jp&&(jp=new XC),jp}function P_(a,l=null,c=null,d){const f=Bb(a,l,c,d);return f._resolveInjectorDefTypes(),f}function Bb(a,l=null,c=null,d){return new Hx(a,c,l||O_(),d)}class Hx{constructor(l,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];c&&xn(c,C=>this.processProvider(C,l,c)),xn([l],C=>this.processInjectorType(C,[],g)),this.records.set(Up,nf(void 0,this));const v=this.records.get(Vb);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof l?null:ue(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=hr,d=ut.Default){this.assertNotDestroyed();const f=Ba(this),g=cn(void 0);try{if(!(d&ut.SkipSelf)){let C=this.records.get(l);if(void 0===C){const E=function L_(a){return"function"==typeof a||"object"==typeof a&&a instanceof Bn}(l)&&pi(l);C=E&&this.injectableDefInScope(E)?nf(F_(l),Hp):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&ut.Self?O_():this.parent).get(l,c=d&ut.Optional&&c===hr?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[bc]=v[bc]||[]).unshift(ue(l)),f)throw v;return function K(a,l,c,d){const f=a[bc];throw l[qr]&&f.unshift(l[qr]),a.message=function ae(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=ue(l);if(Array.isArray(l))f=l.map(ue).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):ue(C)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(ys,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[bc]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{cn(g),Ba(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,f)=>l.push(ue(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,"")}processInjectorType(l,c,d){if(!(l=re(l)))return!1;let f=qn(l);const g=null==f&&l.ngModule||void 0,v=void 0===g?l:g,C=-1!==d.indexOf(v);if(void 0!==g&&(f=qn(g)),null==f)return!1;if(null!=f.imports&&!C){let k;d.push(v);try{xn(f.imports,N=>{this.processInjectorType(N,c,d)&&(void 0===k&&(k=[]),k.push(N))})}finally{}if(void 0!==k)for(let N=0;N<k.length;N++){const{ngModule:Z,providers:X}=k[N];xn(X,be=>this.processProvider(be,Z,X||mt))}}this.injectorDefTypes.add(v);const E=Po(v)||(()=>new v);this.records.set(v,nf(E,Hp));const I=f.providers;if(null!=I&&!C){const k=l;xn(I,N=>this.processProvider(N,k,I))}return void 0!==g&&void 0!==l.providers}processProvider(l,c,d){let f=rf(l=re(l))?l:re(l&&l.provide);const g=function jx(a,l,c){return eD(a)?nf(void 0,a.useValue):nf(JC(a),Hp)}(l);if(rf(l)||!0!==l.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=nf(void 0,Hp,!0),v.factory=()=>x(v.multi),this.records.set(f,v)),f=l,v.multi.push(l)}this.records.set(f,g)}hydrate(l,c){return c.value===Hp&&(c.value=R_,c.value=c.factory()),"object"==typeof c.value&&c.value&&function $x(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=re(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function F_(a){const l=pi(a),c=null!==l?l.factory:Po(a);if(null!==c)return c;if(a instanceof Bn)throw new Oe(204,"");if(a instanceof Function)return function N_(a){const l=a.length;if(l>0)throw La(l,"?"),new Oe(204,"");const c=function Xi(a){const l=a&&(a[Rs]||a[Hi]);if(l){const c=function en(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Oe(204,"")}function JC(a,l,c){let d;if(rf(a)){const f=re(a);return Po(f)||F_(f)}if(eD(a))d=()=>re(a.useValue);else if(function Gx(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...x(a.deps||[]));else if(function qx(a){return!(!a||!a.useExisting)}(a))d=()=>Rn(re(a.useExisting));else{const f=re(a&&(a.useClass||a.provide));if(!function zx(a){return!!a.deps}(a))return Po(f)||F_(f);d=()=>new f(...x(a.deps))}return d}function nf(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function eD(a){return null!==a&&"object"==typeof a&&wc in a}function rf(a){return"function"==typeof a}let zs=(()=>{class a{static create(c,d){var f;if(Array.isArray(c))return P_({name:""},d,c,"");{const g=null!==(f=c.name)&&void 0!==f?f:"";return P_({name:g},c.parent,c.providers,g)}}}return a.THROW_IF_NOT_FOUND=hr,a.NULL=new XC,a.\u0275prov=yn({token:a,providedIn:"any",factory:()=>Rn(Up)}),a.__NG_ELEMENT_ID__=-1,a})();function Kx(a,l){Eu(xc(a)[1],wn())}function mD(a){let l=function Qx(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(pn(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Oe(903,"");f=l.\u0275dir}if(f){if(c){d.push(f);const v=a;v.inputs=gD(a.inputs),v.declaredInputs=gD(a.declaredInputs),v.outputs=gD(a.outputs);const C=f.hostBindings;C&&dR(a,C);const E=f.viewQuery,I=f.contentQueries;if(E&&cR(a,E),I&&uR(a,I),te(a.inputs,f.inputs),te(a.declaredInputs,f.declaredInputs),te(a.outputs,f.outputs),pn(f)&&f.data.animation){const k=a.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(a),C===mD&&(c=!1)}}l=Object.getPrototypeOf(l)}!function Xx(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Li(f.hostAttrs,c=Li(c,f.hostAttrs))}}(d)}function gD(a){return a===Mr?{}:a===mt?[]:a}function cR(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function uR(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,g)=>{l(d,f,g),c(d,f,g)}:l}function dR(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let qp=null;function Ul(){if(!qp){const a=Zt.Symbol;if(a&&a.iterator)qp=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(qp=d)}}}return qp}function Gp(a){return!!qb(a)&&(Array.isArray(a)||!(a instanceof Map)&&Ul()in a)}function qb(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Hl(a,l,c){return a[l]=c}function Fr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function $r(a,l,c,d){const f=Te();return Fr(f,ds(),l)&&(Ht(),Jn(Ln(),f,a,l,c,d)),$r}function sf(a,l,c,d){return Fr(a,ds(),c)?l+pe(c)+d:Ft}function vD(a,l,c,d,f,g,v,C){const E=Te(),I=Ht(),k=a+20,N=I.firstCreatePass?function iS(a,l,c,d,f,g,v,C,E){const I=l.consts,k=Ds(l,a,4,v||null,Pi(I,C));Ib(l,c,k,Pi(I,E)),Eu(l,k);const N=k.tViews=Sb(2,k,d,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,I);return null!==l.queries&&(l.queries.template(l,k),N.queries=l.queries.embeddedTView(k)),k}(k,I,E,l,c,d,f,g,v):I.data[k];Ni(N,!1);const Z=E[11].createComment("");ia(I,E,Z,N),hn(Z,E),kc(E,E[k]=E_(Z,E,Z,N)),uo(N)&&w_(I,E,N),null!=v&&Jh(E,N,C)}function rr(a){return er(function ph(){return yt.lFrame.contextLView}(),20+a)}function Kp(a,l=ut.Default){const c=Te();return null===c?Rn(a,l):jo(wn(),c,re(a),l)}function df(){throw new Error("invalid")}function Xb(a,l,c){const d=Te();return Fr(d,ds(),l)&&Mo(Ht(),Ln(),d,a,l,d[11],c,!1),Xb}function Jb(a,l,c,d,f){const v=f?"class":"style";A_(a,c,l.inputs[v],v,d)}function hf(a,l,c,d){const f=Te(),g=Ht(),v=20+a,C=f[11],E=f[v]=Nl(C,l,function yh(){return yt.lFrame.currentNamespace}()),I=g.firstCreatePass?function Q_(a,l,c,d,f,g,v){const C=l.consts,I=Ds(l,a,2,f,Pi(C,g));return Ib(l,c,I,Pi(C,v)),null!==I.attrs&&k_(I,I.attrs,!1),null!==I.mergedAttrs&&k_(I,I.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,I),I}(v,g,f,0,l,c,d):g.data[v];Ni(I,!0);const k=I.mergedAttrs;null!==k&&pc(C,E,k);const N=I.classes;null!==N&&Wh(C,E,N);const Z=I.styles;null!==Z&&ra(C,E,Z),64!=(64&I.flags)&&ia(g,f,E,I),0===function Ca(){return yt.lFrame.elementDepthCount}()&&hn(E,f),function Fi(){yt.lFrame.elementDepthCount++}(),uo(I)&&(w_(g,f,I),VC(g,I,f)),null!==d&&Jh(f,I)}function Qp(){let a=wn();Ls()?sc():(a=a.parent,Ni(a,!1));const l=a;!function bl(){yt.lFrame.elementDepthCount--}();const c=Ht();c.firstCreatePass&&(Eu(c,a),ec(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Tu(a){return 0!=(16&a.flags)}(l)&&Jb(c,l,Te(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Uo(a){return 0!=(32&a.flags)}(l)&&Jb(c,l,Te(),l.stylesWithoutHost,!1)}function X_(a,l,c,d){hf(a,l,c,d),Qp()}function J_(a,l,c){const d=Te(),f=Ht(),g=a+20,v=f.firstCreatePass?function e0(a,l,c,d,f){const g=l.consts,v=Pi(g,d),C=Ds(l,a,8,"ng-container",v);return null!==v&&k_(C,v,!0),Ib(l,c,C,Pi(g,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(g,f,d,l,c):f.data[g];Ni(v,!0);const C=d[g]=d[11].createComment("");ia(f,d,C,v),hn(C,d),uo(v)&&(w_(f,d,v),VC(f,v,d)),null!=c&&Jh(d,v)}function ey(){let a=wn();const l=Ht();Ls()?sc():(a=a.parent,Ni(a,!1)),l.firstCreatePass&&(Eu(l,a),ec(a)&&l.queries.elementEnd(a))}function ID(a,l,c){J_(a,l,c),ey()}function t0(){return Te()}function ty(a){return!!a&&"function"==typeof a.then}function ny(a){return!!a&&"function"==typeof a.subscribe}const n0=ny;function r0(a,l,c,d){const f=Te(),g=Ht(),v=wn();return iy(g,f,f[11],v,a,l,!!c,d),r0}function Xp(a,l){const c=wn(),d=Te(),f=Ht();return iy(f,d,tf(Bo(f.data),c,d),c,a,l,!1),Xp}function iy(a,l,c,d,f,g,v,C){const E=uo(d),k=a.firstCreatePass&&Nb(a),N=l[8],Z=I_(l);let X=!0;if(3&d.type||C){const Ne=Oi(d,l),ot=C?C(Ne):Ne,De=Z.length,_t=C?$t=>C(Nn($t[d.index])):d.index;if(An(c)){let $t=null;if(!C&&E&&($t=function s0(a,l,c,d){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===c&&f[g+1]===d){const C=l[7],E=f[g+2];return C.length>E?C[E]:null}"string"==typeof v&&(g+=2)}return null}(a,l,f,d.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=g,$t.__ngLastListenerFn__=g,X=!1;else{g=$i(d,l,N,g,!1);const gn=c.listen(ot,f,g);Z.push(g,gn),k&&k.push(f,_t,De,De+1)}}else g=$i(d,l,N,g,!0),ot.addEventListener(f,g,v),Z.push(g),k&&k.push(f,_t,De,v)}else g=$i(d,l,N,g,!1);const be=d.outputs;let Ve;if(X&&null!==be&&(Ve=be[f])){const Ne=Ve.length;if(Ne)for(let ot=0;ot<Ne;ot+=2){const Xs=l[Ve[ot]][Ve[ot+1]].subscribe(g),rl=Z.length;Z.push(g,Xs),k&&k.push(f,d.index,rl,-(rl+1))}}}function zi(a,l,c,d){try{return!1!==c(d)}catch(f){return KC(a,f),!1}}function $i(a,l,c,d,f){return function g(v){if(v===Function)return d;const C=2&a.flags?tr(a.index,l):l;0==(32&l[2])&&T_(C);let E=zi(l,0,d,v),I=g.__ngNextListenerFn__;for(;I;)E=zi(l,0,I,v)&&E,I=I.__ngNextListenerFn__;return f&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function Jp(a=1){return function gh(a){return(yt.lFrame.contextLView=function Ng(a,l){for(;a>0;)l=l[15],a--;return l}(a,yt.lFrame.contextLView))[8]}(a)}function o0(a,l){let c=null;const d=function ux(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===d?yC(a,g,!0):d_(d,g))return f}else c=f}return c}function AD(a){const l=Te()[16][6];if(!l.projection){const d=l.projection=La(a?a.length:1,null),f=d.slice();let g=l.child;for(;null!==g;){const v=a?o0(g,a):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function kD(a,l=0,c){const d=Te(),f=Ht(),g=Ds(f,20+a,16,null,c||null);null===g.projection&&(g.projection=l),sc(),64!=(64&g.flags)&&function u_(a,l,c){Yh(l[11],0,l,c,M(a,c,l),qt(c.parent||l[6],c,l))}(f,d,g)}function LD(a,l,c,d,f){const g=a[c+1],v=null===l;let C=d?Pr(g):Gi(g),E=!1;for(;0!==C&&(!1===E||v);){const k=a[C+1];tm(a[C],l)&&(E=!0,a[C+1]=d?bb(k):yb(k)),C=d?Pr(k):Gi(k)}E&&(a[c+1]=d?yb(g):bb(g))}function tm(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Zo(a,l)>=0}const Bi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function d0(a){return a.substring(Bi.key,Bi.keyEnd)}function BD(a,l){const c=Bi.textEnd;return c===l?-1:(l=Bi.keyEnd=function ld(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,Bi.key=l,c),ff(a,l,c))}function ff(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function gr(a,l,c){return So(a,l,c,!1),gr}function ly(a,l){return So(a,l,null,!0),ly}function xo(a,l){for(let c=function ay(a){return function UD(a){Bi.key=0,Bi.keyEnd=0,Bi.value=0,Bi.valueEnd=0,Bi.textEnd=a.length}(a),BD(a,ff(a,0,Bi.textEnd))}(l);c>=0;c=BD(l,c))dr(a,d0(l),!0)}function So(a,l,c,d){const f=Te(),g=Ht(),v=jr(2);g.firstUpdatePass&&uy(g,a,v,d),l!==Ft&&Fr(f,v,l)&&g0(g,g.data[li()],f,f[11],a,f[v+1]=function mS(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ue(Ko(a)))),a}(l,c),d,v)}function mf(a,l){return l>=a.expandoStartIndex}function uy(a,l,c,d){const f=a.data;if(null===f[c+1]){const g=f[li()],v=mf(a,c);gf(g,d)&&null===l&&!v&&(l=!1),l=function h0(a,l,c,d){const f=Bo(a);let g=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=rm(c=hy(null,a,l,c,d),l.attrs,d),g=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(c=hy(f,a,l,c,d),null===g){let E=function f0(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==Gi(d))return a[Pr(d)]}(a,l,d);void 0!==E&&Array.isArray(E)&&(E=hy(null,a,l,E[1],d),E=rm(E,l.attrs,d),function dy(a,l,c,d){a[Pr(c?l.classBindings:l.styleBindings)]=d}(a,l,d,E))}else g=function im(a,l,c){let d;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)d=rm(d,a[g].hostAttrs,c);return rm(d,l.attrs,c)}(a,l,d)}return void 0!==g&&(d?l.residualClasses=g:l.residualStyles=g),c}(f,g,l,d),function u0(a,l,c,d,f,g){let v=g?l.classBindings:l.styleBindings,C=Pr(v),E=Gi(v);a[d]=c;let k,I=!1;if(Array.isArray(c)){const N=c;k=N[1],(null===k||Zo(N,k)>0)&&(I=!0)}else k=c;if(f)if(0!==E){const Z=Pr(a[C+1]);a[d+1]=p_(Z,C),0!==Z&&(a[Z+1]=vb(a[Z+1],d)),a[C+1]=function fx(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=p_(C,0),0!==C&&(a[C+1]=vb(a[C+1],d)),C=d;else a[d+1]=p_(E,0),0===C?C=d:a[E+1]=vb(a[E+1],d),E=d;I&&(a[d+1]=yb(a[d+1])),LD(a,k,d,!0),LD(a,k,d,!1),function ND(a,l,c,d,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&Zo(g,l)>=0&&(c[d+1]=bb(c[d+1]))}(l,k,a,d,g),v=p_(C,E),g?l.classBindings=v:l.styleBindings=v}(f,g,l,c,v,d)}}function hy(a,l,c,d,f){let g=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(g=l[C],d=rm(d,g.hostAttrs,f),g!==a);)C++;return null!==a&&(c.directiveStylingLast=C),d}function rm(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),dr(a,v,!!c||l[++g]))}return void 0===a?null:a}function g0(a,l,c,d,f,g,v,C){if(!(3&l.type))return;const E=a.data,I=E[C+1];om(function DC(a){return 1==(1&a)}(I)?_0(E,l,c,f,Gi(I),v):void 0)||(om(g)||function _b(a){return 2==(2&a)}(I)&&(g=_0(E,null,c,f,C,v)),function Ga(a,l,c,d,f){const g=An(a);if(l)f?g?a.addClass(c,d):c.classList.add(d):g?a.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:Cs.DashCase;if(null==f)g?a.removeStyle(c,d,v):c.style.removeProperty(d);else{const C="string"==typeof f&&f.endsWith("!important");C&&(f=f.slice(0,-10),v|=Cs.Important),g?a.setStyle(c,d,f,v):c.style.setProperty(d,f,C?"important":"")}}}(d,v,Ns(li(),c),f,g))}function _0(a,l,c,d,f,g){const v=null===l;let C;for(;f>0;){const E=a[f],I=Array.isArray(E),k=I?E[1]:E,N=null===k;let Z=c[f+1];Z===Ft&&(Z=N?mt:void 0);let X=N?kh(Z,d):k===d?Z:void 0;if(I&&!om(X)&&(X=kh(E,d)),om(X)&&(C=X,v))return C;const be=a[f+1];f=v?Pr(be):Gi(be)}if(null!==l){let E=g?l.residualClasses:l.residualStyles;null!=E&&(C=kh(E,d))}return C}function om(a){return void 0!==a}function gf(a,l){return 0!=(a.flags&(l?16:32))}function y0(a,l=""){const c=Te(),d=Ht(),f=a+20,g=d.firstCreatePass?Ds(d,f,1,l,null):d.data[f],v=c[f]=function qa(a,l){return An(a)?a.createText(l):a.createTextNode(l)}(c[11],l);ia(d,c,v,g),Ni(g,!1)}function _f(a){return Fc("",a,""),_f}function Fc(a,l,c){const d=Te(),f=sf(d,a,l,c);return f!==Ft&&Za(d,li(),f),Fc}function ZD(a,l,c){!function Io(a,l,c,d){const f=Ht(),g=jr(2);f.firstUpdatePass&&uy(f,null,g,d);const v=Te();if(c!==Ft&&Fr(v,g,c)){const C=f.data[li()];if(gf(C,d)&&!mf(f,g)){let E=d?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(c=fe(E,c||"")),Jb(f,C,v,c,d)}else!function m0(a,l,c,d,f,g,v,C){f===Ft&&(f=mt);let E=0,I=0,k=0<f.length?f[0]:null,N=0<g.length?g[0]:null;for(;null!==k||null!==N;){const Z=E<f.length?f[E+1]:void 0,X=I<g.length?g[I+1]:void 0;let Ve,be=null;k===N?(E+=2,I+=2,Z!==X&&(be=N,Ve=X)):null===N||null!==k&&k<N?(E+=2,be=k):(I+=2,be=N,Ve=X),null!==be&&g0(a,l,c,d,be,Ve,v,C),k=E<f.length?f[E]:null,N=I<g.length?g[I]:null}}(f,C,v,v[11],v[g+1],v[g+1]=function p0(a,l,c){if(null==c||""===c)return mt;const d=[],f=Ko(c);if(Array.isArray(f))for(let g=0;g<f.length;g++)a(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&a(d,g,f[g]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,g)}}(dr,xo,sf(Te(),a,l,c),!0)}function by(a,l,c){const d=Te();return Fr(d,ds(),l)&&Mo(Ht(),Ln(),d,a,l,d[11],c,!0),by}function D0(a,l,c){const d=Te();if(Fr(d,ds(),l)){const g=Ht(),v=Ln();Mo(g,v,d,a,l,tf(Bo(g.data),v,d),c,!0)}return D0}const Vc=void 0;var E0=["en",[["a","p"],["AM","PM"],Vc],[["AM","PM"],Vc,Vc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vc,"{1} 'at' {0}",Vc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function QD(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Bc={};function wy(a){const l=function cm(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=eE(l);if(c)return c;const d=l.split("-")[0];if(c=eE(d),c)return c;if("en"===d)return E0;throw new Error(`Missing locale data for the locale "${a}".`)}function JD(a){return wy(a)[gt.PluralCase]}function eE(a){return a in Bc||(Bc[a]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[a]),Bc[a]}var gt=(()=>((gt=gt||{})[gt.LocaleId=0]="LocaleId",gt[gt.DayPeriodsFormat=1]="DayPeriodsFormat",gt[gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",gt[gt.DaysFormat=3]="DaysFormat",gt[gt.DaysStandalone=4]="DaysStandalone",gt[gt.MonthsFormat=5]="MonthsFormat",gt[gt.MonthsStandalone=6]="MonthsStandalone",gt[gt.Eras=7]="Eras",gt[gt.FirstDayOfWeek=8]="FirstDayOfWeek",gt[gt.WeekendRange=9]="WeekendRange",gt[gt.DateFormat=10]="DateFormat",gt[gt.TimeFormat=11]="TimeFormat",gt[gt.DateTimeFormat=12]="DateTimeFormat",gt[gt.NumberSymbols=13]="NumberSymbols",gt[gt.NumberFormats=14]="NumberFormats",gt[gt.CurrencyCode=15]="CurrencyCode",gt[gt.CurrencySymbol=16]="CurrencySymbol",gt[gt.CurrencyName=17]="CurrencyName",gt[gt.Currencies=18]="Currencies",gt[gt.Directionality=19]="Directionality",gt[gt.PluralCase=20]="PluralCase",gt[gt.ExtraData=21]="ExtraData",gt))();const um="en-US";let tE=um;function pd(a,l,c,d,f){if(a=re(a),Array.isArray(a))for(let g=0;g<a.length;g++)pd(a[g],l,c,d,f);else{const g=Ht(),v=Te();let C=rf(a)?a:re(a.provide),E=JC(a);const I=wn(),k=1048575&I.providerIndexes,N=I.directiveStart,Z=I.providerIndexes>>20;if(rf(a)||!a.multi){const X=new Vn(E,f,Kp),be=di(C,l,f?k:k+Z,N);-1===be?(ci(vo(I,v),g,C),Yt(g,a,l.length),l.push(C),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(X),v.push(X)):(c[be]=X,v[be]=X)}else{const X=di(C,l,k+Z,N),be=di(C,l,k,k+Z),Ve=X>=0&&c[X],Ne=be>=0&&c[be];if(f&&!Ne||!f&&!Ve){ci(vo(I,v),g,C);const ot=function md(a,l,c,d,f){const g=new Vn(a,c,Kp);return g.multi=[],g.index=l,g.componentProviders=0,_E(g,f,d&&!c),g}(f?Ay:$e,c.length,f,d,E);!f&&Ne&&(c[be].providerFactory=ot),Yt(g,a,l.length,0),l.push(C),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(ot),v.push(ot)}else Yt(g,a,X>-1?X:be,_E(c[f?be:X],E,!f&&d));!f&&d&&Ne&&c[be].componentProviders++}}}function Yt(a,l,c,d){const f=rf(l),g=function Zx(a){return!!a.useClass}(l);if(f||g){const E=(g?re(l.useClass):l).prototype.ngOnDestroy;if(E){const I=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const k=I.indexOf(c);-1===k?I.push(c,[d,E]):I[k+1].push(d,E)}else I.push(c,E)}}}function _E(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function di(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function $e(a,l,c,d){return vm(this.multi,[])}function Ay(a,l,c,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Mn(c,c[1],this.providerFactory.index,d);g=C.slice(0,v),vm(f,g);for(let E=v;E<C.length;E++)g.push(C[E])}else g=[],vm(f,g);return g}function vm(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function bm(a,l=[]){return c=>{c.providersResolver=(d,f)=>function xt(a,l,c){const d=Ht();if(d.firstCreatePass){const f=pn(a);pd(c,d.data,d.blueprint,f,!0),pd(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class V0{}class bE{resolveComponentFactory(l){throw function yE(a){const l=Error(`No component factory found for ${ue(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Df=(()=>{class a{}return a.NULL=new bE,a})();function jc(){return qc(wn(),Te())}function qc(a,l){return new se(Oi(a,l))}let se=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=jc,a})();function ky(a){return a instanceof se?a.nativeElement:a}class wE{}let Cm=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function qS(){const a=Te(),c=tr(wn().index,a);return function Gc(a){return a[11]}(ji(c)?c:a)}(),a})(),gd=(()=>{class a{}return a.\u0275prov=yn({token:a,providedIn:"root",factory:()=>null}),a})();class B0{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Ry=new B0("13.1.3"),U0={};function Oy(a,l,c,d,f=!1){for(;null!==c;){const g=l[c.index];if(null!==g&&d.push(Nn(g)),ur(g))for(let C=10;C<g.length;C++){const E=g[C],I=E[1].firstChild;null!==I&&Oy(E[1],E,I,d)}const v=c.type;if(8&v)Oy(a,l,c.child,d);else if(32&v){const C=Fp(c,l);let E;for(;E=C();)d.push(E)}else if(16&v){const C=$h(l,c);if(Array.isArray(C))d.push(...C);else{const E=pr(l[16]);Oy(E[1],E,C,d,!0)}}c=f?c.projectionNext:c.next}return d}class sr{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Oy(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(ur(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(Ju(l,d),Au(c,d))}this._attachedToViewContainer=!1}y(this._lView[1],this._lView)}onDestroy(l){UC(this._lView[1],this._lView,null,l)}markForCheck(){T_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fb(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Vx(a,l,c){Vo(!0);try{Fb(a,l,c)}finally{Vo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hb(a,l){Vl(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=l}}class CE extends sr{constructor(l){super(l),this._view=l}detectChanges(){$C(this._view)}checkNoChanges(){!function Bx(a){Vo(!0);try{$C(a)}finally{Vo(!1)}}(this._view)}get context(){return null}}class Zc extends Df{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=Qn(l);return new Cn(c,this.ngModule)}}function H0(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}const Py=new Bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ku});class Cn extends V0{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function hx(a){return a.map(dx).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return H0(this.componentDef.inputs)}get outputs(){return H0(this.componentDef.outputs)}create(l,c,d,f){const g=(f=f||this.ngModule)?function _r(a,l){return{get:(c,d,f)=>{const g=a.get(c,U0,f);return g!==U0||d===U0?g:l.get(c,d,f)}}}(l,f.injector):l,v=g.get(wE,cs),C=g.get(gd,null),E=v.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",k=d?function Mx(a,l,c){if(An(a))return a.selectRootElement(l,c===tn.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(E,d,this.componentDef.encapsulation):Nl(v.createRenderer(null,this.componentDef),I,function yi(a){const l=a.toLowerCase();return"svg"===l?yl:"math"===l?"http://www.w3.org/1998/MathML/":null}(I)),N=this.componentDef.onPush?576:528,Z=function Wx(a,l){return{components:[],scheduler:a||Ku,clean:WC,playerHandler:l||null,flags:0}}(),X=Sb(0,null,null,1,0,null,null,null,null,null),be=Qh(null,X,Z,N,null,null,v,E,C,g);let Ve,Ne;Ia(be);try{const ot=function Yx(a,l,c,d,f,g){const v=c[1];c[20]=a;const E=Ds(v,20,2,"#host",null),I=E.mergedAttrs=l.hostAttrs;null!==I&&(k_(E,I,!0),null!==a&&(pc(f,a,I),null!==E.classes&&Wh(f,a,E.classes),null!==E.styles&&ra(f,a,E.styles)));const k=d.createRenderer(a,l),N=Qh(c,BC(l),null,l.onPush?64:16,c[20],E,d,k,g||null,null);return v.firstCreatePass&&(ci(vo(E,c),v,l.type),jC(v,E),GC(E,c.length,1)),kc(c,N),c[20]=N}(k,this.componentDef,be,v,E);if(k)if(d)pc(E,k,["ng-version",Ry.full]);else{const{attrs:De,classes:_t}=function wC(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let g=a[d];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++d]):8===f&&c.push(g);else{if(!sa(f))break;f=g}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);De&&pc(E,k,De),_t&&_t.length>0&&Wh(E,k,_t.join(" "))}if(Ne=us(X,20),void 0!==c){const De=Ne.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const $t=c[_t];De.push(null!=$t?Array.from($t):null)}}Ve=function pD(a,l,c,d,f){const g=c[1],v=function Ax(a,l,c){const d=wn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),ZC(a,d,l,rd(a,l,1,null),c));const f=Mn(l,a,d.directiveStart,d);hn(f,l);const g=Oi(d,l);return g&&hn(g,l),f}(g,c,l);if(d.components.push(v),a[8]=v,f&&f.forEach(E=>E(v,l)),l.contentQueries){const E=wn();l.contentQueries(1,v,E.directiveStart)}const C=wn();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Ci(C.index),Zi(c[1],C,0,C.directiveStart,C.directiveEnd,l),HC(l,v)),v}(ot,this.componentDef,be,Z,[Kx]),Bp(X,be,null)}finally{uc()}return new Ys(this.componentType,Ve,qc(Ne,be),be,Ne)}}class Ys extends class wm{}{constructor(l,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new CE(f),this.componentType=l}get injector(){return new Us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class ii{}class EE{}const Ws=new Map;class Xa extends ii{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Zc(this);const d=si(l);this._bootstrapComponents=Gs(d.bootstrap),this._r3Injector=Bb(l,c,[{provide:ii,useValue:this},{provide:Df,useValue:this.componentFactoryResolver}],ue(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=zs.THROW_IF_NOT_FOUND,d=ut.Default){return l===zs||l===ii||l===Up?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class _d extends EE{constructor(l){super(),this.moduleType=l,null!==si(l)&&function j0(a){const l=new Set;!function c(d){const f=si(d,!0),g=f.id;null!==g&&(function zc(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${ue(l)} vs ${ue(l.name)}`)}(g,Ws.get(g),d),Ws.set(g,d));const v=Gs(f.imports);for(const C of v)l.has(C)||(l.add(C),c(C))}(a)}(l)}create(l){return new Xa(this.moduleType,l)}}function Tf(a,l,c){const d=mi()+a,f=Te();return f[d]===Ft?Hl(f,d,c?l.call(c):l()):function Zp(a,l){return a[l]}(f,d)}function q0(a,l,c,d){return Wc(Te(),mi(),a,l,c,d)}function Wc(a,l,c,d,f,g){const v=l+c;return Fr(a,v,f)?Hl(a,v+1,g?d.call(g,f):d(f)):function vd(a,l){const c=a[l];return c===Ft?void 0:c}(a,v+1)}function Tm(a,l){const c=Ht();let d;const f=a+20;c.firstCreatePass?(d=function Mm(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const g=d.factory||(d.factory=Po(d.type)),v=cn(Kp);try{const C=hs(!1),E=g();return hs(C),function rS(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Te(),f,E),E}finally{cn(v)}}function z0(a,l,c){const d=a+20,f=Te(),g=er(f,d);return function xi(a,l){return a[1].data[l].pure}(f,d)?Wc(f,mi(),l,g.transform,c,g):g.transform(c)}function Sn(a){return l=>{setTimeout(a,void 0,l)}}const el=class SE extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var f,g,v;let C=l,E=c||(()=>null),I=d;if(l&&"object"==typeof l){const N=l;C=null===(f=N.next)||void 0===f?void 0:f.bind(N),E=null===(g=N.error)||void 0===g?void 0:g.bind(N),I=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(E=Sn(E),C&&(C=Sn(C)),I&&(I=Sn(I)));const k=super.subscribe({next:C,error:E,complete:I});return l instanceof J.w0&&l.add(k),k}};function IE(){return this._results[Ul()]()}class tl{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Ul(),d=tl.prototype;d[c]||(d[c]=IE)}get changes(){return this._changes||(this._changes=new el)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=mn(l);(this._changesDetected=!function Ah(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],g=l[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xm=(()=>{class a{}return a.__NG_ELEMENT_ID__=Vy,a})();const Sm=xm,Ly=class extends Sm{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=Qh(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(c)),Bp(c,d,l),new sr(d)}};function Vy(){return Im(wn(),Te())}function Im(a,l){return 4&a.type?new Ly(l,a,qc(a,l)):null}let Am=(()=>{class a{}return a.__NG_ELEMENT_ID__=yr,a})();function yr(){return RE(wn(),Te())}const YS=Am,AE=class extends YS{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return qc(this._hostTNode,this._hostLView)}get injector(){return new Us(this._hostTNode,this._hostLView)}get parentInjector(){const l=fs(this._hostTNode,this._hostLView);if(Eh(l)){const c=Ml(l,this._hostLView),d=Tl(l);return new Us(c[1].data[d+8],c)}return new Us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=kE(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const f=l.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(l,c,d,f,g){const v=l&&!function Na(a){return"function"==typeof a}(l);let C;if(v)C=c;else{const N=c||{};C=N.index,d=N.injector,f=N.projectableNodes,g=N.ngModuleRef}const E=v?l:new Cn(Qn(l)),I=d||this.parentInjector;if(!g&&null==E.ngModule&&I){const N=I.get(ii,null);N&&(g=N)}const k=E.create(I,f,void 0,g);return this.insert(k.hostView,C),k}insert(l,c){const d=l._lView,f=d[1];if(function bu(a){return ur(a[3])}(d)){const k=this.indexOf(l);if(-1!==k)this.detach(k);else{const N=d[3],Z=new AE(N,N[6],N[3]);Z.detach(Z.indexOf(l))}}const g=this._adjustIndex(c),v=this._lContainer;!function fb(a,l,c,d){const f=10+d,g=c.length;d>0&&(c[f-1][4]=l),d<g-10?(l[4]=c[f],Iu(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function pb(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=128}(f,d,v,g);const C=td(g,v),E=d[11],I=tt(E,v[7]);return null!==I&&function c_(a,l,c,d,f,g){d[0]=f,d[6]=l,Vl(a,d,c,1,f,g)}(f,v[6],E,d,I,C),l.attachToViewContainerRef(),Iu(By(v),g,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=kE(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=Ju(this._lContainer,c);d&&(Au(By(this._lContainer),c),y(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=Ju(this._lContainer,c);return d&&null!=Au(By(this._lContainer),c)?new sr(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function kE(a){return a[8]}function By(a){return a[8]||(a[8]=[])}function RE(a,l){let c;const d=l[a.index];if(ur(d))c=d;else{let f;if(8&a.type)f=Nn(d);else{const g=l[11];f=g.createComment("");const v=Oi(a,l);B(g,tt(g,v),f,function lt(a,l){return An(a)?a.nextSibling(l):l.nextSibling}(g,v),!1)}l[a.index]=c=E_(d,l,f,a),kc(l,c)}return new AE(c,a,l)}class nl{constructor(l){this.queryList=l,this.matches=null}clone(){return new nl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kc{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new Kc(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==K0(l,c).matches&&this.queries[c].setDirty()}}class OE{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class Uy{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(l,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Uy(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Hy{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Hy(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(l,c,zl(c,g)),this.matchTNodeWithReadOption(l,c,qo(c,l,g,!1,!1))}else d===xm?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,qo(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===se||f===Am||f===xm&&4&c.type)this.addMatch(c.index,-2);else{const g=qo(c,l,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function zl(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function Sf(a,l,c,d){return-1===c?function PE(a,l){return 11&a.type?qc(a,l):4&a.type?Im(a,l):null}(l,a):-2===c?function QS(a,l,c){return c===se?qc(l,a):c===xm?Im(l,a):c===Am?RE(l,a):void 0}(a,l,d):Mn(a,a[1],c,l)}function jy(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const g=a.data,v=c.matches,C=[];for(let E=0;E<v.length;E+=2){const I=v[E];C.push(I<0?null:Sf(l,g[I],v[E+1],c.metadata.read))}f.matches=C}return f.matches}function km(a,l,c,d){const f=a.queries.getByIndex(c),g=f.matches;if(null!==g){const v=jy(a,l,f,c);for(let C=0;C<g.length;C+=2){const E=g[C];if(E>0)d.push(v[C/2]);else{const I=g[C+1],k=l[-E];for(let N=10;N<k.length;N++){const Z=k[N];Z[17]===Z[3]&&km(Z[1],Z,I,d)}if(null!==k[9]){const N=k[9];for(let Z=0;Z<N.length;Z++){const X=N[Z];km(X[1],X,I,d)}}}}}return d}function qy(a){const l=Te(),c=Ht(),d=Sa();Cl(d+1);const f=K0(c,d);if(a.dirty&&ai(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?km(c,l,d,[]):jy(c,l,f,d);a.reset(g,ky),a.notifyOnChanges()}return!0}return!1}function bd(a,l,c){const d=Ht();d.firstCreatePass&&(Gy(d,new OE(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),Y0(d,Te(),l)}function Ks(a,l,c,d){const f=Ht();if(f.firstCreatePass){const g=wn();Gy(f,new OE(l,c,d),g.index),function W0(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}Y0(f,Te(),c)}function $0(){return function Rm(a,l){return a[19].queries[l].queryList}(Te(),Sa())}function Y0(a,l,c){const d=new tl(4==(4&c));UC(a,l,d,d.destroy),null===l[19]&&(l[19]=new Kc),l[19].queries.push(new nl(d))}function Gy(a,l,c){null===a.queries&&(a.queries=new Uy),a.queries.track(new Hy(l,c))}function K0(a,l){return a.queries.getByIndex(l)}function Xc(...a){}const Ky=new Bn("Application Initializer");let Sd=(()=>{class a{constructor(c){this.appInits=c,this.resolve=Xc,this.reject=Xc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(ty(g))c.push(g);else if(n0(g)){const v=new Promise((C,E)=>{g.subscribe({complete:C,error:E})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(Rn(Ky,8))},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})();const ow=new Bn("AppId"),GE={provide:ow,useFactory:function rI(){return`${Qy()}${Qy()}${Qy()}`},deps:[]};function Qy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ZE=new Bn("Platform Initializer"),zE=new Bn("Platform ID"),$E=new Bn("appBootstrapListener");let aw=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})();const Jy=new Bn("LocaleId"),Ki=new Bn("DefaultCurrencyCode");class il{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let Lm=(()=>{class a{compileModuleSync(c){return new _d(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Gs(si(c).declarations).reduce((v,C)=>{const E=Qn(C);return E&&v.push(new Cn(E)),v},[]);return new il(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})();const KE=(()=>Promise.resolve(0))();function nv(a){"undefined"==typeof Zone?KE.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Qs{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new el(!1),this.onMicrotaskEmpty=new el(!1),this.onStable=new el(!1),this.onError=new el(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function QE(){let a=Zt.requestAnimationFrame,l=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function aI(a){const l=()=>{!function lw(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Zt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,iv(a),a.isCheckStableRunning=!0,Id(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),iv(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,v,C)=>{try{return cw(a),c.invokeTask(f,g,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),uw(a)}},onInvoke:(c,d,f,g,v,C,E)=>{try{return cw(a),c.invoke(f,g,v,C,E)}finally{a.shouldCoalesceRunChangeDetection&&l(),uw(a)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,iv(a),Id(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,l,oI,Xc,Xc);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const oI={};function Id(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function iv(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function cw(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function uw(a){a._nesting--,Id(a)}class lI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new el,this.onMicrotaskEmpty=new el,this.onStable=new el,this.onError=new el}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}let dw=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qs.assertNotInAngularZone(),nv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nv(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(Rn(Qs))},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})(),XE=(()=>{class a{constructor(){this._applications=new Map,Jc.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Jc.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})();class cI{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function kf(a){Jc=a}let la,Jc=new cI;const Lr=new Bn("AllowMultipleToken");class dI{constructor(l,c){this.name=l,this.token=c}}function ca(a,l,c=[]){const d=`Platform: ${l}`,f=new Bn(d);return(g=[])=>{let v=fw();if(!v||v.injector.get(Lr,!1))if(a)a(c.concat(g).concat({provide:f,useValue:!0}));else{const C=c.concat(g).concat({provide:f,useValue:!0},{provide:Vb,useValue:"platform"});!function eT(a){if(la&&!la.destroyed&&!la.injector.get(Lr,!1))throw new Oe(400,"");la=a.get(nT);const l=a.get(ZE,null);l&&l.forEach(c=>c())}(zs.create({providers:C,name:d}))}return function tT(a){const l=fw();if(!l)throw new Oe(401,"");return l}()}}function fw(){return la&&!la.destroyed?la:null}let nT=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const C=function hI(a,l){let c;return c="noop"===a?new lI:("zone.js"===a?void 0:a)||new Qs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:Qs,useValue:C}];return C.run(()=>{const I=zs.create({providers:E,parent:this.injector,name:c.moduleType.name}),k=c.create(I),N=k.injector.get(Fl,null);if(!N)throw new Oe(402,"");return C.runOutsideAngular(()=>{const Z=C.onError.subscribe({next:X=>{N.handleError(X)}});k.onDestroy(()=>{pw(this._modules,k),Z.unsubscribe()})}),function fI(a,l,c){try{const d=c();return ty(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(N,C,()=>{const Z=k.injector.get(Sd);return Z.runInitializers(),Z.donePromise.then(()=>(function ES(a){at(a,"Expected localeId to be defined"),"string"==typeof a&&(tE=a.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Jy,um)||um),this._moduleDoBootstrap(k),k))})})}bootstrapModule(c,d=[]){const f=iT({},d);return function uI(a,l,c){const d=new _d(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(Vm);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Oe(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(Rn(zs))},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})();function iT(a,l){return Array.isArray(l)?l.reduce(iT,a):Object.assign(Object.assign({},a),l)}let Vm=(()=>{class a{constructor(c,d,f,g,v){this._zone=c,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new F.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new F.y(I=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Qs.assertNotInAngularZone(),nv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Qs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{k.unsubscribe(),N.unsubscribe()}});this.isStable=(0,le.T)(C,E.pipe((0,ce.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Oe(405,"");let f;f=c instanceof V0?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(f.componentType);const g=function JE(a){return a.isBoundToModule}(f)?void 0:this._injector.get(ii),C=f.create(zs.NULL,[],d||f.selector,g),E=C.location.nativeElement,I=C.injector.get(dw,null),k=I&&C.injector.get(XE);return I&&k&&k.registerApplication(E,I),C.onDestroy(()=>{this.detachView(C.hostView),pw(this.components,C),k&&k.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;pw(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get($E,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(Rn(Qs),Rn(zs),Rn(Fl),Rn(Df),Rn(Sd))},a.\u0275prov=yn({token:a,factory:a.\u0275fac}),a})();function pw(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let sT=!0,oT=!1;function mI(){return oT=!0,sT}function gI(){if(oT)throw new Error("Cannot enable prod mode after platform setup.");sT=!1}let lT=(()=>{class a{}return a.__NG_ELEMENT_ID__=_I,a})();function _I(a){return function cT(a,l,c){if(nh(a)&&!c){const d=tr(a.index,l);return new sr(d,d)}return 47&a.type?new sr(l[16],l):null}(wn(),Te(),16==(16&a))}class nu{constructor(){}supports(l){return Gp(l)}create(l){return new pT(l)}}const DI=(a,l)=>l;class pT{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||DI}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<Of(d,f,g)?c:d,C=Of(v,f,g),E=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{g||(g=[]);const I=C-f,k=E-f;if(I!=k){for(let Z=0;Z<I;Z++){const X=Z<g.length?g[Z]:g[Z]=0,be=X+Z;k<=be&&be<I&&(g[Z]=X+1)}g[v.previousIndex]=k-I}}C!==E&&l(v,C,E)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Gp(l))throw new Oe(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)g=l[C],v=this._trackByFn(C,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,C)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,C),d=!0),c=c._next}else f=0,function nS(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Ul()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,C=>{v=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,g,f)):l=this._addAfter(new EI(c,d),g,f),l}_verifyReinsertion(l,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new mT),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mT),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class EI{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TI{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class mT{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new TI,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Of(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class iu{constructor(){}supports(l){return l instanceof Map||qb(l)}create(){return new Rd}}class Rd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||qb(l)))throw new Oe(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new gT(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class gT{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _T(){return new lv([new nu])}let lv=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||_T()),deps:[[a,new ft,new Be]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Oe(901,"")}}return a.\u0275prov=yn({token:a,providedIn:"root",factory:_T}),a})();function Um(){return new cv([new iu])}let cv=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Um()),deps:[[a,new ft,new Be]]}}find(c){const d=this.factories.find(g=>g.supports(c));if(d)return d;throw new Oe(901,"")}}return a.\u0275prov=yn({token:a,providedIn:"root",factory:Um}),a})();const vT=[new iu],uv=new lv([new nu]),jm=new cv(vT),bT=ca(null,"core",[{provide:zE,useValue:"unknown"},{provide:nT,deps:[zs]},{provide:XE,deps:[]},{provide:aw,deps:[]}]),CT=[{provide:Vm,useClass:Vm,deps:[Qs,zs,Fl,Df,Sd]},{provide:Py,deps:[Qs],useFactory:function ru(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(c){l.push(c)}}},{provide:Sd,useClass:Sd,deps:[[new Be,Ky]]},{provide:Lm,useClass:Lm,deps:[]},GE,{provide:lv,useFactory:function Ss(){return uv},deps:[]},{provide:cv,useFactory:function wT(){return jm},deps:[]},{provide:Jy,useFactory:function dv(a){return a||function hv(){return"undefined"!=typeof $localize&&$localize.locale||um}()},deps:[[new Ce(Jy),new Be,new ft]]},{provide:Ki,useValue:"USD"}];let Pf=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(Rn(Vm))},a.\u0275mod=Ut({type:a}),a.\u0275inj=Dr({providers:CT}),a})()},3942:(Xe,ye,P)=>{P.d(ye,{Z:()=>Oe});var s=P(2090),J=P(4859),F=P(9681),le=P(1877);class ce{constructor(pe,ge){this._delegate=pe,this.firebase=ge,(0,F._addComponent)(pe,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(pe,ge=F._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(pe);return!Ge.isInitialized()&&"EXPLICIT"===(null===(Re=Ge.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:ge})}_removeServiceInstance(pe,ge=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(ge)}_addComponent(pe){(0,F._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,F._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function fe(){const qe=function ue(qe){const pe={},ge={__esModule:!0,initializeApp:function Le(We,we={}){const z=F.initializeApp(We,we);if((0,s.r3)(pe,z.name))return pe[z.name];const ne=new qe(z,ge);return pe[z.name]=ne,ne},app:Ge,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Se(We){const we=We.name,z=we.replace("-compat","");if(F._registerComponent(We)&&"PUBLIC"===We.type){const ne=(he=Ge())=>{if("function"!=typeof he[z])throw te.create("invalid-app-argument",{appName:we});return he[z]()};void 0!==We.serviceProps&&(0,s.ZB)(ne,We.serviceProps),ge[z]=ne,qe.prototype[z]=function(...he){return this._getService.bind(this,we).apply(this,We.multipleInstances?he:[])}}return"PUBLIC"===We.type?ge[z]:null},removeApp:function Re(We){delete pe[We]},useAsService:function it(We,we){return"serverAuth"===we?null:we},modularAPIs:F}};function Ge(We){if(!(0,s.r3)(pe,We=We||F._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:We});return pe[We]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function Je(){return Object.keys(pe).map(We=>pe[We])}}),Ge.App=qe,ge}(ce);return qe.INTERNAL=Object.assign(Object.assign({},qe.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function pe(ge){(0,s.ZB)(qe,ge)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),qe}(),W=new le.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const qe=self.firebase.SDK_VERSION;qe&&qe.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=G;!function Ee(qe){(0,F.registerVersion)("@firebase/app-compat","0.1.29",qe)}()},9681:(Xe,ye,P)=>{P.r(ye),P.d(ye,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Rs,_DEFAULT_ENTRY_NAME:()=>at,_addComponent:()=>Ii,_addOrOverwriteComponent:()=>yn,_apps:()=>Pn,_clearComponents:()=>so,_components:()=>ln,_getProvider:()=>Dr,_registerComponent:()=>Cr,_removeServiceInstance:()=>pi,deleteApp:()=>ut,getApp:()=>Hi,getApps:()=>Pe,initializeApp:()=>Er,onLog:()=>cn,registerVersion:()=>Zn,setLogLevel:()=>ns});var s=P(5861),J=P(4859),F=P(1877),le=P(2090),ce=P(8766);class ve{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map(Y=>{if(function te(U){const q=U.getComponent();return"VERSION"===(null==q?void 0:q.type)}(Y)){const Ae=Y.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(Y=>Y).join(" ")}}const ue="@firebase/app",G=new F.Yd("@firebase/app"),at="[DEFAULT]",Mt={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pn=new Map,ln=new Map;function Ii(U,q){try{U.container.addComponent(q)}catch(Y){G.debug(`Component ${q.name} failed to register with FirebaseApp ${U.name}`,Y)}}function yn(U,q){U.container.addOrOverwriteComponent(q)}function Cr(U){const q=U.name;if(ln.has(q))return G.debug(`There were multiple attempts to register component ${q}.`),!1;ln.set(q,U);for(const Y of Pn.values())Ii(Y,U);return!0}function Dr(U,q){const Y=U.container.getProvider("heartbeat").getImmediate({optional:!0});return Y&&Y.triggerHeartbeat(),U.container.getProvider(q)}function pi(U,q,Y=at){Dr(U,q).clearInstance(Y)}function so(){ln.clear()}const en=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class qn{constructor(q,Y,Ae){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},Y),this._name=Y.name,this._automaticDataCollectionEnabled=Y.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})}}const Rs="9.9.0";function Er(U,q={}){"object"!=typeof q&&(q={name:q});const Y=Object.assign({name:at,automaticDataCollectionEnabled:!1},q),Ae=Y.name;if("string"!=typeof Ae||!Ae)throw en.create("bad-app-name",{appName:String(Ae)});const ze=Pn.get(Ae);if(ze){if((0,le.vZ)(U,ze.options)&&(0,le.vZ)(Y,ze.config))return ze;throw en.create("duplicate-app",{appName:Ae})}const wt=new J.H0(Ae);for(const fn of ln.values())wt.addComponent(fn);const nn=new qn(U,Y,wt);return Pn.set(Ae,nn),nn}function Hi(U=at){const q=Pn.get(U);if(!q)throw en.create("no-app",{appName:U});return q}function Pe(){return Array.from(Pn.values())}function ut(U){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,s.Z)(function*(U){const q=U.name;Pn.has(q)&&(Pn.delete(q),yield Promise.all(U.container.getProviders().map(Y=>Y.delete())),U.isDeleted=!0)})).apply(this,arguments)}function Zn(U,q,Y){var Ae;let ze=null!==(Ae=Mt[U])&&void 0!==Ae?Ae:U;Y&&(ze+=`-${Y}`);const wt=ze.match(/\s|\//),nn=q.match(/\s|\//);if(wt||nn){const fn=[`Unable to register library "${ze}" with version "${q}":`];return wt&&fn.push(`library name "${ze}" contains illegal characters (whitespace or "/")`),wt&&nn&&fn.push("and"),nn&&fn.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void G.warn(fn.join(" "))}Cr(new J.wA(`${ze}-version`,()=>({library:ze,version:q}),"VERSION"))}function cn(U,q){if(null!==U&&"function"!=typeof U)throw en.create("invalid-log-argument");(0,F.Am)(U,q)}function ns(U){(0,F.Ub)(U)}const Fn="firebase-heartbeat-store";let Tr=null;function Jl(){return Tr||(Tr=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(U,q)=>{0===q&&U.createObjectStore(Fn)}}).catch(U=>{throw en.create("storage-open",{originalErrorMessage:U.message})})),Tr}function ct(){return(ct=(0,s.Z)(function*(U){var q;try{return(yield Jl()).transaction(Fn).objectStore(Fn).get(is(U))}catch(Y){throw en.create("storage-get",{originalErrorMessage:null===(q=Y)||void 0===q?void 0:q.message})}})).apply(this,arguments)}function bt(U,q){return oo.apply(this,arguments)}function oo(){return(oo=(0,s.Z)(function*(U,q){var Y;try{const ze=(yield Jl()).transaction(Fn,"readwrite");return yield ze.objectStore(Fn).put(q,is(U)),ze.done}catch(Ae){throw en.create("storage-set",{originalErrorMessage:null===(Y=Ae)||void 0===Y?void 0:Y.message})}})).apply(this,arguments)}function is(U){return`${U.name}!${U.options.appId}`}class Kt{constructor(q){this.container=q,this._heartbeatsCache=null;const Y=this.container.getProvider("app").getImmediate();this._storage=new rs(Y),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var q=this;return(0,s.Z)(function*(){const Ae=q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ze=Mr();if(null===q._heartbeatsCache&&(q._heartbeatsCache=yield q._heartbeatsCachePromise),q._heartbeatsCache.lastSentHeartbeatDate!==ze&&!q._heartbeatsCache.heartbeats.some(wt=>wt.date===ze))return q._heartbeatsCache.heartbeats.push({date:ze,agent:Ae}),q._heartbeatsCache.heartbeats=q._heartbeatsCache.heartbeats.filter(wt=>{const nn=new Date(wt.date).valueOf();return Date.now()-nn<=2592e6}),q._storage.overwrite(q._heartbeatsCache)})()}getHeartbeatsHeader(){var q=this;return(0,s.Z)(function*(){if(null===q._heartbeatsCache&&(yield q._heartbeatsCachePromise),null===q._heartbeatsCache||0===q._heartbeatsCache.heartbeats.length)return"";const Y=Mr(),{heartbeatsToSend:Ae,unsentEntries:ze}=function mt(U,q=1024){const Y=[];let Ae=U.slice();for(const ze of U){const wt=Y.find(nn=>nn.agent===ze.agent);if(wt){if(wt.dates.push(ze.date),j(Y)>q){wt.dates.pop();break}}else if(Y.push({agent:ze.agent,dates:[ze.date]}),j(Y)>q){Y.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:Y,unsentEntries:Ae}}(q._heartbeatsCache.heartbeats),wt=(0,le.L)(JSON.stringify({version:2,heartbeats:Ae}));return q._heartbeatsCache.lastSentHeartbeatDate=Y,ze.length>0?(q._heartbeatsCache.heartbeats=ze,yield q._storage.overwrite(q._heartbeatsCache)):(q._heartbeatsCache.heartbeats=[],q._storage.overwrite(q._heartbeatsCache)),wt})()}}function Mr(){return(new Date).toISOString().substring(0,10)}class rs{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var q=this;return(0,s.Z)(function*(){return(yield q._canUseIndexedDBPromise)&&(yield function tn(U){return ct.apply(this,arguments)}(q.app))||{heartbeats:[]}})()}overwrite(q){var Y=this;return(0,s.Z)(function*(){var Ae;if(yield Y._canUseIndexedDBPromise){const wt=yield Y.read();return bt(Y.app,{lastSentHeartbeatDate:null!==(Ae=q.lastSentHeartbeatDate)&&void 0!==Ae?Ae:wt.lastSentHeartbeatDate,heartbeats:q.heartbeats})}})()}add(q){var Y=this;return(0,s.Z)(function*(){var Ae;if(yield Y._canUseIndexedDBPromise){const wt=yield Y.read();return bt(Y.app,{lastSentHeartbeatDate:null!==(Ae=q.lastSentHeartbeatDate)&&void 0!==Ae?Ae:wt.lastSentHeartbeatDate,heartbeats:[...wt.heartbeats,...q.heartbeats]})}})()}}function j(U){return(0,le.L)(JSON.stringify({version:2,heartbeats:U})).length}!function $(U){Cr(new J.wA("platform-logger",q=>new ve(q),"PRIVATE")),Cr(new J.wA("heartbeat",q=>new Kt(q),"PRIVATE")),Zn(ue,"0.7.28",U),Zn(ue,"0.7.28","esm2017"),Zn("fire-js","")}("")},4859:(Xe,ye,P)=>{P.d(ye,{H0:()=>ue,wA:()=>F});var s=P(5861),J=P(2090);class F{constructor(G,W,re){this.name=G,this.instanceFactory=W,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const le="[DEFAULT]";class ce{constructor(G,W){this.name=G,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const W=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(W)){const re=new J.BH;if(this.instancesDeferred.set(W,re),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:W});Ze&&re.resolve(Ze)}catch(Ze){}}return this.instancesDeferred.get(W).promise}getImmediate(G){var W;const re=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Ze=null!==(W=null==G?void 0:G.optional)&&void 0!==W&&W;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Ee){if(Ze)return null;throw Ee}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function te(fe){return"EAGER"===fe.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:le})}catch(W){}for(const[W,re]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(W);try{const Ee=this.getOrInitializeService({instanceIdentifier:Ze});re.resolve(Ee)}catch(Ee){}}}}clearInstance(G=le){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,s.Z)(function*(){const W=Array.from(G.instances.values());yield Promise.all([...W.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...W.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=le){return this.instances.has(G)}getOptions(G=le){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:W={}}=G,re=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:re,options:W});for(const[Ee,Oe]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Ee)&&Oe.resolve(Ze);return Ze}onInit(G,W){var re;const Ze=this.normalizeInstanceIdentifier(W),Ee=null!==(re=this.onInitCallbacks.get(Ze))&&void 0!==re?re:new Set;Ee.add(G),this.onInitCallbacks.set(Ze,Ee);const Oe=this.instances.get(Ze);return Oe&&G(Oe,Ze),()=>{Ee.delete(G)}}invokeOnInitCallbacks(G,W){const re=this.onInitCallbacks.get(W);if(re)for(const Ze of re)try{Ze(G,W)}catch(Ee){}}getOrInitializeService({instanceIdentifier:G,options:W={}}){let re=this.instances.get(G);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=G,fe===le?void 0:fe),options:W}),this.instances.set(G,re),this.instancesOptions.set(G,W),this.invokeOnInitCallbacks(re,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,re)}catch(Ze){}var fe;return re||null}normalizeInstanceIdentifier(G=le){return this.component?this.component.multipleInstances?G:le:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const W=this.getProvider(G.name);if(W.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);W.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const W=new ce(G,this);return this.providers.set(G,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(Xe,ye,P)=>{P.d(ye,{Am:()=>fe,Ub:()=>ue,Yd:()=>te,in:()=>J});const s=[];var J=(()=>{return(G=J||(J={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",J;var G})();const F={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},le=J.INFO,ce={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},ve=(G,W,...re)=>{if(W<G.logLevel)return;const Ze=(new Date).toISOString(),Ee=ce[W];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ee](`[${Ze}]  ${G.name}:`,...re)};class te{constructor(W){this.name=W,this._logLevel=le,this._logHandler=ve,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in J))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?F[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...W),this._logHandler(this,J.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...W),this._logHandler(this,J.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,J.INFO,...W),this._logHandler(this,J.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,J.WARN,...W),this._logHandler(this,J.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...W),this._logHandler(this,J.ERROR,...W)}}function ue(G){s.forEach(W=>{W.setLogLevel(G)})}function fe(G,W){for(const re of s){let Ze=null;W&&W.level&&(Ze=F[W.level]),re.userLogHandler=null===G?null:(Ee,Oe,...qe)=>{const pe=qe.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch(Re){return null}}).filter(ge=>ge).join(" ");Oe>=(null!=Ze?Ze:Ee.logLevel)&&G({level:J[Oe].toLowerCase(),message:pe,args:qe,type:Ee.name})}}}},8766:(Xe,ye,P)=>{P.d(ye,{Lj:()=>Le,X3:()=>Ge});var s=P(5861);let F,le;const te=new WeakMap,ue=new WeakMap,fe=new WeakMap,G=new WeakMap,W=new WeakMap;let Ee={get(we,z,ne){if(we instanceof IDBTransaction){if("done"===z)return ue.get(we);if("objectStoreNames"===z)return we.objectStoreNames||fe.get(we);if("store"===z)return ne.objectStoreNames[1]?void 0:ne.objectStore(ne.objectStoreNames[0])}return ge(we[z])},set:(we,z,ne)=>(we[z]=ne,!0),has:(we,z)=>we instanceof IDBTransaction&&("done"===z||"store"===z)||z in we};function pe(we){return"function"==typeof we?function qe(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...z){return we.apply(Re(this),z),ge(te.get(this))}:function(...z){return ge(we.apply(Re(this),z))}:function(z,...ne){const he=we.call(Re(this),z,...ne);return fe.set(he,z.sort?z.sort():[z]),ge(he)}}(we):(we instanceof IDBTransaction&&function Ze(we){if(ue.has(we))return;const z=new Promise((ne,he)=>{const _e=()=>{we.removeEventListener("complete",ke),we.removeEventListener("error",oe),we.removeEventListener("abort",oe)},ke=()=>{ne(),_e()},oe=()=>{he(we.error||new DOMException("AbortError","AbortError")),_e()};we.addEventListener("complete",ke),we.addEventListener("error",oe),we.addEventListener("abort",oe)});ue.set(we,z)}(we),((we,z)=>z.some(ne=>we instanceof ne))(we,function ce(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,Ee):we)}function ge(we){if(we instanceof IDBRequest)return function re(we){const z=new Promise((ne,he)=>{const _e=()=>{we.removeEventListener("success",ke),we.removeEventListener("error",oe)},ke=()=>{ne(ge(we.result)),_e()},oe=()=>{he(we.error),_e()};we.addEventListener("success",ke),we.addEventListener("error",oe)});return z.then(ne=>{ne instanceof IDBCursor&&te.set(ne,we)}).catch(()=>{}),W.set(z,we),z}(we);if(G.has(we))return G.get(we);const z=pe(we);return z!==we&&(G.set(we,z),W.set(z,we)),z}const Re=we=>W.get(we);function Ge(we,z,{blocked:ne,upgrade:he,blocking:_e,terminated:ke}={}){const oe=indexedDB.open(we,z),vt=ge(oe);return he&&oe.addEventListener("upgradeneeded",Bt=>{he(ge(oe.result),Bt.oldVersion,Bt.newVersion,ge(oe.transaction))}),ne&&oe.addEventListener("blocked",()=>ne()),vt.then(Bt=>{ke&&Bt.addEventListener("close",()=>ke()),_e&&Bt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),vt}function Le(we,{blocked:z}={}){const ne=indexedDB.deleteDatabase(we);return z&&ne.addEventListener("blocked",()=>z()),ge(ne).then(()=>{})}const Je=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],it=new Map;function We(we,z){if(!(we instanceof IDBDatabase)||z in we||"string"!=typeof z)return;if(it.get(z))return it.get(z);const ne=z.replace(/FromIndex$/,""),he=z!==ne,_e=Se.includes(ne);if(!(ne in(he?IDBIndex:IDBObjectStore).prototype)||!_e&&!Je.includes(ne))return;const ke=function(){var oe=(0,s.Z)(function*(vt,...Bt){const On=this.transaction(vt,_e?"readwrite":"readonly");let at=On.store;return he&&(at=at.index(Bt.shift())),(yield Promise.all([at[ne](...Bt),_e&&On.done]))[0]});return function(Bt){return oe.apply(this,arguments)}}();return it.set(z,ke),ke}!function Oe(we){Ee=we(Ee)}(we=>Y2($2({},we),{get:(z,ne,he)=>We(z,ne)||we.get(z,ne,he),has:(z,ne)=>!!We(z,ne)||we.has(z,ne)}))},5861:(Xe,ye,P)=>{function s(F,le,ce,ve,te,ue,fe){try{var G=F[ue](fe),W=G.value}catch(re){return void ce(re)}G.done?le(W):Promise.resolve(W).then(ve,te)}function J(F){return function(){var le=this,ce=arguments;return new Promise(function(ve,te){var ue=F.apply(le,ce);function fe(W){s(ue,ve,te,fe,G,"next",W)}function G(W){s(ue,ve,te,fe,G,"throw",W)}fe(void 0)})}}P.d(ye,{Z:()=>J})}},Xe=>{Xe(Xe.s=8442)}]);